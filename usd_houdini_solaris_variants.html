<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>usd_houdini_solaris_variants</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="Houdini.html">Houdini</a>
</p>


<div id="USD Variants in Solaris"><h2 id="USD Variants in Solaris" class="header"><a href="#USD Variants in Solaris">USD Variants in Solaris</a></h2></div>

<p>
From:<br>
</p>
<div id="USD Variants in Solaris-https://www.youtube.com/watch?v=cE-Bbdspu_8"><h4 id="https://www.youtube.com/watch?v=cE-Bbdspu_8" class="header"><a href="#USD Variants in Solaris-https://www.youtube.com/watch?v=cE-Bbdspu_8"><a href="https://www.youtube.com/watch?v=cE-Bbdspu_8">https://www.youtube.com/watch?v=cE-Bbdspu_8</a></a></h4></div>


<div id="USD Variants in Solaris-Variants"><h3 id="Variants" class="header"><a href="#USD Variants in Solaris-Variants">Variants</a></h3></div>

<p>
Variations fo an asset, saved within the asset.<br>
The variations can be geometry and/or material based: For example:
</p>
<ul>
<li>
Car with various paint materials

<li>
Various cars (vehicles)

<li>
Both

</ul>
<div id="Part 1 - Create An Asset"><h1 id="Part 1 - Create An Asset" class="header"><a href="#Part 1 - Create An Asset">Part 1 - Create An Asset</a></h1></div>

<div id="Part 1 - Create An Asset-USD 'Component Builder'"><h3 id="USD 'Component Builder'" class="header"><a href="#Part 1 - Create An Asset-USD 'Component Builder'">USD 'Component Builder'</a></h3></div>

<p>
The node in called a USD Component Builder node.
</p>

<p>
Importing ready built assets ('/obj')
</p>

<ul>
<li>
Create a Component Builder node (<code>TAB</code> &gt; Component Builder):

<ul>
<li>
This will layout 4 nodes:

<ul>
<li>
1) componentgeometry

<li>
2) materiallibrary

<li>
3) componentmaterial

<li>
4) componentoutput

</ul>
</ul>
<li>
Rename these nodes to pass on node names to the assets (driven by <code>$OS</code> variables)

</ul>
<div id="Part 1 - Create An Asset-USD 'Component Builder'-1) componentgeometry"><h4 id="1) componentgeometry" class="header"><a href="#Part 1 - Create An Asset-USD 'Component Builder'-1) componentgeometry">1) componentgeometry</a></h4></div>

<ul>
<li>
Parameters:

<ul>
<li>
Source (dropdown):

<ul>
<li>
External SOP

<li>
Default/Render:

<ul>
<li>
click on white arrowhead to navigate to obj output node

</ul>
<li>
Proxy &lt;-- optional

<li>
SimProxy &lt;-- optional

</ul>
</ul>
</ul>
<div id="Part 1 - Create An Asset-USD 'Component Builder'-2) materiallibrary"><h4 id="2) materiallibrary" class="header"><a href="#Part 1 - Create An Asset-USD 'Component Builder'-2) materiallibrary">2) materiallibrary</a></h4></div>

<ul>
<li>
Inside:

<ul>
<li>
create material(s)

<li>
all with orange flags are valid

<li>
Default is the first in alphanumeric sorting

</ul>
<li>
Parameters:

<ul>
<li>
Primitives:

<ul>
<li>
path to geo

</ul>
<li>
Material Path:

<ul>
<li>
path to material

</ul>
</ul>
</ul>
 
<div id="Part 1 - Create An Asset-USD 'Component Builder'-3) componentmaterial"><h4 id="3) componentmaterial" class="header"><a href="#Part 1 - Create An Asset-USD 'Component Builder'-3) componentmaterial">3) componentmaterial</a></h4></div>

<ul>
<li>
Combines geo &amp; material nodes (above)

</ul>
<div id="Part 1 - Create An Asset-USD 'Component Builder'-4) componentoutput"><h4 id="4) componentoutput" class="header"><a href="#Part 1 - Create An Asset-USD 'Component Builder'-4) componentoutput">4) componentoutput</a></h4></div>

<ul>
<li>
Name:

<ul>
<li>
&lt;name of asset&gt;

</ul>
<li>
File Name:

<ul>
<li>
&lt;file name to save&gt;

</ul>
<li>
Location:

<ul>
<li>
&lt;full path the save&gt;

</ul>
</ul>
<p>
This will create multiple files and the named file will reference the others (material &amp; geo).
</p>

<ul>
<li>
<code>Generate Thumbnail</code> to have an icon or visual guide when browsing for assets.

</ul>
<div id="Part 1 - Create An Asset-Load back into Houdini"><h3 id="Load back into Houdini" class="header"><a href="#Part 1 - Create An Asset-Load back into Houdini">Load back into Houdini</a></h3></div>

<div id="Part 1 - Create An Asset-Load back into Houdini-Reference Node"><h4 id="Reference Node" class="header"><a href="#Part 1 - Create An Asset-Load back into Houdini-Reference Node">Reference Node</a></h4></div>

<ul>
<li>
Create reference node: 

<ul>
<li>
<code>TAB</code> 'Reference' node:

</ul>
<li>
Parameters:

<ul>
<li>
File Pattern:

<ul>
<li>
&lt;path to asset&gt;

</ul>
</ul>
</ul>
<div id="Part 2 - Create Variants into Asset"><h1 id="Part 2 - Create Variants into Asset" class="header"><a href="#Part 2 - Create Variants into Asset">Part 2 - Create Variants into Asset</a></h1></div>

<div id="Part 2 - Create Variants into Asset-1) component geometry"><h4 id="1) component geometry" class="header"><a href="#Part 2 - Create Variants into Asset-1) component geometry">1) component geometry</a></h4></div>
<p>
Expand the base asset above (component builder setup) with additional nodes of the same type.
</p>

<p>
For each geometry, use a <code>component geometry</code> node (<code>TAB</code> &gt; <code>component geometry</code> or duplicate the existing one).
</p>

<p>
In the Default/Render field, select (arrow icon) the desired geo 'out' node.
</p>

<p>
Repeat for all geo variants.
</p>

<div id="Part 2 - Create Variants into Asset-2) component variants geometry"><h4 id="2) component variants geometry" class="header"><a href="#Part 2 - Create Variants into Asset-2) component variants geometry">2) component variants geometry</a></h4></div>

<p>
Plug all the <code>component geometry</code> nodes into this a new <code>component variants geometry</code> node.
</p>

<p>
NOTE: this results in the material node applying the material to ALL these assets.
</p>

<div id="Part 2 - Create Variants into Asset-3) material library"><h4 id="3) material library" class="header"><a href="#Part 2 - Create Variants into Asset-3) material library">3) material library</a></h4></div>

<p>
Inside the <code>material library</code> node you can create multiple shaders for objects.
</p>

<div id="Part 2 - Create Variants into Asset-4) component material"><h4 id="4) component material" class="header"><a href="#Part 2 - Create Variants into Asset-4) component material">4) component material</a></h4></div>

<p>
You can add <code>component material</code> nodes (or duplicate the existing) and plug in the network and pipe in the material nodes repeatedly for each copy.
</p>


<p>
In the material field, you can drag and drop the variations (created inside the material node). Or, you can just put the path to the materials directly.
</p>

<p>
Each time you add a component material node and connect to the spine and the material library node, you will be multiplying the variants (each combination of geo and material).
</p>

<p>
3 geo and 3 mat will produce 9 variants.
</p>

<p>
In the Scene Graph Tree panel, you can <code>RMB</code> on the imported/referenced asset to choose variants:
</p>
<ul>
<li>
mtl

<li>
geo

</ul>
<div id="Part 2 - Create Variants into Asset-5) explore variants"><h4 id="5) explore variants" class="header"><a href="#Part 2 - Create Variants into Asset-5) explore variants">5) explore variants</a></h4></div>

<p>
The <code>TAB</code> &gt; <code>explore variants</code> node added at the end of the network will expand the variations - and you can adjust the spacing slider to adjust the offset of each variant in the viewport.
</p>

<div id="Part 2 - Create Variants into Asset-Conclusion"><h4 id="Conclusion" class="header"><a href="#Part 2 - Create Variants into Asset-Conclusion">Conclusion</a></h4></div>

<p>
All good, but a messy collection of variants, some of which might contain a mismatch of materials (textures) and geometries. Part 3 gives an alternative wiring to improve variant control.
</p>

<div id="Part 3 - BETTER: Create Variants (with Controlled Material) into Asset"><h1 id="Part 3 - BETTER: Create Variants (with Controlled Material) into Asset" class="header"><a href="#Part 3 - BETTER: Create Variants (with Controlled Material) into Asset">Part 3 - BETTER: Create Variants (with Controlled Material) into Asset</a></h1></div>

<div id="Part 3 - BETTER: Create Variants (with Controlled Material) into Asset-1) component geometry"><h4 id="1) component geometry" class="header"><a href="#Part 3 - BETTER: Create Variants (with Controlled Material) into Asset-1) component geometry">1) component geometry</a></h4></div>

<p>
Same as Part 2 - create the <code>component geometry</code> geo nodes.
</p>

<div id="Part 3 - BETTER: Create Variants (with Controlled Material) into Asset-2) material library"><h4 id="2) material library" class="header"><a href="#Part 3 - BETTER: Create Variants (with Controlled Material) into Asset-2) material library">2) material library</a></h4></div>

<p>
Same as Part 2 - create and populate the <code>material library</code> with your shader nodes.
</p>

<div id="Part 3 - BETTER: Create Variants (with Controlled Material) into Asset-3) component material"><h4 id="3) component material" class="header"><a href="#Part 3 - BETTER: Create Variants (with Controlled Material) into Asset-3) component material">3) component material</a></h4></div>

<p>
The difference here, is that the materials are plugged before the <code>component variants geometry</code> node! So you can have multiple materials per item, but not be applied to ALL items (as in Part 2).
</p>

<div id="Part 3 - BETTER: Create Variants (with Controlled Material) into Asset-4) component variants geometry"><h4 id="4) component variants geometry" class="header"><a href="#Part 3 - BETTER: Create Variants (with Controlled Material) into Asset-4) component variants geometry">4) component variants geometry</a></h4></div>

<p>
As in Part 2: create and wire the <code>component variants geometry</code> node.
</p>

<div id="Part 3 - BETTER: Create Variants (with Controlled Material) into Asset-5) explore variants"><h4 id="5) explore variants" class="header"><a href="#Part 3 - BETTER: Create Variants (with Controlled Material) into Asset-5) explore variants">5) explore variants</a></h4></div>

<p>
As in Part 2: create an optional <code>explore variants</code> to inspect your variants in the viewport (using spacing to taste).
</p>

<div id="Part 3 - BETTER: Create Variants (with Controlled Material) into Asset-Conclusion"><h4 id="Conclusion" class="header"><a href="#Part 3 - BETTER: Create Variants (with Controlled Material) into Asset-Conclusion">Conclusion</a></h4></div>

<p>
By combining geo and material before component variants geometry node, you get a cleaner way to choose variants (in the Scene Graph Tree - <code>RMB</code> on the imported asset).
</p>


<p>
<a href="Houdini.html">Houdini</a>
</p>


<p>
<a href="index.html">index</a>
</p>

</body>
</html>
