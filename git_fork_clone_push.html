<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>git_fork_clone_push</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<div id="[[Git]]"><h2 id="[[Git]]" class="header"><a href="#[[Git]]"><a href="Git.html">Git</a></a></h2></div>

<div id="Contents" class="toc"><h1 id="Contents" class="header"><a href="#Contents">Contents</a></h1></div>
<ul>
<li>
<a href="git_fork_clone_push.html#Push">#Push</a>

<ul>
<li>
<a href="git_fork_clone_push.html#Pushing">#Pushing</a>

<li>
<a href="git_fork_clone_push.html#Echo the Push setting">#Echo the Push setting</a>

</ul>
<li>
<a href="git_fork_clone_push.html#Remotes">#Remotes</a>

<ul>
<li>
<a href="git_fork_clone_push.html#git remote -v">#git remote -v</a>

<li>
<a href="git_fork_clone_push.html#git branch -vv">#git branch -vv</a>

<li>
<a href="git_fork_clone_push.html#Tracking Branches">#Tracking Branches</a>

<li>
<a href="git_fork_clone_push.html#YOU CANNOT SWITCH TO THESE BRANCHES TO EDIT THEM!!!">#YOU CANNOT SWITCH TO THESE BRANCHES TO EDIT THEM!!!</a>

<li>
<a href="git_fork_clone_push.html#Repeated">#Repeated</a>

</ul>
<li>
<a href="git_fork_clone_push.html#Pushing A Local Branch">#Pushing A Local Branch</a>

<li>
<a href="git_fork_clone_push.html#&quot;Pull Requests&quot; (NOTE: Not 'git pull')">#"Pull Requests" (NOTE: Not 'git pull')</a>

<ul>
<li>
<a href="git_fork_clone_push.html#NOTE: All the above is NOT a 'git pull' - this next section is a 'git pull'">#NOTE: All the above is NOT a 'git pull' - this next section is a 'git pull'</a>

</ul>
<li>
<a href="git_fork_clone_push.html#Git Pull">#Git Pull</a>

<li>
<a href="git_fork_clone_push.html#Fetch">#Fetch</a>

<ul>
<li>
<a href="git_fork_clone_push.html#Better Than 'git pull' - use 'git fetch' &amp; 'git merge'">#Better Than 'git pull' - use 'git fetch' &amp; 'git merge'</a>

</ul>
<li>
<a href="git_fork_clone_push.html#Deleting Local 'Remote Branches' (to match remote repo)">#Deleting Local 'Remote Branches' (to match remote repo)</a>

<li>
<a href="git_fork_clone_push.html#Cloning">#Cloning</a>

<li>
<a href="git_fork_clone_push.html#Fork">#Fork</a>

<ul>
<li>
<a href="git_fork_clone_push.html#To Fork a Repo from GitHub">#To Fork a Repo from GitHub</a>

</ul>
</ul>
<div id="Push"><h1 id="Push" class="header"><a href="#Push">Push</a></h1></div>

<p>
There are a few options for the 'push' command:
</p>
<ul>
<li>
'nothing'

<li>
'matching'

<li>
'upstream'

<li>
'current'

<li>
'simple'

</ul>
<p>
NOTE: This affects both the 'push' and 'pull' commands.<br>
<br>
To set the option:
</p>
<pre bash>
# Local git:
git config push.default simple

#Globally:
git config --global push.default current
</pre>

<ul>
<li>
NOTE: simple is the default setting, which isn't echoed if it hasn't be changed on the local machine.

</ul>
<p>
<br>
</p>
<pre bash>
# To echo the setting (if it has ever been altered from the default of 'simple'):
git config push.default
</pre>

<div id="Push-Pushing"><h2 id="Pushing" class="header"><a href="#Push-Pushing">Pushing</a></h2></div>

<pre bash>

git push
# you may have to enter your GitHub username
# you may have to enter your GitHub Personal Access Token (Classic)

git push is equal to git push origin.

{{{bash
# I've been used to doing:

git push origin master
git push origin main
# (the last bit is the branch name. Main is more common these days.)
</pre>


<div id="Push-Pushing-Echo the Push setting"><h4 id="Echo the Push setting" class="header"><a href="#Push-Pushing-Echo the Push setting">Echo the Push setting</a></h4></div>
<pre bash>
# To show the setting in a shell 
git config push.default
 
# If there is no response, the system installed option is active: 'simple'.
</pre>


<div id="Remotes"><h1 id="Remotes" class="header"><a href="#Remotes">Remotes</a></h1></div>

<div id="Remotes-git remote"><h4 id="git remote" class="header"><a href="#Remotes-git remote">git remote</a></h4></div>
<p>
If you've got a local and remote repository, see the locations:<br>
<code>git remote</code> - shows the name of a linked remote (e.g., 'origin')<br>
<code>git remote -v</code> - shows the URLs for reading and writing to the remote<br>
</p>
<div id="Remotes-git branch -vv"><h4 id="git branch -vv" class="header"><a href="#Remotes-git branch -vv">git branch -vv</a></h4></div>
<p>
<code>git remote add &lt;shortcut_name&gt; &lt;URL&gt;</code> - adds a remote repository (with a shortname) to your repo.<br>
<code>git remote rename pb paul</code> - rename the 'shortname'<br>
</p>
<pre bash>
# Adding a remote repo to a local Git repo:
git remote add pb https://github.com/paulboots/greatproj

$ git remote -v
&gt; pb https://github.com/paulboots/greatproj (fetch)
&gt; pb https://github.com/paulboots/greatproj (push)

## Note, to access this repo's branches after fetch:
git branch pb/master
## You could then merge as necessary

</pre>

<p>
<code>git remote show &lt;remote_name&gt;</code> - get info on the remote repo<br>
</p>
<pre bash>
$ git remote show origin

&gt; * remote origin
&gt;   Fetch URL: https://github.com/user/proj
&gt;   Push URL: https://github.com/user/proj
&gt;   HEAD branch: main
&gt;   Remote branches.....etc
</pre>

<p>
<code>git branch -vv</code> - show full name of the remote ('very verbose')<br>
</p>
<pre bash>
# To see alias:
$ git remote
&gt;origin

# To see the full location/name:
$ git remote -v
# This is the result of an https protocol cloned version:
&gt;origin	https://github.com/robholder/working-with-remotes.git (fetch)
&gt;origin	https://github.com/robholder/working-with-remotes.git (push)

# To see the full name of a branch (remote or local). 'vv' is 'very verbose':
$ git branch -vv
# This is the result (showing that the remote master is named origin/master:
&gt;* master 61424b8 [origin/master] 
</pre>

<p>
<code>git remote remove &lt;remote_name&gt;</code> - remove a remote ref from your repository (long or short name). All remote tracking branches will be deleted.<br>
If a remote branch is stored locally (on your machine) it's found in:
</p>
<ul>
<li>
.git/refs/heads/ [for local branches]

<li>
.git/refs/remotes/ [for tracking branches]

</ul>
<div id="Remotes-Tracking Branches"><h4 id="Tracking Branches" class="header"><a href="#Remotes-Tracking Branches">Tracking Branches</a></h4></div>

<p>
If you use 'fetch' to update your local repository, the remote branches get stored with the remote address as a top level in the label:
</p>
<ul>
<li>
origin/master

<li>
origin/my_fixes

</ul>
<p>
These are copies and snapshot of the remote repository at the time that a 'git fetch' is run.
</p>

<div id="Remotes-YOU CANNOT SWITCH TO THESE BRANCHES TO EDIT THEM!!!"><h4 id="YOU CANNOT SWITCH TO THESE BRANCHES TO EDIT THEM!!!" class="header"><a href="#Remotes-YOU CANNOT SWITCH TO THESE BRANCHES TO EDIT THEM!!!">YOU CANNOT SWITCH TO THESE BRANCHES TO EDIT THEM!!!</a></h4></div>

<ul>
<li>
If you switch to 'origin/my_fixes' in the example above, git will create a local 'my_fixes' branch (and not interfere with the 'origin/my_fixes')

<li>
The locally stored copies of the remote branches are 'tracking branches' only.

<li>
If you need to create a local copy of the branch (older command superseded by switch):

<ul>
<li>
git checkout -b &lt;branch_name(local)&gt; &lt;origin/branch_name&gt;

</ul>
</ul>
<div id="Remotes-Repeated"><h4 id="Repeated" class="header"><a href="#Remotes-Repeated">Repeated</a></h4></div>
<p>
If a remote branch is stored locally (on your machine) it's found like so:
</p>
<ul>
<li>
.git/refs/heads/ [for local branches]

<li>
.git/refs/remotes/ [for tracking branches]

</ul>
<div id="Pushing A Local Branch"><h1 id="Pushing A Local Branch" class="header"><a href="#Pushing A Local Branch">Pushing A Local Branch</a></h1></div>

<pre bash>
# To make a branch and switch to it in one command:
git switch -c &lt;local-branch&gt;

# or to do it in steps:
git branch &lt;local-branch&gt;
# or
git switch !$
# or
git switch &lt;local-branch&gt;
# or


git push --set-upstream origin &lt;local-branch&gt;
# or
git push -u origin &lt;local-branch&gt;
# or from the branch:
git push origin HEAD

# After pushing a new branch it should honor your branch location from then on.
</pre>


<div id="&quot;Pull Requests&quot; (NOTE: Not 'git pull')"><h1 id="&quot;Pull Requests&quot; (NOTE: Not 'git pull')" class="header"><a href="#&quot;Pull Requests&quot; (NOTE: Not 'git pull')">"Pull Requests" (NOTE: Not 'git pull')</a></h1></div>

<ul>
<li>
Useful for collaborative projects (otherwise, just merge locally and push to the remote repo).

<li>
Pull Requests are a thing on GitHub. (Not to be confused with pulling into a local repo.)

<li>
Push the local branch first, then submit a pull request to merge it into the master/main on Github.

<li>
A Pull Request is more like a 'merge request' on GitHub.

<li>
The request is approved or rejected before you can activate and proceed.

<li>
GitHub creates Merge commits, not fast-forward merges.

</ul>
<div id="&quot;Pull Requests&quot; (NOTE: Not 'git pull')-NOTE: All the above is NOT a 'git pull' - this next section is a 'git pull'"><h4 id="NOTE: All the above is NOT a 'git pull' - this next section is a 'git pull'" class="header"><a href="#&quot;Pull Requests&quot; (NOTE: Not 'git pull')-NOTE: All the above is NOT a 'git pull' - this next section is a 'git pull'">NOTE: All the above is NOT a 'git pull' - this next section is a 'git pull'</a></h4></div>

<div id="Git Pull"><h1 id="Git Pull" class="header"><a href="#Git Pull">Git Pull</a></h1></div>
<div id="Git Pull-(Use cautiously!)"><h4 id="(Use cautiously!)" class="header"><a href="#Git Pull-(Use cautiously!)">(Use cautiously!)</a></h4></div>
<p>
Not to be confused with a 'pull' to update a local repository:
</p>
<pre bash>
# Pull updates from the remote repository:
git pull origin master
# or more likely for newer repos:
git pull origin main

# NOTE: GIT PULL is equivalent to doing a git fetch and a git merge!!!
# Fetch updates the 'remote branches':
git fetch
# then merge and fix conflicts by hand:
git merge &lt;other branch - remote or custom&gt;
</pre>

<div id="Git Pull-NOTE: 'git pull' is equvalent to using 'git fetch' &amp; 'git merge &lt;branch&gt;'."><h4 id="NOTE: 'git pull' is equvalent to using 'git fetch' &amp; 'git merge &lt;branch&gt;'." class="header"><a href="#Git Pull-NOTE: 'git pull' is equvalent to using 'git fetch' &amp; 'git merge &lt;branch&gt;'.">NOTE: 'git pull' is equvalent to using 'git fetch' &amp; 'git merge &lt;branch&gt;'.</a></h4></div>

<div id="Fetch"><h1 id="Fetch" class="header"><a href="#Fetch">Fetch</a></h1></div>

<div id="Fetch-Better Than 'git pull' - use 'git fetch' &amp; 'git merge'"><h4 id="Better Than 'git pull' - use 'git fetch' &amp; 'git merge'" class="header"><a href="#Fetch-Better Than 'git pull' - use 'git fetch' &amp; 'git merge'">Better Than 'git pull' - use 'git fetch' &amp; 'git merge'</a></h4></div>

<ul>
<li>
Fetch updates the 'remote tracking' branches (in the local repository).

<li>
Fetch updates ALL remote tracking branches on your local repo (regardless of which branch you are 'on').

<li>
Fetch grabs the branch data from the remote repo, and stores them in the local repo (e.g. origin/master)

<li>
Fetch pulls the remote branches but does not merge them.<br>

</ul>
<p>
You can appear to switch to a remote tracking branch, but it makes a local version of the branch (to work on) and this can be pushed back to the remote repo (to update the remote branch of the same name on the remote repo).
You cannot edit the remote tracking branches on your local repo. They record the state of the remote repo at the time of the last fetch.
</p>
<ul>
<li>
For example; 'origin/my_branch' (local) becomes a copy, 'my_branch' if you switch to it locally in your local repo.

<li>
The 'origin/my_branch' is always a reference of the remote repo, as fetched.
<pre bash>
# use branch to see what's going on:
git branch -vv -a

# To fetch (all branches) to the local git:
git fetch
# or even  better:
git fetch -p

# You can proceed to merge commits as seen fit (main/master/other)
# To merge 'master' and 'origin/master' (when you are 'on' the master branch):
git merge origin/master

# This way, you can preview merge issues and make decisions accordingly (unlike pull that merges)
# And you can do a 'diff' before merging like this:
git diff master origin/master
</pre>

</ul>
<div id="Deleting Local 'Remote Branches' (to match remote repo)"><h1 id="Deleting Local 'Remote Branches' (to match remote repo)" class="header"><a href="#Deleting Local 'Remote Branches' (to match remote repo)">Deleting Local 'Remote Branches' (to match remote repo)</a></h1></div>
<p>
To delete local 'remote tracking' branches (that have been removed and deleted from the remote repo):
</p>
<pre bash>
# --prune flag:
git fetch -p

# or
git fetch --prune
</pre>

<p>
...now delete any 'local branch' branches (derived from the 'remote branch') in the usual manner. Let's see how to find out what to delete.
</p>

<p>
NOTE: You can see what's going on after running 'git fetch -p' by running 'git branch -vv':
</p>
<pre bash>
# Notice that the origin/&lt;branch&gt; listing shows 'gone' in the output. This means the remote
# repo no longer has these branches - they've been deleted.
# Here git branch -vv shows all branches including remote branches:
$ git branch -vv
  addison-add-faqs    e33c6b8 [origin/addison-add-faqs: gone] add third FAQ
* master              61424b8 [origin/master: behind 6] addison's first commit
  sangita-add-profile 87a2ef7 [origin/sangita-add-profile: gone] update Profile
  
# the --all or -a flag shows you what branches are in your cloned repo:
$ git branch -a
* master
  remotes/origin/HEAD -&gt; origin/master
  remotes/origin/master
</pre>

<p>
<code>git branch -d &lt;branch-name&gt;</code> - delete a branch, only if already merged<br>
<code>git branch -D &lt;branch-name&gt;</code> - delete a branch, including if not already merged (exercise caution here)<br>
</p>

<pre bash>
# Delete local branch:
git branch -d &lt;my_useless_branch&gt;
# or to disregard the merge status:
git branch -D &lt;my_useless_branch&gt;
</pre>


<p>
Deleting branches from the remote repo from a local repo:
</p>
<pre bash>
git branch -d origin &lt;branch-to-delete-name&gt;
# or
git branch -D origin &lt;branch-to-delete-name&gt;
</pre>

<div id="Cloning"><h1 id="Cloning" class="header"><a href="#Cloning">Cloning</a></h1></div>

<pre bash>
# To clone a repo (where url is copied from GitHub or similar):
git clone &lt;some-url&gt;

# Example:
git clone https://github.com/looselytyped/working-with-remotes.git

# To save repo with a new name
git clone &lt;some-url&gt; &lt;new name&gt;

# Example
git clone https://github.com/looselytyped/working-with-remotes.git my_name_repo
</pre>

<ul>
<li>
Cloned repositories can be renamed after cloning. The directory name doesn't affect the git functionality.

</ul>
<div id="Cloning-Cloning a local Repo (same machine/server)"><h3 id="Cloning a local Repo (same machine/server)" class="header"><a href="#Cloning-Cloning a local Repo (same machine/server)">Cloning a local Repo (same machine/server)</a></h3></div>
<pre bash>
# To clone a local repo to a 'bare' local repo (named with '.git' for clarity):
# (Run in enclosing dire of the existing regular repo)
git clone --bare &lt;repo&gt; &lt;path_to_repo.git&gt;
## Pushing and pulling might need the origin to be switched to alternative branch to allow for remote push.
## Since the local clone might be a full repo, and not a bare repo (i.e., with out workable branches).
</pre>
 
<div id="Cloning-Creating a Bare Repository on a Local Machine"><h3 id="Creating a Bare Repository on a Local Machine" class="header"><a href="#Cloning-Creating a Bare Repository on a Local Machine">Creating a Bare Repository on a Local Machine</a></h3></div>
<p>
A bare repository is a repository that does not contain a working directory. It is typically used as a central repository to store and share code among multiple developers. To create a bare repository, run the following command:
</p>

<pre bash>
mkdir mydir.git
cd !$
# or:
cd mydir.get
# To initialize as a bare repo:
git init --bare
</pre>

<div id="Fork"><h1 id="Fork" class="header"><a href="#Fork">Fork</a></h1></div>
 
<ul>
<li>
Forking - this is a GitHub thing (not 'Git' proper).

<li>
GitHub offers a Fork option, a 'Fork' button in the top-right of a repo page.

<li>
'Forking' just copies a repository to YOUR GitHub account

<li>
Fork a repo before cloning if you are using it for collaboration where you don't have permissions in the original repository.

<li>
Forks can't be set to private (by default). There are workarounds if needed.

</ul>
<div id="Fork-To Fork a Repo from GitHub"><h2 id="To Fork a Repo from GitHub" class="header"><a href="#Fork-To Fork a Repo from GitHub">To Fork a Repo from GitHub</a></h2></div>

<ul>
<li>
Go to the GitHub (original) Repository

<li>
Click the 'Fork' button

<li>
Complete the form page (if necessary)

<li>
Click on 'Create fork' button.

<li>
The repo will be copied to your account as a Fork. (You cannot mark as Private BTW.)

</ul>
<div id="Fork-[[Git]]"><h2 id="[[Git]]" class="header"><a href="#Fork-[[Git]]"><a href="Git.html">Git</a></a></h2></div>

</body>
</html>
