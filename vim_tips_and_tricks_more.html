<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<title>vim_tips_and_tricks_more</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a><br>
</p>

<p>
<a href="vim_learning.html">Vim Learning</a>
</p>

<div id="More Vim Tips"><h1 id="More Vim Tips" class="header"><a href="#More Vim Tips">More Vim Tips</a></h1></div>

<div id="More Vim Tips-Scrolling"><h2 id="Scrolling" class="header"><a href="#More Vim Tips-Scrolling">Scrolling</a></h2></div>

<p>
<code>:set scrolloff=5</code> &lt;-- trigger 'page scroll' this many lines from top or bottom
</p>

<div id="More Vim Tips-Scrolling-Wrap recap"><h3 id="Wrap recap" class="header"><a href="#More Vim Tips-Scrolling-Wrap recap">Wrap recap</a></h3></div>

<p>
<code>:set textwidth=78</code> &lt;-- width where a newline will be inserted automatically  <br>
<code>:set textwidth=0</code> &lt;-- switch off auto-newline  <br>
<code>:set wrap</code> &lt;-- 'visually' break lines (no 'real' newline) <br> 
<code>:set linebreak</code> &lt;-- break on spaces, not mid-word <br> 
<code>:set showbreak=&gt;\ </code> &lt;-- when there is a (visual) linebreak, show the symbol "&gt; " (backslash escapes a space inserted before the end of the command)
</p>

<div id="More Vim Tips-Misc"><h2 id="Misc" class="header"><a href="#More Vim Tips-Misc">Misc</a></h2></div>

<div id="More Vim Tips-Misc-Show/hide 'modes':"><h3 id="Show/hide 'modes':" class="header"><a href="#More Vim Tips-Misc-Show/hide 'modes':">Show/hide 'modes':</a></h3></div>
<p>
<code>:set showmode</code> &lt;-- show --INSERT--, --VISUAL-- etc. <br>
<code>:set noshowmode</code> &lt;-- show modes off <br>
</p>

<div id="More Vim Tips-Misc-Wildmode:"><h3 id="Wildmode:" class="header"><a href="#More Vim Tips-Misc-Wildmode:">Wildmode:</a></h3></div>
<p>
<code>:set wildmode=full</code> &lt;-- shows autocompleted options as list to tab through <br>
</p>

<div id="More Vim Tips-Misc-Horizontal Line with Cursor:"><h3 id="Horizontal Line with Cursor:" class="header"><a href="#More Vim Tips-Misc-Horizontal Line with Cursor:">Horizontal Line with Cursor:</a></h3></div>
<p>
<code>:set cursorline</code> &lt;-- shows horizonal line under line containing the cursor <br>
</p>

<div id="More Vim Tips-Misc-Set a file to hold Undo history:"><h3 id="Set a file to hold Undo history:" class="header"><a href="#More Vim Tips-Misc-Set a file to hold Undo history:">Set a file to hold Undo history:</a></h3></div>
<p>
This option saves a file in tandom with a buffer/file. Careful with build up of files! <br>
<code>:set undofile</code> &lt;-- saves undos to a file (allows for undos on re-opening) <br>
</p>

<div id="More Vim Tips-Misc-Default search replace all line"><h3 id="Default search replace all line" class="header"><a href="#More Vim Tips-Misc-Default search replace all line">Default search replace all line</a></h3></div>
<p>
I don't really like this, but this negates the need for a 'g' at the end of a substitution: <br>
<code>:set gdefault</code> &lt;-- negate requirement for 'g' in s/old/new/g substitution <br>
</p>

<div id="More Vim Tips-Registers"><h2 id="Registers" class="header"><a href="#More Vim Tips-Registers">Registers</a></h2></div>

<p>
There are registers for all letter characters and some other characters too.
To see the current register contents, type the command:<br>
<code>:reg</code> &lt;-- show registers <br>
</p>

<p>
<code>:"add</code> &lt;-- delete a line and add it to the 'a' register.
</p>

<p>
Yanking (copying) stores the result in the "" and the "0 registers. So if you accidentally delete something (which goes to only the "" register), you can still fall back on "0 to paste (p)<br>
<code>p</code> &lt;-- 'pastes' from <code>""</code><br>
<code>"0</code> &lt;-- 'pastes' from <code>"0</code>, which stores yanked by not deleted text<br>
</p>

<div id="More Vim Tips-Registers-Registers are Macros"><h3 id="Registers are Macros" class="header"><a href="#More Vim Tips-Registers-Registers are Macros">Registers are Macros</a></h3></div>

<p>
When storing a macro, the commands are actually stored to a register. The benefit to this is that the macro can be pasted, edited and re-insterted into the register!<br>
Example:<br>
<code>qq</code> &lt;-- start recording<br>
<code>macro here</code><br>
<code>q</code> &lt;-- stop recording<br>
</p>


<p>
The macro can be edited by:<br>
<code>"qp</code> &lt;-- pastes the contents of macro in the q register<br>
<code>edit macro here</code><br>
<code>"qdd</code> &lt;-- replace the q register with the edited macro<br>
</p>

<p>
Now the new edited macro can be called normally with:<br>
<code>@q</code><br>
or:<br>
<code>5@q</code> to repeat 5 times!<br>
</p>

<div id="More Vim Tips-Registers-Registers are Macros-Some cryptic code"><h4 id="Some cryptic code" class="header"><a href="#More Vim Tips-Registers-Registers are Macros-Some cryptic code">Some cryptic code</a></h4></div>
<p>
<code>^J</code> &lt;-- shows a newline in a register <br>
<code>^I</code> &lt;-- shows a tab in a register <br>
</p>

<div id="Actions in Insert Mode"><h1 id="Actions in Insert Mode" class="header"><a href="#Actions in Insert Mode">Actions in Insert Mode</a></h1></div>
<div id="Actions in Insert Mode-delete"><h4 id="delete" class="header"><a href="#Actions in Insert Mode-delete">delete</a></h4></div>
<p>
<code>&lt;ctrl&gt;h</code> &lt;-- backspace<br>
<code>&lt;ctrl&gt;w</code> &lt;-- backspace a whole word<br>
<code>&lt;ctrl&gt;u</code> &lt;-- delete to the beginning of the line you're on<br>
</p>

<div id="Actions in Insert Mode-enter special keys"><h4 id="enter special keys" class="header"><a href="#Actions in Insert Mode-enter special keys">enter special keys</a></h4></div>
<p>
To enter Vim special keys while in insert mode:<br>
<code>&lt;ctrl&gt;v[then special key]</code> &lt;-- to add characters like &lt;esc&gt;, &lt;tab&gt;<br>
example:<br>
<code>&lt;ctrl&gt;v&lt;esc&gt;</code> &lt;-- enter esc as <code>^[</code><br>
<code>&lt;ctrl&gt;v&lt;enter&gt;</code> &lt;-- enter Enter key as <code>^M</code><br>
Or to enter unicodes:<br>
<code>&lt;ctrl&gt;vu&lt;unicode code number&gt;</code> &lt;-- 00a3 - will produce: <code>Â£</code><br>
</p>

<div id="Actions in Insert Mode-use a normal mode action"><h4 id="use a normal mode action" class="header"><a href="#Actions in Insert Mode-use a normal mode action">use a normal mode action</a></h4></div>
<p>
<code>&lt;ctrl&gt;o</code> &lt;-- perform one 'normal mode' action while in insert mode<br>
example:<br>
<code>&lt;ctrl&gt;oj</code> &lt;-- move down one line<br>
</p>

<div id="Actions in Insert Mode-Pasting from registers"><h4 id="Pasting from registers" class="header"><a href="#Actions in Insert Mode-Pasting from registers">Pasting from registers</a></h4></div>
<p>
Paste a register while in insert mode:<br>
<code>&lt;ctrl&gt;r&lt;register name&gt;</code> &lt;-- where 'register name' is a letter or key<br>
example:<br>
<code>&lt;ctrl&gt;r"</code> &lt;-- paste the default register<br>
<code>&lt;ctrl&gt;ra</code> &lt;-- paste register 'a'<br>
</p>

<div id="Actions in Insert Mode-Doing Math"><h4 id="Doing Math" class="header"><a href="#Actions in Insert Mode-Doing Math">Doing Math</a></h4></div>
<p>
<code>&lt;ctrl&gt;r=[expression]</code> &lt;-- perform calculation or evaluation of expression<br>
example:<br>
<code>&lt;ctrl&gt;r=8*7</code> &lt;-- This will enter 56<br>
</p>

<div id="Editing in Command-line-mode"><h1 id="Editing in Command-line-mode" class="header"><a href="#Editing in Command-line-mode">Editing in Command-line-mode</a></h1></div>
<div id="Editing in Command-line-mode-When in commandline mode, you need a new swathe of tools to navigate!"><h3 id="When in commandline mode, you need a new swathe of tools to navigate!" class="header"><a href="#Editing in Command-line-mode-When in commandline mode, you need a new swathe of tools to navigate!">When in commandline mode, you need a new swathe of tools to navigate!</a></h3></div>
<p>
<code>&lt;Esc&gt;</code>        abandon command-line without executing it<br>
<code>&lt;ctrl&gt;c</code>       abandon command-line without executing it<br>
<br>
<code>&lt;ctrl&gt;r &lt;register&gt;</code>  paste from a register into the commandline. (<code>&lt;ctrl&gt;R</code> will show <code>:"</code>, then type a register name (<code>+</code> for the system, <code>"</code> for the latest vim yank or delete)<br>
<code>&lt;ctrl&gt;b</code>       cursor to begin of command-line<br>
<code>&lt;ctrl&gt;e</code>       cursor to end   of command-line<br>
<br>
<code>&lt;ctrl&gt;f</code>       opens the command-line window (unless a different key is specified in 'cedit')<br>
<code>q:</code>         opens the command-line window (unless a different key is specified in 'cedit')<br>
<br>
<code>&lt;ctrl&gt;h</code>       delete the character  in front of the cursor (same as &lt;Backspace&gt;)<br>
<code>&lt;ctrl&gt;w</code>       delete the word       in front of the cursor<br>
<code>&lt;ctrl&gt;u</code>       delete all characters in front of the cursor<br>
<br>
<code>&lt;ctrl&gt;p</code>       recall previous command-line from history (that matches pattern in front of the cursor)<br>
<code>&lt;ctrl&gt;n</code>       recall next     command-line from history (that matches pattern in front of the cursor)<br>
<code>&lt;Up&gt;</code>         recall previous command-line from history (that matches pattern in front of the cursor)<br>
<code>&lt;Down&gt;</code>       recall next     command-line from history (that matches pattern in front of the cursor)<br>
<code>&lt;shift&gt;&lt;up&gt;</code>       recall previous command-line from history<br>
<code>&lt;shift&gt;&lt;down&gt;</code>     recall next     command-line from history<br>
<code>&lt;PageUp&gt;</code>     recall previous command-line from history<br>
<code>&lt;PageDown&gt;</code>   recall next     command-line from history<br>
<br>
<code>&lt;shift&gt;&lt;left&gt;</code>     cursor one word left<br>
<code>&lt;ctrl&gt;&lt;left&gt;</code>     cursor one word left<br>
<code>&lt;shift&gt;&lt;right&gt;</code>    cursor one word right<br>
<code>&lt;ctrl&gt;&lt;right&gt;</code>    cursor one word right<br>
<br>
<code>&lt;LeftMouse&gt;</code>  cursor at mouse click
</p>

<div id="Abbreviations"><h1 id="Abbreviations" class="header"><a href="#Abbreviations">Abbreviations</a></h1></div>

<p>
Abbreviations allow for substitutions that expand when typed. They can be set for insert and commandline modes.<br>
</p>
<ul>
<li>
Commandline abbreviation to sub 'the' when 'teh' is accidentally typed (and this will be applied in insert and commandline modes):
<pre vim>
:abbrev teh the
</pre>

<li>
Reverse:
<pre vim>
:unabbrev the
</pre>

</ul>

<ul>
<li>
When adding to a vimrc (config) file, you can set for insert or commandline:
<pre vim>
" Insert mode:
inoreabbrev teh the
" Commandline mode:
cnoreabbrev teh the
</pre>

</ul>

<div id="Abbreviations-Example to trigger a common python line"><h3 id="Example to trigger a common python line" class="header"><a href="#Abbreviations-Example to trigger a common python line">Example to trigger a common python line</a></h3></div>
<pre vim>
" if __name__ abbreviation, triggered if [ifmain] is typed:
inoreabbrev ifmain if __name__ == "__main__":
</pre>

<div id="Abbreviations-Example using a Timestamp"><h3 id="Example using a Timestamp" class="header"><a href="#Abbreviations-Example using a Timestamp">Example using a Timestamp</a></h3></div>

<p>
<code>inoreabbrev</code> + <code>&lt;expr&gt;</code> + <code>abbreviation</code> + <code>strftime(" &lt;variables ")</code><br>
<br>
Any double quotes to include in the sub, should be escaped:<br>
<br>
</p>
<pre vim>
inoreabbrev &lt;expr&gt; rrr strftime("%y/%m/%d&lt;cr&gt;__version__ = \"0.0.1\"&lt;cr&gt;&lt;cr&gt;")
</pre>
<p>
...yields:<br>
</p>
<pre vim>
23/04/10
__version__ = "0.0.1"
</pre>

<div id="Abbreviations-Example using a Timestamp-STRFTIME Variables"><h4 id="STRFTIME Variables" class="header"><a href="#Abbreviations-Example using a Timestamp-STRFTIME Variables">STRFTIME Variables</a></h4></div>

<table>
<tr>
<th>
Format String
</th>
<th>
Example Output
</th>
</tr>
<tr>
<td>
%c
</td>
<td>
Thu 27 Sep 2007 07:37:42 AM EDT (depends on locale)
</td>
</tr>
<tr>
<td>
%a %d %b %Y
</td>
<td>
Thu 27 Sep 2007
</td>
</tr>
<tr>
<td>
%b %d, %Y
</td>
<td>
Sep 27, 2007
</td>
</tr>
<tr>
<td>
%d/%m/%y %H:%M:%S
</td>
<td>
27/09/07 07:36:32
</td>
</tr>
<tr>
<td>
%H:%M:%S
</td>
<td>
07:36:44
</td>
</tr>
<tr>
<td>
%T
</td>
<td>
07:38:09
</td>
</tr>
<tr>
<td>
%m/%d/%y
</td>
<td>
09/27/07
</td>
</tr>
<tr>
<td>
%y%m%d
</td>
<td>
070927
</td>
</tr>
<tr>
<td>
%x %X (%Z)
</td>
<td>
09/27/2007 08:00:59 AM (EDT)
</td>
</tr>
<tr>
<td>
%Y-%m-%d
</td>
<td>
2016-11-23
</td>
</tr>
<tr>
<td>
%F
</td>
<td>
2016-11-23 (works on some systems)
</td>
</tr>
</table>

<div id="Tables"><h1 id="Tables" class="header"><a href="#Tables">Tables</a></h1></div>

<p>
Create a table with <code>VimwikiTable &lt;col&gt; &lt;row&gt;</code> command:<br>
<br>
</p>
<pre vim>
:VimwikiTable 2 12
</pre>

<p>
I created the abbreviation table above by the command above, then &lt;ctrl&gt;v to visually select the existing column data from a website. So the text was pasted into the correct column.<br>
Next, I used <code>gww</code> (normal mode) to reformat the table (cursor in the table somewhere).<br>
</p>


<table>
<tr>
<th>
Col A
</th>
<th>
Col B
</th>
</tr>
<tr>
<td>
hello
</td>
<td>
a
</td>
</tr>
<tr>
<td>
goodbye
</td>
<td>
b
</td>
</tr>
</table>

<p>
Inserting a <code>&lt;cr&gt;</code> after the last column line will create another row.<br>
<code>a &lt;right arrow&gt;</code> will navigate to the next column.<br>
<code>a &lt;left arrow&gt;</code> will navigate back to the previous column.<br>
</p>

</body>
</html>
