<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>thirteen_lines</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="Houdini.html">Houdini</a>
</p>

<div id="Thirteen Lines of Python"><h1 id="Thirteen Lines of Python" class="header"><a href="#Thirteen Lines of Python">Thirteen Lines of Python</a></h1></div>
<div id="Thirteen Lines of Python-https://www.youtube.com/watch?app=desktop&amp;v=PxGTukMnu2U"><h5 id="https://www.youtube.com/watch?app=desktop&amp;v=PxGTukMnu2U" class="header"><a href="#Thirteen Lines of Python-https://www.youtube.com/watch?app=desktop&amp;v=PxGTukMnu2U"><a href="https://www.youtube.com/watch?app=desktop&amp;v=PxGTukMnu2U">https://www.youtube.com/watch?app=desktop&amp;v=PxGTukMnu2U</a></a></h5></div>
<div id="Contents" class="toc"><h1 id="Contents" class="header"><a href="#Contents">Contents</a></h1></div>
<ul>
<li>
<a href="thirteen_lines.html#Thirteen Lines of Python">Thirteen Lines of Python</a>

<ul>
<li>
<a href="thirteen_lines.html#Thirteen Lines of Python-A Pipeline in 13 lines of Python">A Pipeline in 13 lines of Python</a>

<ul>
<li>
<a href="thirteen_lines.html#Thirteen Lines of Python-A Pipeline in 13 lines of Python-Why?">Why?</a>

</ul>
<li>
<a href="thirteen_lines.html#Thirteen Lines of Python-Environment Variables">Environment Variables</a>

<li>
<a href="thirteen_lines.html#Thirteen Lines of Python-Lesson Goals">Lesson Goals</a>

</ul>
<li>
<a href="thirteen_lines.html#Creating Tool">Creating Tool</a>

<ul>
<li>
<a href="thirteen_lines.html#Creating Tool-Change shot to a drop down or new name">Change shot to a drop down or new name</a>

</ul>
<li>
<a href="thirteen_lines.html#Creating Tool-Quick Jump">Quick Jump</a>

<li>
<a href="thirteen_lines.html#Creating Tool-123.cmd">123.cmd</a>

</ul>
<div id="Thirteen Lines of Python-A Pipeline in 13 lines of Python"><h2 id="A Pipeline in 13 lines of Python" class="header"><a href="#Thirteen Lines of Python-A Pipeline in 13 lines of Python">A Pipeline in 13 lines of Python</a></h2></div>

<div id="Thirteen Lines of Python-A Pipeline in 13 lines of Python-Why?"><h3 id="Why?" class="header"><a href="#Thirteen Lines of Python-A Pipeline in 13 lines of Python-Why?">Why?</a></h3></div>

<ul>
<li>
<code>Consistency</code>:

<ul>
<li>
All files will be organized the same way no matter what you are working on

<li>
Finding files and folders will be a matter of muscle memory

</ul>
<li>
<code>Portability</code>:

<ul>
<li>
You will be able to work on files on any machine/location without having to re-path anything.

</ul>
<li>
<code>Flexibility</code>:

<ul>
<li>
You can move to a new machine and/or directory structure without having to worry about re-pathing files.

</ul>
<li>
<code>Professional</code> Development:

<ul>
<li>
All studios use a "shot environment," so you should get used to the concept and comfortable working in it.

<li>
You will also learn some basic Python!

</ul>
</ul>
<div id="Thirteen Lines of Python-Environment Variables"><h2 id="Environment Variables" class="header"><a href="#Thirteen Lines of Python-Environment Variables">Environment Variables</a></h2></div>

<p>
In a text port in Houdini:
</p>
<pre>
echo $HOME
</pre>

<p>
..it'll show you your home (users) directory.
</p>

<p>
In this lesson we'll be looking at Hscript &amp; Python.
</p>

<div id="Thirteen Lines of Python-Script/App/Tool/Utility Goals"><h2 id="Script/App/Tool/Utility Goals" class="header"><a href="#Thirteen Lines of Python-Script/App/Tool/Utility Goals">Script/App/Tool/Utility Goals</a></h2></div>

<p>
Create a dialog to:
</p>
<ul>
<li>
Allow user to change root of project

<li>
Allow user to choose shot to work on

<li>
Allow user to make new shots

<li>
Create directories as necessary

<li>
Create necessary environment variables

</ul>
<div id="Creating Tool"><h1 id="Creating Tool" class="header"><a href="#Creating Tool">Creating Tool</a></h1></div>
<p>
Step by step process within Houdini
</p>

<ul>
<li>
Create <code>subnetwork</code> node:

<ul>
<li>
Inside of '/obj'

</ul>
<li>
Convert to Digital Asset

<ul>
<li>
<code>RMB</code> on subnetwork node &gt; Create Digital Asset

<li>
Name - 'my_tool'

</ul>
<li>
Edit Operator Type Properties window opens

<ul>
<li>
Make existing parameters invisible:

<ul>
<li>
select existing folders and click on Parameter Description panel &gt; 'Invisible' check box (on)

<li>
leave 'root'

</ul>
</ul>
<li>
Add 'string':

<ul>
<li>
Drag from Create Parameters panel (String) to 'root' in 'Existing Parameters'

<li>
In Parameter Description Panel:

<ul>
<li>
Name bd

<li>
Label: Base Directory

<li>
Type: <code>File - Directory</code> from pop-up

<li>
In Channels Tab, add a default path ($HOME/blah/)

</ul>
</ul>
<li>
Add 'Button':

<ul>
<li>
Drag from Create Parameters panel (Button) to root in 'Existing Parameters'

<li>
Name: doit

<li>
Label: Do It

<li>
Callback Script field:

<ul>
<li>
Python

</ul>
<li>
Scripts tab:

<ul>
<li>
Custom Scripts pop-up to Python Module

</ul>
<li>
Back in Parameters, point to module:

<ul>
<li>
<code>hou.phm().init()</code>

</ul>
<li>
In scripts tab again:
<pre>
def init():
print("Hello World")
</pre>

</ul>
<li>
Duplicate Base Directory parameter (select 'Base Directory item under 'root, and <code>d</code>):

<ul>
<li>
Name: shot

<li>
Label: Shot

<li>
change default to 'shotA'

</ul>
<li>
Add 'Button':

<ul>
<li>
Name: subd

<li>
Label Sub Dirs

<li>
Defaults:

<ul>
<li>
GEO HIP RENDER

</ul>
</ul>
</ul>
<p>
Back in script/module:
</p>

<pre python>

import hou
import os

def init():
n = hou.node(".")
ROOT = n.parm("bd").eval()
SHOT = n.parm("shot").eval()
SUBD = n.parm("subd").eval()

ROOTSHOT = os.path.join(ROOT, SHOT)
print(ROOTSHOT)


for d in SUBD.split():
    path = os.path.join(ROOTSHOT, d)
    cmd = "setenv %s = %s" % (d, path)
    hou.hscript(cmd)
    if not os.path.exists(path):
        os.makedirs(path)

</pre>

<div id="Creating Tool-Change shot to a drop down or new name"><h3 id="Change shot to a drop down or new name" class="header"><a href="#Creating Tool-Change shot to a drop down or new name">Change shot to a drop down or new name</a></h3></div>

<ul>
<li>
For the HDA:

<li>
RMB on HDA:

<ul>
<li>
Type Properties

</ul>
<li>
Change type to 'string'

<li>
Menu tab:

<ul>
<li>
Use Menu (checkbox) 'on'

<li>
Replace(Field + Single Selection Menu)

<li>
Apply

</ul>
<li>
Menu Script tab:

<ul>
<li>
Fill with the code below

</ul>
</ul>
<p>
Script:
</p>
<pre python>

import os

n = hou.node(".");
PROJ = n.parm("bd").eval()

menuitem = []
dirlist = os.listdir(PROJ)

for d in dirlist:
    if not d.startswith("."):
        if os.path.isdir(os.path.join(PROJ, d)):
            # name
            menuitem.append(d)
            # label
            menuitem.append(d)
            
menuitem.sort()
return menuitem

</pre>

<div id="Creating Tool-Quick Jump"><h2 id="Quick Jump" class="header"><a href="#Creating Tool-Quick Jump">Quick Jump</a></h2></div>

<p>
$HOME/houdiniXX.X/jump.pref
</p>

<pre>
/tmp/houdini_temp/
$COMP/
$GEO/
$HIP/
$NUKE/
$REF/
$RENDER/
$TEXTURE/
</pre>

<div id="Creating Tool-123.cmd"><h2 id="123.cmd" class="header"><a href="#Creating Tool-123.cmd">123.cmd</a></h2></div>

<p>
Copy this file to your home dir:
$HOME/houdiniXX.X/scripts/123.cmd
</p>

<p>
Add your HDA to the file.
</p>

<p>
Debug:
</p>
<pre>
message Sourcing my 123.cmd
</pre>

</body>
</html>
