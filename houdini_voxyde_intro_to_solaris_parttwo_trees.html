<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>houdini_voxyde_intro_to_solaris_parttwo_trees</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="Houdini.html">Houdini</a>
</p>

<div id="Voxyde - Intro to Solaris - Part Two - Trees"><h1 id="Voxyde - Intro to Solaris - Part Two - Trees" class="header"><a href="#Voxyde - Intro to Solaris - Part Two - Trees">Voxyde - Intro to Solaris - Part Two - Trees</a></h1></div>
<p>
Jump back to the main page:
</p>
<div id="Voxyde - Intro to Solaris - Part Two - Trees-[[houdini_voxyde_intro_to_solaris_parttwo#Trees|Houdini - Voxyde Intro to Solaris - Part Two]]"><h4 id="[[houdini_voxyde_intro_to_solaris_parttwo#Trees|Houdini - Voxyde Intro to Solaris - Part Two]]" class="header"><a href="#Voxyde - Intro to Solaris - Part Two - Trees-[[houdini_voxyde_intro_to_solaris_parttwo#Trees|Houdini - Voxyde Intro to Solaris - Part Two]]"><a href="houdini_voxyde_intro_to_solaris_parttwo.html#Trees">Houdini - Voxyde Intro to Solaris - Part Two</a></a></h4></div>

<div id="Trees"><h1 id="Trees" class="header"><a href="#Trees">Trees</a></h1></div>

<div id="Trees-[[https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=9959s|YouTube - timecode: 02:45:59]]"><h4 id="[[https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=9959s|YouTube - timecode: 02:45:59]]" class="header"><a href="#Trees-[[https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=9959s|YouTube - timecode: 02:45:59]]"><a href="https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=9959s">YouTube - timecode: 02:45:59</a></a></h4></div>

<div id="Trees-Component Builder"><h2 id="Component Builder" class="header"><a href="#Trees-Component Builder">Component Builder</a></h2></div>

<p>
In the Solaris/Stage/USD Context:
</p>
<ul>
<li>
Add a free floating <code>Component Builder</code>:

<ul>
<li>
This will drop a whole network down in the Network Editor

</ul>
<li>
Rename the <code>Component Geometry</code> node to 'tree'

<li>
Rename the <code>Component Output</code> node to 'Tree' (note the capitalization.

</ul>
<p>
Inside the <code>Component Geometry</code>:
</p>
<ul>
<li>
Add a <code>Tommy</code> for scale comparison (not connected):

<ul>
<li>
Translate him 2.4 in <code>X</code> axis

<li>
Template 'Tommy'

</ul>
<li>
Add a <code>Labs Tree Trunk Generator</code> (make sure you have the Labs component installed with Houdini)

<ul>
<li>
General Tab

<ul>
<li>
<code>Length</code> to 15

</ul>
<li>
 Noise &gt; Line Noise Tab:

<ul>
<li>
<code>Enable</code> checkbox 'On'

<li>
Primary:

<ul>
<li>
<code>Intensity</code> to 1.7

<li>
<code>Frequency</code> to 0.25

</ul>
<li>
Secondary:

<ul>
<li>
<code>Intensity</code> to 1.9

<li>
<code>Frequency</code> to 0.1

</ul>
</ul>
</ul>
<li>
Add a <code>Labs Tree Branch Generator</code>:

<ul>
<li>
Connect both ouputs from the 'tree_trunk_generator' to the 'tree_branch_generator'

<li>
General &gt; Placement tab:

<ul>
<li>
<code>Randomize Node Amount</code> checkbox 'On'

</ul>
<li>
Remap Angle Ramp area:

<ul>
<li>
<code>Length</code> to 0.9

<li>
<code>Length Variation</code> to 6

<li>
<code>Length Ramp</code> move the middle ramp point to the right (to make first branches higher start)

</ul>
<li>
General &gt; Radius tab:

<ul>
<li>
<code>Radius Adjust</code> to -0.322

</ul>
<li>
Resolution tab:

<ul>
<li>
<code>Resolution</code> to 0.242

<li>
<code>Divisions</code> to 0.7

</ul>
<li>
Noise tab:

<ul>
<li>
Primary:

<ul>
<li>
<code>Intensity</code> to 3.3

<li>
<code>Frequency</code> to 0.42

</ul>
<li>
Secondary:

<ul>
<li>
<code>Intensity</code> to 1.8

<li>
<code>Frequency</code> to 0.6

</ul>
</ul>
</ul>
<li>
Duplicate this node (<code>Labs Tree Branch Generator</code>) and join underneath the original.

<ul>
<li>
Adjust as follows: 

<li>
General &gt; Placement tab:

<ul>
<li>
<code>Min Branch Nodes</code> to 8

<li>
<code>Max Branch Nodes</code> to 16

<li>
<code>Length</code> to 0.6

<li>
<code>Length Variation</code> will already be 6

<li>
<code>Length Ramp</code> to the left (to start the branching sooner)

</ul>
<li>
Resolution tab:

<ul>
<li>
<code>Resolution</code> to 0.5

<li>
<code>Divisions</code> to 0.8

</ul>
</ul>
<li>
Duplicate THIS node and attach:

<ul>
<li>
Resolution tab:

<ul>
<li>
<code>Resolution</code> to 0.6

<li>
<code>Divisions</code> to 0.9

</ul>
</ul>
<li>
Add a <code>Labs Tree Leaf Generator</code>:

<ul>
<li>
Plug the first and second outputs into the first two on the leaf generator

</ul>
</ul>
<p>
<span id="Trees-Component Builder-NOTE"></span><strong id="NOTE">NOTE</strong>: Solaris adds cards by default for leaves. However, according to the Tutorial commentary, MaterialX shaders don't have a good Alpha/transparency solution as yet (whereas Redshift does for example). So we have to model our own leaf template to avoid any texture solution.
</p>

<div id="Trees-Creating a Leaf"><h2 id="Creating a Leaf" class="header"><a href="#Trees-Creating a Leaf">Creating a Leaf</a></h2></div>

<ul>
<li>
Create a <code>grid</code>:

<ul>
<li>
<code>Size</code> to 0.3, 0.3

<li>
<code>Rows</code> 6

<li>
<code>Columns</code> 5

</ul>
<li>
Add a <code>Match Size</code> node:

<ul>
<li>
<code>Justify Z</code> to <code>Min</code>

</ul>
<li>
Add a <code>Linear Taper</code>:

<ul>
<li>
Press <code>Enter</code> key on the Viewport

<li>
Press <code>N</code> key to size to 'fit our capture' (?)

<li>
<code>Enable Ramp</code> checkbox to 'On'

<li>
Adjust ramp:

<ul>
<li>
Build a leaf shape (pinched at the base, and tapered to a pinch at the end)

<li>
Switch to <code>B-Spline</code>

</ul>
</ul>
<li>
Add a <code>Bend</code> node to curl around the width:

<ul>
<li>
<code>Enter</code> in the Viewport

<li>
<code>N</code> in the Viewport to fit our capture

<li>
<code>B</code> to switch the axis of the bend in Viewport

<li>
<code>Capture Origin</code> to 0, 0, 0.15 (to start in the center)

<li>
<code>Capture Direction</code> to -1, 0, 0

<li>
<code>Capture Length</code> to 0.15

<li>
<code>Deform in Both Directions</code> check 'On' 

<li>
<code>Bend Angle</code> to 76º

</ul>
<li>
Add another <code>Bend</code> to bend along the length

<li>
Add a <code>Transform</code> node to rotate it back up along <code>Z</code> axis

</ul>
<p>
Plug into Leaf Input (3rd input) on 'tree_leaf_generator', and on the <code>tree_leaf_generator</code> parameters:
</p>
<ul>
<li>
<code>Uniform Scale</code> to 1.2

<li>
<code>Uniform Scale Variation</code> to 0.5

<li>
Delete <code>Tommy</code> - he was there as a scale guide. 

</ul>
<div id="Trees-Prepare Output for Solaris"><h2 id="Prepare Output for Solaris" class="header"><a href="#Trees-Prepare Output for Solaris">Prepare Output for Solaris</a></h2></div>

<p>
During the tree build, a lot of extraneous attributes and groups have built up in the asset.
</p>

<p>
We need to separate the leaves from the tree &amp; branches for material assignment:
</p>
<ul>
<li>
Add a <code>Split</code> node:

<ul>
<li>
<code>Group</code> set to 'leaf' (selected from drop-down at the end of the field)

<li>
Now the left output (first) will be the named group items (leaves)

<li>
The right output (second) will be everything else (Trunk &amp; Branches)

</ul>
<li>
Add a <code>Null</code> and call it 'Leaf_geo' (as first output from the 'split')

<ul>
<li>
Add a <code>Name</code> node and change the <code>Name</code> parameter to 'Leaf_geo'

</ul>
<li>
Add a <code>Null</code> and call it 'Trunk_geo' (as the second output from the 'split')

<ul>
<li>
Add a <code>Name</code> node and change the <code>Name</code> parameter to 'Trunk_geo'

</ul>
<li>
<code>Merge</code> these Nulls back together

<li>
Add an <code>Attribute Delete</code> node:

<ul>
<li>
<code>Delete Non Selected</code> checkbox to 'On'

<li>
Populate just two fields:

<ul>
<li>
<code>Vertex Attributes</code> to 'uv'

<li>
<code>Primitive Attributes</code> to 'name'

</ul>
</ul>
<li>
Add a <code>Group Delete</code> node:

<ul>
<li>
In the <code>Group Names</code> field, and an asterisk to delete all groups

</ul>
<li>
Plug this entire network's output into the <code>default</code> output node (of the SOPNet)

</ul>
<p>
At this point the <code>Scene Graph</code> should look like the following:
</p>
<pre>

|_Favorites
-_/
 +_*_*__class__
 --© Tree
   - 0 geo
   | |_∆ Leaf_geo
   | |_∆ Trunk_geo
   |_0 mtl
   
</pre>

<div id="Trees-Create a Proxy Geometry"><h2 id="Create a Proxy Geometry" class="header"><a href="#Trees-Create a Proxy Geometry">Create a Proxy Geometry</a></h2></div>

<p>
To create a low resolution proxy, you could just add a <code>PolyReduce</code> node and set to 10% or something. However, the leaves get decimated to something non-representative of the silhouette, so the tutorial tries another method.
</p>


<p>
We can treat the trunk &amp; branches and the leaves as two different parts.
</p>

<div id="Trees-Create a Proxy Geometry-Trunk &amp; Branches"><h3 id="Trunk &amp; Branches" class="header"><a href="#Trees-Create a Proxy Geometry-Trunk &amp; Branches">Trunk &amp; Branches</a></h3></div>

<p>
From the <code>Name</code> node on the 'Trunk_geo' section:
</p>
<ul>
<li>
add a <code>Blast</code> node:

<ul>
<li>
Select <code>level0</code> from the <code>Group</code> field's drop-down

<li>
add <code>level1</code> and <code>level2</code> in the same way.

<li>
Check the <code>Delete Non Selected</code> checkbox.

</ul>
<li>
Add a <code>PolyReduce</code> node and set <code>Percent To Keep</code> to 25 (%)

</ul>
<div id="Trees-Create a Proxy Geometry-Leaves"><h3 id="Leaves" class="header"><a href="#Trees-Create a Proxy Geometry-Leaves">Leaves</a></h3></div>

<p>
We can use an <code>SDF</code> to turn the geo into a volume then back. However, we need thickness on the leaves (as they are infinitely slim planes for the render).
</p>

<p>
Rather than incur the cost of an extrude on each leaf the tutorial suggests attaching spheres to points on the leaves and converting those into volumes.
</p>

<p>
From the <code>Name</code> node on the 'Leaf_geo' section:
</p>
<ul>
<li>
Add a <code>Connectivity</code> node:

<li>
<span id="Trees-Create a Proxy Geometry-Leaves-NOTE"></span><strong id="NOTE">NOTE</strong>: The 'Connectivity' node or SOP takes connected points and groups them (essentially isolating each leaf as an entity) and gives it an integer, as a 'class' attribute.

<ul>
<li>
This can be 'inline' as it won't damage the 'render' version

<li>
<code>Connectivity Type</code> should be set to 'Point'

</ul>
</ul>
<div id="Trees-Create a Proxy Geometry-Leaves-[[https://www.youtube.com/watch?v=UuhwWjdD6_E|YouTube - Guide to the Connectivity Node]]"><h4 id="[[https://www.youtube.com/watch?v=UuhwWjdD6_E|YouTube - Guide to the Connectivity Node]]" class="header"><a href="#Trees-Create a Proxy Geometry-Leaves-[[https://www.youtube.com/watch?v=UuhwWjdD6_E|YouTube - Guide to the Connectivity Node]]"><a href="https://www.youtube.com/watch?v=UuhwWjdD6_E">YouTube - Guide to the Connectivity Node</a></a></h4></div>
<ul>
<li>
From the 'Connectivity' node, fork with an:

<ul>
<li>
<code>Extract Centriod</code>:

<ul>
<li>
<code>Run Over</code> to 'Pieces'

<li>
<code>Piece Element</code> to 'Point'

<li>
<code>Piece Attriubte</code> to 'class' (which should be a drop-down option after setting the 'Piece Element' to Point.

</ul>
</ul>
<li>
From the 'Extract Centroid', add a <code>VDB From Particles</code>:

<ul>
<li>
Before connecting to the network:

<ul>
<li>
<code>Voxel Size</code> to 0.4 

<li>
<code>Point Radius Scale</code> to 0.23

<li>
<code>Minimum Radius in Viewport</code> to zero

</ul>
</ul>
<li>
Add a <code>Convert VDB</code>:

<ul>
<li>
<code>Convert To</code> set to 'Polygons'

<li>
<code>Adaptivity</code> to 0.6

</ul>
<li>
Add a <code>PolyReduce</code> node:

<ul>
<li>
set to 50%

</ul>
<li>
Add another <code>Name</code> node (copy from further up the chain on the 'leaf' network). This is to fix the way the name attribute get's messed up through the nodes.

</ul>
<p>
The leaves now have around 14,000 points for their reduced version.
</p>

<ul>
<li>
Now merge the two ends of the fork with a <code>Merge</code>

<li>
Duplicate the <code>Attribute Delete</code> and <code>Group Delete</code> nodes from the main network and add to the end of the Proxy network to clean up the data.

<li>
Plug into the <code>proxy</code> output.

</ul>
<p>
This tutorial doesn't have any plan to do any simulations, so we can ignore the <code>simproxy</code> option.
</p>

<p>
Now when we look at the tree in the Viewport, it'll be the proxy, but when we render, it'll be the full resolution version.
</p>

<div id="Trees-Tree Materials"><h2 id="Tree Materials" class="header"><a href="#Trees-Tree Materials">Tree Materials</a></h2></div>

<p>
At the Stage level, jump into the <code>Material Library</code>.
</p>

<p>
Create a <code>Karma Material Builder</code>:
</p>
<ul>
<li>
Rename to <code>Tree_leaves</code>

<li>
Duplicate:

<ul>
<li>
Call the duplicate <code>Tree_trunk</code>

</ul>
<li>
Inside 'Tree_leaves':

<ul>
<li>
<code>mtlxstandard_surface</code>:

<ul>
<li>
<code>Color</code> to 0, 0.5, 0

</ul>
</ul>
<li>
Inside 'Tree_trunk':

<ul>
<li>
<code>mtlxstandard_surface</code>:

<ul>
<li>
<code>Color</code> to 0.5, 0.35, 0.24

<li>
<code>Specular</code>:

<ul>
<li>
<code>Roughness</code> to 0.5

</ul>
</ul>
</ul>
</ul>
<p>
To do the material assignment:
</p>
<ul>
<li>
Back up to the <code>componentmaterial1</code> node:

<ul>
<li>
From the <code>Scene Graph Path</code> window in the <code>Geometry Spreadsheet</code>:

<ul>
<li>
You can drag the <code>/ASSET/mtl/Tree_trunk</code> into the <code>Material Path</code>

<li>
You can drag the <code>/ASSET/geo/proxy/Trunk_geo</code> into the <code>Primitives</code> field

<li>
To add the 'render' version of the trunk you can copy and re-paste the path in and edit 'proxy' to 'render' as below:

<ul>
<li>
<code>Primitives</code> to '/ASSET/geo/proxy/Trunk_geo /Asset/geo/render/Trunk_geo'

</ul>
</ul>
</ul>
<li>
Click on the <code>Material Assignments</code> counter to add another:

<ul>
<li>
From the <code>Scene Graph Path</code> window in the <code>Geometry Spreadsheet</code>:

<ul>
<li>
You can drag the <code>/ASSET/mtl/Tree_leaves</code> into the <code>Material Path</code>

<li>
You can drag the <code>/ASSET/geo/proxy/Leaf_geo</code> into the <code>Primitives</code> field

<li>
To add the 'render' version of the leaves you can copy and re-paste the path in and edit 'proxy' to 'render' as below:

<ul>
<li>
<code>Primitives</code> to '/ASSET/geo/proxy/Leaf_geo /Asset/geo/render/Leaf_geo'

</ul>
</ul>
</ul>
</ul>
<p>
To see how it's all working, add a <code>Karma Physical Sky</code> node (light) after the <code>Component Output</code> at the end of the tree network.
</p>
<ul>
<li>
<code>Exposure</code> to 2

<li>
<code>Solar Altitude</code> to 20

<li>
<code>Solar Azimuth</code> to 160

</ul>
<div id="Trees-Tree Materials-Material Development"><h3 id="Material Development" class="header"><a href="#Trees-Tree Materials-Material Development">Material Development</a></h3></div>

<div id="Trees-Tree Materials-Material Development-Tree Leaves"><h4 id="Tree Leaves" class="header"><a href="#Trees-Tree Materials-Material Development-Tree Leaves">Tree Leaves</a></h4></div>

<p>
Back in the build for the leaves, we retained an attribute called <code>class</code>. We'll use that in the shader network.
</p>
<ul>
<li>
Inside the <code>Material Builder</code>, inside the <code>Tree_leaves</code> shader network:

<ul>
<li>
Add a <code>USD Prim Var Reader</code> node:

<ul>
<li>
<code>Signature</code> to 'Int'

<li>
<code>Var Name</code> to 'class'

</ul>
<li>
Add an <code>MtlX Random Float</code> node:

<ul>
<li>
Plug the 'out' to the 'mtlxstandard_surface' to the <code>Base</code> ('Base Color') input.

</ul>
</ul>
</ul>
<p>
<span id="Trees-Tree Materials-Material Development-Tree Leaves-NOTE"></span><strong id="NOTE">NOTE</strong>: This won't work for the 'proxy' version (Houdini GL) render, so switch to <code>Karma CPU</code> or <code>Karma XPU</code> to see the results. You should see a random greyscale value on each leaf.
</p>
<ul>
<li>
Add a <code>Karma Ramp Const</code> node:

<ul>
<li>
Color the ramp with dark to light greens (like with the grass)

</ul>
</ul>
<div id="Trees-Tree Materials-Material Development-Getting some translucency"><h4 id="Getting some translucency" class="header"><a href="#Trees-Tree Materials-Material Development-Getting some translucency">Getting some translucency</a></h4></div>

<p>
On the 'mtlxstandard_surface' node:
</p>
<ul>
<li>
<code>Subsurface</code> section:

<ul>
<li>
<code>Subsurface</code> slider to 0.6

<ul>
<li>
Plug the <code>Karma Ramp Const</code> out to the <code>Subsurface_color</code> input also (so <code>Base</code> and <code>Subsurface</code>)

</ul>
<li>
<code>Radius</code> to 0.7, 1, 0.6

<li>
<code>Scale</code> to 0.05 (the units are scene units)  

</ul>
</ul>
<div id="Trees-The Trunk Material"><h2 id="The Trunk Material" class="header"><a href="#Trees-The Trunk Material">The Trunk Material</a></h2></div>

<p>
Jump into the <code>Material Library</code> for the Tree_trunk:
</p>
<ul>
<li>
Drop an <code>MtlX Fractal3D</code> node:

<ul>
<li>
<code>Octaves</code> to 10

<li>
<code>Diminish</code> to 0.86

<li>
Plug the 'out' into the 'base' ('base_color') of the <code>mtlstandard_surface</code>

</ul>
<li>
Before the Fractal node, add an <code>MtlX Texture Coord</code> node:

<ul>
<li>
Plug the 'out' into the Fractal's 'position' input.

</ul>
<li>
Now, between these two nodes, add an <code>MtlX Multiply</code> node:

<ul>
<li>
On the Multiply's Input 2 parameter, set a stretch on the UV

<li>
<code>Signature</code> to 'Vector 2'

<li>
22 x 4

</ul>
<li>
Normalize the output from the Fractal:

<ul>
<li>
Add an <code>MtlX Remap</code> node:

<ul>
<li>
Set <code>Inlow</code> to -1

<li>
Set Inhigh to 1 (the default)

</ul>
</ul>
<li>
Add a <code>Karma Ramp Const</code> node:

<ul>
<li>
Create a spectrum of browns for the bark of the tree trunk.

</ul>
<li>
For the <code>Normals</code>, you can duplicate the network up to and including the <code>MtlX Fractal3D</code> node.

<ul>
<li>
On the Fractal node:

<ul>
<li>
<code>Octaves</code> to 4

</ul>
<li>
On the Multiply node:

<ul>
<li>
15 x 3

</ul>
</ul>
<li>
Add an <code>MtlX Height to Normals</code> node:

<ul>
<li>
<code>Scale</code> to 0.05

</ul>
<li>
Add an <code>Mtlx Normal Map</code> node:

<ul>
<li>
'Out' to <code>Geometry &gt; Normals</code> input on the 'mtlstandard_surface'

</ul>
</ul>
<p>
Optionally, you could plug the out from the Normals 'fractal' node and plug it directly into the <code>displacement</code> input on the <code>mtlxdisplacement</code> node, and adjust the scale on the displacement node to 0.1, but the tutorial shows it then removes for the purpose of the exercise.
</p>



<div id="Tree Geo &amp; Material Variation"><h1 id="Tree Geo &amp; Material Variation" class="header"><a href="#Tree Geo &amp; Material Variation">Tree Geo &amp; Material Variation</a></h1></div>
<div id="Tree Geo &amp; Material Variation-[[https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=11841s|YouTube - timecode: 03:17:21]]"><h4 id="[[https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=11841s|YouTube - timecode: 03:17:21]]" class="header"><a href="#Tree Geo &amp; Material Variation-[[https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=11841s|YouTube - timecode: 03:17:21]]"><a href="https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=11841s">YouTube - timecode: 03:17:21</a></a></h4></div>

<ul>
<li>
Variants can be chosen after the <code>Component Geometry</code> node (where the trees are created)

<li>
Example:

<ul>
<li>
Inside the <code>Component Geometry</code> just create 3 platonic solids (all different)

<li>
Plug these into a <code>Switch</code> node and on this node:

<ul>
<li>
Set the <code>Select Input</code> to an expression - @GEOVARIANTINDEX

<li>
This populates the variable to be picked up by the variants nodes:

</ul>
</ul>
<li>
Add a <code>Component Geometry Variants</code> node after the <code>Component Geomtry</code> node:

<ul>
<li>
Set its <code>Source Mode</code> to <code>Number</code>

<li>
Set the <code>Number of Variants</code> to the number of items that are plugged into the switch node as created below.

<li>
<code>Variant Name</code> has a default expression of <code>'$OS'_'@index'</code> (Use backticks, not quotes - can't show those in markdown)

<ul>
<li>
The <code>$OS</code> expands to the name of the node itself (the <code>Component Geometry Variants</code> node)

<li>
The <code>@index</code> to the index of each of the inputs in the <code>@GEOVARIANTINDEX</code> expression/variable

</ul>
</ul>
<li>
Add a <code>Set Variant</code> node somewhere down the network:

<ul>
<li>
This node will allow you to actually choose the variants

<li>
In the parameters (<code>Variant Set</code> set to 'geo'):

<ul>
<li>
<code>Variant Name</code> field can be populated by a choice related to the 'Variant Name' setup (there is a drop-down too)

<li>
These will be named and indexed by that expression (item one will have a 0 suffix, item two will have 1)

</ul>
</ul>
</ul>
<div id="Tree Geo &amp; Material Variation-Creating Procedural Variations of the Tree Geometry"><h2 id="Creating Procedural Variations of the Tree Geometry" class="header"><a href="#Tree Geo &amp; Material Variation-Creating Procedural Variations of the Tree Geometry">Creating Procedural Variations of the Tree Geometry</a></h2></div>

<p>
Putting this into action with the trees, we can go a step further and randomize aspects of the trees instead of creating defined individual variant models.
</p>

<p>
We'll add randomization to the 'levels' of branch creation.
</p>

<p>
At the <code>Stage</code> level:
</p>
<ul>
<li>
Add a <code>Component Geometry Variants</code> node after the <code>tree</code> node ('Component Geometry')

<ul>
<li>
<code>Source Mode</code> to 'Number' to use a setup inside the 'tree' node to produce variant seeds. 

<li>
Set <code>Number of Variants</code> to 6

</ul>
<li>
Back in the 'tree' <code>Component Geometry</code> node (where the trees are set up):

<ul>
<li>
On the 'tree_trunk_generator' node:

<ul>
<li>
In the <code>Offset</code> parameters (Primary &amp; Secondary), add <code>@GEOVARIANTINDEX</code> or even <code>@GEOVARIANTINDEX * 3</code> to multiply the index.

</ul>
<li>
On the 'tree_branch_generator1' node:

<ul>
<li>
in the <code>Randomize</code> field, add the same expression, <code>@GEOVARIANTINDEX</code>

</ul>
<li>
Do this step for all the 'tree_branch_generator' nodes

</ul>
<li>
You can temporarily fork a <code>Set Variant</code> node from the 'Tree' ('Component Output') node (before the lighting), and choose from the <code>Variant Name</code> field (via the drop-down)

</ul>
<p>
This will all take a while to 'cook' as all the variants are evaluated by Houdini.
</p>

<ul>
<li>
You can also put an <code>Explore Variants</code> node after the 'Tree' node and before the <code>Karma Physical Sky</code> node:

<ul>
<li>
Set the <code>Mode</code> to <code>Explore Variants</code>

<li>
Increase the <code>Spacing</code> to 15

</ul>
<li>
Again the network will take time to evaluate.

<li>
When 'cooked', you should be able to Karma render the results

</ul>
<p>
<br>
<br>
Jump back to the main page:
</p>
<div id="Tree Geo &amp; Material Variation-Creating Procedural Variations of the Tree Geometry-[[houdini_voxyde_intro_to_solaris_parttwo#Trees|Houdini - Voxyde Intro to Solaris - Part Two]]"><h4 id="[[houdini_voxyde_intro_to_solaris_parttwo#Trees|Houdini - Voxyde Intro to Solaris - Part Two]]" class="header"><a href="#Tree Geo &amp; Material Variation-Creating Procedural Variations of the Tree Geometry-[[houdini_voxyde_intro_to_solaris_parttwo#Trees|Houdini - Voxyde Intro to Solaris - Part Two]]"><a href="houdini_voxyde_intro_to_solaris_parttwo.html#Trees">Houdini - Voxyde Intro to Solaris - Part Two</a></a></h4></div>

<p>
<a href="Houdini.html">Houdini</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
