<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>houdini_voxyde_intro_to_solaris_parttwo</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="Houdini.html">Houdini</a>
</p>

<div id="Voxyde - Intro to Solaris - Part Two - the build"><h1 id="Voxyde - Intro to Solaris - Part Two - the build" class="header"><a href="#Voxyde - Intro to Solaris - Part Two - the build">Voxyde - Intro to Solaris - Part Two - the build</a></h1></div>
<div id="Voxyde - Intro to Solaris - Part Two - the build-[[https://www.youtube.com/watch?v=3BX97YIQERE|YouTube - Voxyde - Intro to Solaris]]"><h4 id="[[https://www.youtube.com/watch?v=3BX97YIQERE|YouTube - Voxyde - Intro to Solaris]]" class="header"><a href="#Voxyde - Intro to Solaris - Part Two - the build-[[https://www.youtube.com/watch?v=3BX97YIQERE|YouTube - Voxyde - Intro to Solaris]]"><a href="https://www.youtube.com/watch?v=3BX97YIQERE">YouTube - Voxyde - Intro to Solaris</a></a></h4></div>

<div id="Initial Layout &amp; Camera"><h1 id="Initial Layout &amp; Camera" class="header"><a href="#Initial Layout &amp; Camera">Initial Layout &amp; Camera</a></h1></div>
<div id="Initial Layout &amp; Camera-[[https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=6495s|YouTube - timecode: 01:48:15]]"><h4 id="[[https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=6495s|YouTube - timecode: 01:48:15]]" class="header"><a href="#Initial Layout &amp; Camera-[[https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=6495s|YouTube - timecode: 01:48:15]]"><a href="https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=6495s">YouTube - timecode: 01:48:15</a></a></h4></div>

<div id="A Scene Build to Show One Solaris Workflow"><h1 id="A Scene Build to Show One Solaris Workflow" class="header"><a href="#A Scene Build to Show One Solaris Workflow">A Scene Build to Show One Solaris Workflow</a></h1></div>

<div id="A Scene Build to Show One Solaris Workflow-Ground"><h2 id="Ground" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Ground">Ground</a></h2></div>

<div id="A Scene Build to Show One Solaris Workflow-Ground-Start building in SOPs"><h3 id="Start building in SOPs" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Ground-Start building in SOPs">Start building in SOPs</a></h3></div>

<p>
Start in <code>SOPS</code> (<code>N</code> in Network Editor and choose 'Objects')
</p>

<ul>
<li>
Drop a <code>Grid</code> and rename 'geo_ground'.

<li>
Drop a <code>Tommy</code> for scale

</ul>
<p>
Jump into the Grid container (set 'show all objects' in the viewport).
</p>

<ul>
<li>
Increase grid size to 100 x 100

<li>
Rows/Columns to 250 x 250 (to have more resolution for landscape)

</ul>
<div id="A Scene Build to Show One Solaris Workflow-Ground-Start building in SOPs-Create curve to define 'river'"><h4 id="Create curve to define 'river'" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Ground-Start building in SOPs-Create curve to define 'river'">Create curve to define 'river'</a></h4></div>
 
<ul>
<li>
Drop a <code>Draw Curve</code> node (not a 'Curve' node, and not connected to the grid):

<ul>
<li>
Projection drop-down: <code>ZX Plane</code>

<li>
Template the grid geo

<li>
<code>Enter</code> key in viewport

<li>
<code>LMB</code> drag to draw an 'S' shape across the grid surface (for a river's path)

</ul>
<li>
Drop a <code>Resample</code> node:

<ul>
<li>
Length to 24

</ul>
<li>
Drop a <code>Convert</code> node:

<ul>
<li>
'Convert To' <code>NURBS Curve</code>

</ul>
<li>
Drop a <code>Curve</code> node:

<ul>
<li>
<code>Enter</code> in the viewport and select <code>F</code> key to edit the curve if required.

</ul>
<li>
Drop a <code>Resample</code> node:

<li>
Drop a <code>Transform</code> node:

<ul>
<li>
Set <code>Y</code> scale to zero

</ul>
<li>
Drop a <code>Color</code> node:

<ul>
<li>
Set to a white color

</ul>
<li>
Add a <code>Null</code> and rename to 'curve'

</ul>
<div id="A Scene Build to Show One Solaris Workflow-Ground-Start building in SOPs-Back on the Grid"><h4 id="Back on the Grid" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Ground-Start building in SOPs-Back on the Grid">Back on the Grid</a></h4></div>

<p>
Now start to build from the original grid geo:
</p>
<ul>
<li>
Drop a <code>Color</code> node:

<ul>
<li>
set to a black color

</ul>
<li>
Add a <code>Null</code> and rename to 'grid'

<li>
<code>Attribute Transfer</code> node:

<ul>
<li>
connect the grid chain to the left input

<li>
connect the curve chain to the right input

<li>
Attributes tab:

<ul>
<li>
Leave only <code>Points</code> checked and enter <code>Cd</code> as attribute in the field.

</ul>
<li>
Conditions tab:

<ul>
<li>
Set <code>Kernel Function</code> to 'Blinn model' (these are just different 'looks')

<li>
Check on <code>Distance Treshold</code> and set to 2.13

<li>
Adjust the <code>Blend Width</code> attribute (11)

</ul>
</ul>
<li>
Add an <code>Attribute VOP</code>:

<ul>
<li>
rename to 'push_down'

<li>
Inside the node:

<ul>
<li>
<code>P</code> input to a <code>Subtract</code> node

<li>
From its <code>diff</code> output, plug into the overall <code>P</code> output 

<li>
Connect the 'Cd' to a <code>Vector to Float</code> node

<li>
Connect this to a <code>Float to Vector</code> node (2nd input for <code>Y</code> component):

<ul>
<li>
Connect the <code>vec</code> output to the <code>Subtract</code> input 2

<li>
Drop a <code>Multiply</code> node between to scale the river trough:

<ul>
<li>
Promote the input2 as a control

<li>
Label field to <code>Push amount</code> (click on input plug and change 'Label' field in the parameter pane)

</ul>
</ul>
</ul>
</ul>
<li>
After the <code>Attribute VOP</code> add another <code>Color</code> node set to white (to clear the painted sweep)

</ul>
<p>
The cool thing about this approach is that you can still edit the curve to adjust the river path!!
</p>

<div id="A Scene Build to Show One Solaris Workflow-Ground-Start building in SOPs-Add noise and finish up Ground"><h4 id="Add noise and finish up Ground" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Ground-Start building in SOPs-Add noise and finish up Ground">Add noise and finish up Ground</a></h4></div>

<ul>
<li>
Now add a <code>Mountain</code> node (it's an 'attribute noise' nodeo) after the 'Color' node:

<ul>
<li>
In the 'Noise Pattern' section of its parameters:

<ul>
<li>
<code>Element Size</code> to around 6.71

<li>
<code>Amplitude</code> to 0.67

</ul>
</ul>
<li>
Add a <code>Transform</code> node, and Translate 1.5 in <code>Y</code>

<li>
Add a <code>Null</code> and rename to 'OUT_geo_ground'

</ul>
<p>
Network Editor diagram:
</p>
<pre>
                                   ┌────────────────┐                    
                                   │  DRAW CURVE    │                    
                                   └───────┬────────┘                    
                                           │                             
                                   ┌───────┴────────┐                    
                                   │     EDIT       │                    
                                   └───────┬────────┘                    
                                           │                             
                                   ┌───────┴────────┐                    
                                   │    RESAMPLE    │                    
                                   └───────┬────────┘                    
                                           │                             
                                   ┌───────┴────────┐                    
                                   │    CONVERT     │                    
                                   └───────┬────────┘                    
                                           │                             
                                   ┌───────┴────────┐                    
                                   │     CURVE      │                    
                                   └───────┬────────┘                    
                                           │                             
                                   ┌───────┴────────┐                    
                                   │   RESAMPLE     │                    
                                   └───────┬────────┘                    
                                           │                             
  ┌────────────────┐               ┌───────┴────────┐                    
  │     GRID       │               │   TRANSFORM    │                    
  └──────┬─────────┘               └───────┬────────┘                    
         │                                 │                             
  ┌──────┴─────────┐               ┌───────┴────────┐                    
  │     COLOR      │ black         │     COLOR      │ white              
  └──────┬─────────┘               └───────┬────────┘                    
         │                                 │                             
  ┌──────┴─────────┐               ┌───────┴────────┐                    
  │     NULL       │ grid          │     NULL       │ curve              
  └──────┬─────────┘               └───────┬────────┘                    
         │                                 │                             
         └─────────────────────────────┐   │                             
                                       │   │                             
                                       │   │                             
                                   ┌───┴───┴────────┐                    
                                   │ Attr. Transfer │                    
                                   └───────┬────────┘                    
                                           │                             
                                   ┌───────┴────────┐                    
                                   │    Attr. VOP   │                    
                                   └───────┬────────┘                    
                                           │                             
                                   ┌───────┴────────┐                    
                                   │     COLOR      │ white              
                                   └───────┬────────┘                    
                                           │                             
                                   ┌───────┴────────┐                    
                                   │    MOUNTAIN    │                    
                                   └───────┬────────┘                    
                                           │                             
                                   ┌───────┴────────┐                    
                                   │   TRANSFORM    │                    
                                   └───────┬────────┘                    
                                           │                             
                                   ┌───────┴────────┐                    
                                   │      NULL      │ OUT_geo_ground     
                                   └────────────────┘                    
</pre>


<div id="A Scene Build to Show One Solaris Workflow-Creating Water"><h2 id="Creating Water" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Creating Water">Creating Water</a></h2></div>

<p>
Back at the top level of the Object ('/obj') context, add another grid:
</p>

<ul>
<li>
Drop a 'Grid':

<ul>
<li>
rename 'geo_water'

</ul>
<li>
Set grid to 100 x 100

<li>
Add a <code>Color</code> node (inside):

<ul>
<li>
set to a blue to differentiate from the ground.

</ul>
<li>
Inside the geo node, add a <code>Null</code>:

<ul>
<li>
rename 'OUT_geo_water'

</ul>
</ul>
<div id="A Scene Build to Show One Solaris Workflow-Create an FX Reference"><h2 id="Create an FX Reference" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Create an FX Reference">Create an FX Reference</a></h2></div>

<p>
At the top level of the SOPS ('/obj' context):
</p>
<ul>
<li>
Create an empty geometry node/container.

<li>
Rename to FX_ball_ref

<li>
Add a <code>Sphere</code>:

<ul>
<li>
Primitive Type:

<ul>
<li>
<code>Polygon</code>

</ul>
<li>
Radius:

<ul>
<li>
1

</ul>
<li>
Uniform Scale:

<ul>
<li>
4

</ul>
<li>
Frequency:

<ul>
<li>
10

</ul>
</ul>
<li>
Add a <code>Color</code> (green?)

<li>
Add a <code>Transform</code>

<ul>
<li>
with 4.3 on the <code>Y</code>

</ul>
</ul>
<div id="A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera"><h2 id="Create the Orbiting Camera" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera">Create the Orbiting Camera</a></h2></div>

<ul>
<li>
Create a <code>Null</code>:

<ul>
<li>
Rename to <code>orbit</code>

</ul>
<li>
Create a <code>Camera</code>:

<ul>
<li>
<code>Enter</code> key to edit, and move it way out:

<ul>
<li>
25 in <code>Z</code>

</ul>
<li>
<code>W</code> to see wireframe geo

</ul>
<li>
Connect the output of the orbit null to the camera (to make the Camera a child)

<li>
Now the <code>Y</code> rotation of the null will orbit the camera in the scene.

<li>
The <code>Y</code> Transform will raise the camera also.

</ul>
<div id="A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Adjusting the Camera Settings"><h3 id="Adjusting the Camera Settings" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Adjusting the Camera Settings">Adjusting the Camera Settings</a></h3></div>

<ul>
<li>
Select the <code>Camera</code> node

<li>
<code>Resolution</code> to 1920 x 1080

<li>
<code>Focal Length</code> to 22

<li>
Remember that the parent <code>Null</code> controls:

<ul>
<li>
<code>Y</code> translate (elevation)

<li>
<code>Y</code> rotate (orbit of the camera/child)

<li>
<code>Uniform Scale</code> push in/push out of the camera as a child

</ul>
</ul>
<div id="A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Create a Target Null"><h3 id="Create a Target Null" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Create a Target Null">Create a Target Null</a></h3></div>

<ul>
<li>
Create <code>Null</code>

<li>
Rename <code>target_cam</code>

<li>
Select <code>Camera</code> node:

<ul>
<li>
Click on the <code>Look At</code> constraint from the <code>Constraints</code> shelf:

<ul>
<li>
Then select the <code>target_null</code>

<li>
In the Viewport press <code>Enter</code> key

<li>
<code>Enter</code> key again to constrain:

<ul>
<li>
The constraint will be inside the camera node

</ul>
</ul>
</ul>
</ul>
<div id="A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Arranging the Camera and Scene"><h3 id="Arranging the Camera and Scene" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Arranging the Camera and Scene">Arranging the Camera and Scene</a></h3></div>

<ul>
<li>
Raise the camera rig so the horizon isn't in the center:

<ul>
<li>
<code>Y</code> translate of 2 on the <code>orbit</code> null

</ul>
<li>
Keyframe a push in:

<ul>
<li>
Frame one, <code>&lt;alt&gt; LMB</code> on the <code>Uniform Scale</code> of 1.64 on the <code>orbit</code> null

<li>
Frame 120, <code>&lt;alt&gt; LMB</code> with <code>Uniform Scale</code> at 1.0

</ul>
<li>
Adjust interpolation of animation curve:

<ul>
<li>
<code>&lt;shift&gt; LMB</code> on <code>Uniform Scale</code> field (to open the curve editor):

<ul>
<li>
<span id="A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Arranging the Camera and Scene-NOTE"></span><strong id="NOTE">NOTE</strong>: You can open a new tab with 'Animation Editor' if desired.

</ul>
<li>
<code>F</code> to frame all keys

<li>
Box select (<code>LMB</code> drag across) keyframes (start and end)

<li>
Click on the 'linear' for straight-line interpolation icon/button (at the top)

</ul>
<li>
Set an orbit animation:

<ul>
<li>
Frame one, <code>&lt;alt&gt; LMB</code> on the <code>orbit</code> null's <code>Y</code> field (-45)

<li>
Frame 120, <code>&lt;alt&gt; LMB</code> on the <code>orbit</code> field (set at -19)

</ul>
<li>
Adjust interpolation to Linear.

</ul>
<p>
In the animation window, you can drag animated parameters form the <code>Channel List</code> on the left into the main pane to edit.
</p>

<div id="A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Adding Noise Motion to the Camera"><h3 id="Adding Noise Motion to the Camera" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Adding Noise Motion to the Camera">Adding Noise Motion to the Camera</a></h3></div>

<div id="A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Adding Noise Motion to the Camera-Motion"><h4 id="Motion" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Adding Noise Motion to the Camera-Motion">Motion</a></h4></div>
<ul>
<li>
Select the <code>target_cam</code> null, and add motion noise to affect the camera (like hand-held motion)

<li>
<code>RMB</code> on <code>Translate</code> parameter:

<ul>
<li>
Motion FX &gt; Noise

<li>
A Parameters window opens:

<ul>
<li>
Increase the <code>Period</code> (maybe 3.00)

<li>
Lower <code>Amplitude</code> (maybe 5.00)

<li>
Lower <code>Roughness</code> (maybe 0.2)

</ul>
</ul>
</ul>
<div id="A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Adding Noise Motion to the Camera-Twist"><h4 id="Twist" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Adding Noise Motion to the Camera-Twist">Twist</a></h4></div>

<p>
Introduce some tilt or roll on the camera.
</p>

<ul>
<li>
Inside the <code>Camera</code> node:

<ul>
<li>
Go inside the <code>Constraint</code>

<li>
On the <code>Twist</code> parameter, add the noise again:

<ul>
<li>
Same thing for <code>Period</code>, <code>Amplitude</code> and <code>Roughness</code>

</ul>
</ul>
</ul>
<div id="A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Finish Up Camera"><h3 id="Finish Up Camera" class="header"><a href="#A Scene Build to Show One Solaris Workflow-Create the Orbiting Camera-Finish Up Camera">Finish Up Camera</a></h3></div>

<p>
At the SOP level ('/obj') add a <code>Network Box</code> ('backdrop'):
</p>
<ul>
<li>
Icon on the top bar of the <code>Network Editor</code> panel

<li>
Or

<li>
Select nodes to include:

<ul>
<li>
<code>&lt;shift&gt; O</code> (letter 'o') to create box

</ul>
</ul>
<p>
Type in 'Camera' along the top title bar.
</p>

<pre>
  
  +--------+                  +--------+             
  |  GEO   |geo_ground        |  GEO   |geo_tommy    
  +--------+                  +--------+             
                                                     
  +--------+                  +--------+             
  |  GEO   |geo_water         |  GEO   |FX_ball_ref  
  +--------+                  +--------+             
                                                     
                                                     
+---------------------------------------------------+
|   Camera                                          |
+---------------------------------------------------+
| +--------+                  +--------+            |
| |  NULL  |orbit             |  NULL  |target_cam  |
| +---+----+                  +--------+            |
|     |                                             |
|     |                                             |
| +---+----+                                        |
| | CAMERA |camera                                  |
| +--------+                                        |
|                                                   |
+---------------------------------------------------+

</pre>

<div id="Ground &amp; Water Materials"><h1 id="Ground &amp; Water Materials" class="header"><a href="#Ground &amp; Water Materials">Ground &amp; Water Materials</a></h1></div>
<div id="Ground &amp; Water Materials-[[https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=7585s|YouTube - timecode: 02:06:25]]"><h4 id="[[https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=7585s|YouTube - timecode: 02:06:25]]" class="header"><a href="#Ground &amp; Water Materials-[[https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=7585s|YouTube - timecode: 02:06:25]]"><a href="https://www.youtube.com/watch?v=3BX97YIQERE&amp;t=7585s">YouTube - timecode: 02:06:25</a></a></h4></div>

<p>
Set the Houdini Interface to the <code>Solaris</code> build.
</p>

<div id="Ground &amp; Water Materials-Go To Stage Context"><h3 id="Go To Stage Context" class="header"><a href="#Ground &amp; Water Materials-Go To Stage Context">Go To Stage Context</a></h3></div>
<p>
Jump into LOPs (Solaris/Stage/USD):
</p>
<ul>
<li>
<code>N</code> key in the <code>Network Editor</code> and choose 'LOPs'

</ul>
<div id="Ground &amp; Water Materials-Options for Importing from Objects to Stage"><h2 id="Options for Importing from Objects to Stage" class="header"><a href="#Ground &amp; Water Materials-Options for Importing from Objects to Stage">Options for Importing from Objects to Stage</a></h2></div>

<div id="Ground &amp; Water Materials-Options for Importing from Objects to Stage-Strategy 1: Scene Import (All)"><h3 id="Strategy 1: Scene Import (All)" class="header"><a href="#Ground &amp; Water Materials-Options for Importing from Objects to Stage-Strategy 1: Scene Import (All)">Strategy 1: Scene Import (All)</a></h3></div>

<p>
Import the elements from the Objects context with an import node:
</p>
<ul>
<li>
Drop a <code>Scene Import (All)</code> node

<li>
Add a <code>Stage Manager</code> node

</ul>
<p>
Voxyde (tutor) prefers a different strategy.
</p>

<div id="Ground &amp; Water Materials-Options for Importing from Objects to Stage-Strategy 2: Scene Import separate Elements"><h3 id="Strategy 2: Scene Import separate Elements" class="header"><a href="#Ground &amp; Water Materials-Options for Importing from Objects to Stage-Strategy 2: Scene Import separate Elements">Strategy 2: Scene Import separate Elements</a></h3></div>

<p>
Import the elements from the Objects context with an import node for each of the types:
</p>

<div id="Ground &amp; Water Materials-Options for Importing from Objects to Stage-Strategy 2: Scene Import separate Elements-Camera"><h4 id="Camera" class="header"><a href="#Ground &amp; Water Materials-Options for Importing from Objects to Stage-Strategy 2: Scene Import separate Elements-Camera">Camera</a></h4></div>
<ul>
<li>


<li>
<code>Scene Import (camera)</code>:

<ul>
<li>
The filter is set to <code>Cameras</code> already

<li>
<code>Objects</code> is set to <code>*</code> but you can click on the node navigation (right of the field):

<ul>
<li>
choose the explicit camera item

</ul>
</ul>
</ul>
<div id="Ground &amp; Water Materials-Options for Importing from Objects to Stage-Import the rest"><h3 id="Import the rest" class="header"><a href="#Ground &amp; Water Materials-Options for Importing from Objects to Stage-Import the rest">Import the rest</a></h3></div>

<p>
<span id="Ground &amp; Water Materials-Options for Importing from Objects to Stage-Import the rest-NOTE"></span><strong id="NOTE">NOTE</strong>: A good habit is to check the OUT null in the items to look for any unnecessary attributes that may exist (<code>i</code> option on the Null object)
</p>

<p>
While you are looking at the <code>OUT null</code>, copy it (<code>&lt;cntl&gt; C</code> or <code>&lt;cmd&gt; C</code>) to use the path.
</p>

<div id="Ground &amp; Water Materials-Options for Importing from Objects to Stage-Import the rest-Ground"><h4 id="Ground" class="header"><a href="#Ground &amp; Water Materials-Options for Importing from Objects to Stage-Import the rest-Ground">Ground</a></h4></div>

<ul>
<li>
Drop a <code>SOP Import</code> node:

<ul>
<li>
Rename to <code>grnd</code> or <code>ground</code>

<li>
<code>SOP Path</code> field paste the ground null (or just populate with the path):

<ul>
<li>
<code>/obj/geo/ground/OUT_geo_ground</code>

</ul>
<li>
<code>Import Path Prefix</code>:

<ul>
<li>
Change from /$OS to <code>/ENV/ground/geo</code>

<li>
This will start to sort the hierarchy

</ul>
</ul>
<li>
Drop a <code>Merge</code> node:

<ul>
<li>
Merge <code>Scene Import (camera)</code> and the <code>SOP Import</code> nodes

</ul>
</ul>
<div id="Ground &amp; Water Materials-Options for Importing from Objects to Stage-Import the rest-Water"><h4 id="Water" class="header"><a href="#Ground &amp; Water Materials-Options for Importing from Objects to Stage-Import the rest-Water">Water</a></h4></div>

<ul>
<li>
Duplicate the <code>ground</code> (SOP Import)

<ul>
<li>
Change name to <code>water</code>

<li>
<code>SOP Path</code> to:

<ul>
<li>
<code>/obj/geo_water/OUT_geo_water</code>

</ul>
<li>
<code>Import Path Prefix</code> to <code>/ENV/ground/water</code>

</ul>
<li>
Drop a <code>Merge</code> node to combine with the 'Ground' SOP.

</ul>
<div id="Ground &amp; Water Materials-Options for Importing from Objects to Stage-Import the rest-Continue"><h4 id="Continue" class="header"><a href="#Ground &amp; Water Materials-Options for Importing from Objects to Stage-Import the rest-Continue">Continue</a></h4></div>

<ul>
<li>
Drop a <code>Null</code> at the end of the whole chain and rename <code>OUT_scene</code>

</ul>
<p>
Stage Editor View:
</p>
<pre>

+------------------------+                                     
| Scene Import (camera)  |                                     
|  "sceneimportcameras1" |                                     
+----------+-------------+                                     
           |                                                   
           |              +-------------+       +-------------+
           |              | SOP Import  |       |  SOP Import |
           |              |   "ground"  |       |   "water"   |
           |              +------------++       ++------------+
           |                           |         |             
           |                         +-+---------++            
           |                         |   Merge    |            
           |                         |  "merge2"  |            
           |                         +-----+------+            
           |                               |                   
           |   +---------------------------+                   
           |   |                                               
     +-----+---+-+                                             
     |   Merge   |                                             
     |  "merge1" |                                             
     +-----+-----+                                             
           |                                                   
           |                                                   
     +-----+------+                                            
     |    Null    |                                            
     |"OUT_scene" |                                            
     +------------+                                            
</pre>

<p>
The USD <code>Scene Graph</code> should start to appear organized the hierarchy.
</p>

<div id="Ground &amp; Water Materials-Build Materials"><h2 id="Build Materials" class="header"><a href="#Ground &amp; Water Materials-Build Materials">Build Materials</a></h2></div>

<div id="Ground &amp; Water Materials-Build Materials-Ground"><h3 id="Ground" class="header"><a href="#Ground &amp; Water Materials-Build Materials-Ground">Ground</a></h3></div>

<ul>
<li>
Drop a <code>Material Library</code> node after the geo_ground ('SOP Import') node.

<li>
Inside, <code>Karma Material Builder</code>:

<ul>
<li>
Rename to <code>mtl_ground</code>

<li>
Inside:

<ul>
<li>
Select the <code>mtlxstandard</code> node and change the color

</ul>
</ul>
<li>
Return (up two levels):

<ul>
<li>
<code>Material Path Prefix</code> to <code>/ENV/ground/materials/</code>

<li>
Click on <code>Auto-fill Materials</code> button:

<ul>
<li>
This will bring the <code>geo_ground</code> into Material VOP

<li>
Clear the <code>Material Path</code> so that we use the 'Material Path Prefix' only

</ul>
<li>
Check 'on' the <code>Assign to Geometry</code> checkbox

<li>
<code>Geometry Path</code>, set to <code>/ENV/ground/geo</code> (you can drag this from the Scene Graph panel)

</ul>
</ul>
<div id="Ground &amp; Water Materials-Build Materials-Water"><h3 id="Water" class="header"><a href="#Ground &amp; Water Materials-Build Materials-Water">Water</a></h3></div>

<ul>
<li>
Duplicate the previous <code>Material Library</code> node and place it after the 'water' ('SOP Import') node.

<li>
Inside:

<ul>
<li>
Rename to mtl_water

<li>
Inside:

<ul>
<li>
Change color to blue

</ul>
</ul>
<li>
Return (up two levels):

<ul>
<li>
<code>Material Path Prefix</code> should be good

<li>
Change <code>Material VOP</code> field to <code>geo_water</code>

<li>
Change <code>Geometry Path</code> to <code>/ENV/ground/water</code>

</ul>
</ul>
<div id="Ground &amp; Water Materials-Build Materials-Lighting"><h3 id="Lighting" class="header"><a href="#Ground &amp; Water Materials-Build Materials-Lighting">Lighting</a></h3></div>

<p>
Before the <code>OUT_scene</code> null, add:
</p>
<ul>
<li>
<code>Karma Physical Sky</code> lighting node

<li>
<code>Exposure</code> to 2.0

<li>
<code>Solar Altitude</code> to 18

<li>
<code>Solar Azimuth</code> to 60

</ul>
<p>
In the Viewport:
</p>
<ul>
<li>
<code>&lt;shift&gt; R</code> to start the render

<li>
Switch to XPU or CPU as desired:

<ul>
<li>
This is the drop down where 'Persp' camera drop-down is on the top-right of the Viewport.

</ul>
</ul>
<div id="Ground &amp; Water Materials-Build Materials-Lighting-Save your scene"><h4 id="Save your scene" class="header"><a href="#Ground &amp; Water Materials-Build Materials-Lighting-Save your scene">Save your scene</a></h4></div>

<div id="Ground &amp; Water Materials-Build Materials-Preview Textures (with 'Unlit' shader)"><h3 id="Preview Textures (with 'Unlit' shader)" class="header"><a href="#Ground &amp; Water Materials-Build Materials-Preview Textures (with 'Unlit' shader)">Preview Textures (with 'Unlit' shader)</a></h3></div>
<p>
<span id="Ground &amp; Water Materials-Build Materials-Preview Textures (with 'Unlit' shader)-NOTE"></span><strong id="NOTE">NOTE</strong>: <em>You can use an 'MtlX Surface Unlit' node to preview textures</em> .
</p>
<ul>
<li>
Drop the <code>MtlX Surface Unlit</code> node and plug an out into the <code>emission</code> input.

<li>
Connect the 'Surface Unlit' out to the <code>surface</code> input on the <code>Material_Outputs_and_AOVs</code> node.

</ul>
<div id="Ground &amp; Water Materials-Build Materials-Water - Refining Material"><h3 id="Water - Refining Material" class="header"><a href="#Ground &amp; Water Materials-Build Materials-Water - Refining Material">Water - Refining Material</a></h3></div>

<p>
<code>mtlxstandard_surface</code>:
</p>
<ul>
<li>
Transmission - 1

<li>
Color - black

<li>
Specular:

<ul>
<li>
Specular - 1

<li>
Index of Refraction - 1.3

</ul>
<li>
Transmission:

<ul>
<li>
Light gray/blue (0.5, 0.65, 0.85)

<li>
Depth - 2

<li>
Scatter - black

</ul>
</ul>
<div id="Ground &amp; Water Materials-Build Materials-Water - Refining Material-Noise for Normals"><h4 id="Noise for Normals" class="header"><a href="#Ground &amp; Water Materials-Build Materials-Water - Refining Material-Noise for Normals">Noise for Normals</a></h4></div>

<p>
Use the 'Surface Unlit' node (above) to preview.
</p>

<div id="Ground &amp; Water Materials-Build Materials-Water - Refining Material-Noise:"><h4 id="Noise:" class="header"><a href="#Ground &amp; Water Materials-Build Materials-Water - Refining Material-Noise:">Noise:</a></h4></div>

<ul>
<li>
Create an <code>MtlX Position</code> node (setting the 'space'):

<ul>
<li>
Set 'space' to <code>World</code>:

<li>
Now we can scale the noise.

</ul>
<li>
Create an <code>MtlX Multiply</code> node:

<ul>
<li>
Plug 'MtlX Position' node 'out' into the 'MtlX Multiply' 'in1' input.

<li>
Set the component values to 0.3, 1, 1

</ul>
<li>
Create an <code>MtlX Add</code> node:

<ul>
<li>
Plug the out of the 'MtlX Multiply' into the 'in1' input to the 'Add' node.

<li>
Set the Input2 <code>Y</code> component to <code>2.8</code> (later we will add a Time attribute to drive this; see below)

</ul>
<li>
Create an <code>MtlX Fractal3D</code> node for fake waves/ripples:

<ul>
<li>
Plug the 'MtlX Add' 'out into the 'MtlX Fractal3D' 'position' input.

</ul>
<li>
Create an <code>MtlX Ramp</code> node:

<ul>
<li>
Plug the 'MtlX Fractal3D' out into the 'MtlX Ramp' 'in' input.

<li>
Plug the 'MtlX Ramp' 'out' into the 'MtlX Surface Unlit' 'emission' input.

<li>
Set the 'MtlX Ramp' Inlow to <code>-1</code> and the Inhigh to <code>1</code>

</ul>
</ul>
<div id="Ground &amp; Water Materials-Build Materials-Water - Refining Material-Adding a Time aspect:"><h4 id="Adding a Time aspect:" class="header"><a href="#Ground &amp; Water Materials-Build Materials-Water - Refining Material-Adding a Time aspect:">Adding a Time aspect:</a></h4></div>

<ul>
<li>
Create an <code>MtlX Time</code> node.

<li>
Create an <code>MtlX Divide</code> node:

<ul>
<li>
Plug the 'out' of the 'MtlX Time' node inot the 'MtlX Divide' 'in1' input

</ul>
<li>
Create an <code>MtlX Combine3</code> node:

<ul>
<li>
Plug the 'out' of the 'MtlX Divide' node into the 'MtlX Combine3' 'in2' input

<li>
Plug the 'out' of the 'MtlX Combine3' into the 'MtlX Add' node's 'in2' input.

</ul>
<li>
The animation is too fast with just the Time input (frames), so we will attenuate it:

</ul>
<div id="Ground &amp; Water Materials-Build Materials-Water - Refining Material-Connect to Regular Shader:"><h4 id="Connect to Regular Shader:" class="header"><a href="#Ground &amp; Water Materials-Build Materials-Water - Refining Material-Connect to Regular Shader:">Connect to Regular Shader:</a></h4></div>

<ul>
<li>
Disconnect the 'MtlX Surface Unlit'.

<li>
Plug the regular 'MtlX Standard Surface' 'out' back to the <code>Material_Outputs_and_AOVs</code> 'surface' input.

</ul>
<div id="Ground &amp; Water Materials-Build Materials-Water - Refining Material-Convert the noise network to a Normal Map"><h4 id="Convert the noise network to a Normal Map" class="header"><a href="#Ground &amp; Water Materials-Build Materials-Water - Refining Material-Convert the noise network to a Normal Map">Convert the noise network to a Normal Map</a></h4></div>


<ul>
<li>
Create a <code>MtlX Height to Normal</code> node:

<ul>
<li>
Plug the 'out' of the 'MtlX Remap' into the 'MtlX Height to Normal' 'in' input.

<li>
Set the <code>Scale</code> to something like <code>0.03</code>

</ul>
<li>
Create an <code>MtlX Normal Map</code> node:

<ul>
<li>
Plug the out of the 'MtlX Height to Normal' into the 'in' of the 'MtlX Normal Map'

<li>
Plug the out of the 'MtlX Normal Map' into the <code>Geometry&gt;Normal</code> input of the 'MtlX Standard Shader'

</ul>
</ul>
<div id="Ground &amp; Water Materials-Flipbook"><h2 id="Flipbook" class="header"><a href="#Ground &amp; Water Materials-Flipbook">Flipbook</a></h2></div>

<p>
To create a <code>Flipbook</code> of the animation:
</p>
<ul>
<li>
<code>RMB</code> click the 'Flipbook' icon at the base of the left panel of icons on the Viewport.

<li>
Go to the 'Flipbook' Tab, and check 'on' the <code>Limit Frame Time</code> settings:

<ul>
<li>
The tutorial uses a short time of 0.2 (seconds) to get quick feedback on the noise timing.

</ul>
<li>
The <code>Size</code> Tab lets you make the 'Flipbook' smaller to speedup further.

</ul>
<div id="Ground &amp; Water Materials-Flipbook-Ground - Refining Material"><h3 id="Ground - Refining Material" class="header"><a href="#Ground &amp; Water Materials-Flipbook-Ground - Refining Material">Ground - Refining Material</a></h3></div>

<p>
Jump into the <code>Material Library</code> node below the ground setup.
</p>


<p>
<br>
<br>
<a href="Houdini.html">Houdini</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
