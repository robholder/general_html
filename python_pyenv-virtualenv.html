<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>python_pyenv-virtualenv</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<div id="[[Python]]"><h1 id="[[Python]]" class="header"><a href="#[[Python]]"><a href="Python.html">Python</a></a></h1></div>

<div id="PyEnv - VirtualEnv"><h1 id="PyEnv - VirtualEnv" class="header"><a href="#PyEnv - VirtualEnv">PyEnv - VirtualEnv</a></h1></div>

<div id="Contents" class="toc"><h1 id="Contents" class="header"><a href="#Contents">Contents</a></h1></div>
<ul>
<li>
<a href="python_pyenv-virtualenv.html#Python">#Python</a>

<li>
<a href="python_pyenv-virtualenv.html#PyEnv - VirtualEnv">#PyEnv - VirtualEnv</a>

<ul>
<li>
<a href="python_pyenv-virtualenv.html#Summary Pyenv">#Summary Pyenv</a>

<li>
<a href="python_pyenv-virtualenv.html#Summary Pyenv-Virtualenv">#Summary Pyenv-Virtualenv</a>

<li>
<a href="python_pyenv-virtualenv.html#Installing PyEnv-VirtualEnv">#Installing PyEnv-VirtualEnv</a>

<li>
<a href="python_pyenv-virtualenv.html#Edit .zshrc or .bashrc">#Edit .zshrc or .bashrc</a>

<ul>
<li>
<a href="python_pyenv-virtualenv.html#Specific addition for Virtualenv on .zshrc and .bashrc">#Specific addition for Virtualenv on .zshrc and .bashrc</a>

<li>
<a href="python_pyenv-virtualenv.html#For .zshrc">#For .zshrc</a>

<li>
<a href="python_pyenv-virtualenv.html#For .bashrc">#For .bashrc</a>

</ul>
<li>
<a href="python_pyenv-virtualenv.html#PyEnv Guide">#PyEnv Guide</a>

</ul>
<li>
<a href="python_pyenv-virtualenv.html#Using pyenv virtualenv">#Using pyenv virtualenv</a>

<ul>
<li>
<a href="python_pyenv-virtualenv.html#Creating a pyenv virtualenv">#Creating a pyenv virtualenv</a>

<li>
<a href="python_pyenv-virtualenv.html#Activating a virtualenv">#Activating a virtualenv</a>

<li>
<a href="python_pyenv-virtualenv.html#Listing existing virtualevns">#Listing existing virtualevns</a>

<li>
<a href="python_pyenv-virtualenv.html#Deleting a virtualenv">#Deleting a virtualenv</a>

</ul>
</ul>
<p>
From:
<a href="https://raycent.medium.com/managing-python-on-macos-the-clean-way-7673cab874f6">https://raycent.medium.com/managing-python-on-macos-the-clean-way-7673cab874f6</a>
</p>

<p>
"pyenv-virtualenv and pyenv-virtualenvwrapper are also two plugins recommended to manage virtualenvs with pyenv. virtualenv is a very popular tool that creates isolated Python environments for Python libraries. pyenv-virtualenv is a plugin for pyenv, by the same author as pyenv, to allow us to use pyenv and virtualenv at the same time conveniently. virtualenvwrapper, on the other hand, is a set of extensions to virtualenv. It provides commands like mkvirtualenv, lssitepackages, and especially workon for switching between different virtualenv directories. This tool is especially useful if we want multiple virtualenv directories. pyenv-virtualenvwrapper is a plugin for pyenv to integrate virtualenvwrapper into pyenv."
</p>

<p>
See PyEnv for an intro to PyEnv before thinking of pyenv-virtualenv:
</p>

<ul>
<li>
<a href="python_pyenv.html">PyEnv</a>

</ul>
<div id="PyEnv - VirtualEnv-Summary Pyenv"><h2 id="Summary Pyenv" class="header"><a href="#PyEnv - VirtualEnv-Summary Pyenv">Summary Pyenv</a></h2></div>
<pre>
# List available pythons:
pyenv install --list
 
# Install a version of python:
pyenv install 3.12.3

# List all installed versions of Python:
pyenv versions
 
# Display currently active version of Python:
pyenv version

# Global change or set:
pyenv global 3.11.9

# Shell
pyenv shell 3.11.9

# Local to a directory (creates a .python_version file):
pyenv local 3.11.9

# Set to the original system python:
pyenv global system 
</pre>

<p>
More help and info at:
<a href="https://github.com/pyenv/pyenv/blob/master/COMMANDS.md">https://github.com/pyenv/pyenv/blob/master/COMMANDS.md</a>
</p>

<div id="PyEnv - VirtualEnv-Summary Pyenv-Virtualenv"><h2 id="Summary Pyenv-Virtualenv" class="header"><a href="#PyEnv - VirtualEnv-Summary Pyenv-Virtualenv">Summary Pyenv-Virtualenv</a></h2></div>

<pre>
# Create a virtualenv based on the 3.11.9 install:
pyenv virtualenv 3.11.9 my_3.11_env

# Create a virtualenv based on the current python:
pyenv virtual env &lt;my_env&gt;

# Activate a virtualenv (if needed):
pyenv activate &lt;my_env&gt;

# Deactivate an active virtualenv:
pyenv deactivate

# Delete a virtualenv:
pyenv uninstall &lt;my_env&gt;
# ..or:
pyenv virtualenv-delete &lt;my_env&gt;
</pre>



<div id="PyEnv - VirtualEnv-Installing PyEnv-VirtualEnv"><h2 id="Installing PyEnv-VirtualEnv" class="header"><a href="#PyEnv - VirtualEnv-Installing PyEnv-VirtualEnv">Installing PyEnv-VirtualEnv</a></h2></div>

<p>
To install pyenv AND pyenv-virtualenv:
</p>

<pre>
brew update
brew install pyenv pyenv-virtualenv

# or optionally:
brew install pyenv pyenv-virtualenv pyenv-virtualenvwrapper
</pre>

<p>
...otherwise, install just what you need if pyenv is already installed.
</p>

<pre>
# if needed install dependencies:
brew install openssl readline sqlite3 xz zlib
</pre>


<div id="PyEnv - VirtualEnv-Edit .zshrc or .bashrc"><h2 id="Edit .zshrc or .bashrc" class="header"><a href="#PyEnv - VirtualEnv-Edit .zshrc or .bashrc">Edit .zshrc or .bashrc</a></h2></div>

<div id="PyEnv - VirtualEnv-Edit .zshrc or .bashrc-Specific addition for Virtualenv on .zshrc and .bashrc"><h3 id="Specific addition for Virtualenv on .zshrc and .bashrc" class="header"><a href="#PyEnv - VirtualEnv-Edit .zshrc or .bashrc-Specific addition for Virtualenv on .zshrc and .bashrc">Specific addition for Virtualenv on .zshrc and .bashrc</a></h3></div>

<p>
For Virtualevn, you'll need to add the following to the .zshrc or .bashrc
You need to activate virtualenv (after the codes below) as:
</p>

<pre>
eval "$(pyenv virtualenv-init -)"
</pre>

<p>
Now continue with activating PyEnv itself:
</p>

<p>
Taken from here: <a href="https://github.com/pyenv/pyenv">https://github.com/pyenv/pyenv</a>
</p>

<div id="PyEnv - VirtualEnv-Edit .zshrc or .bashrc-For .zshrc"><h3 id="For .zshrc" class="header"><a href="#PyEnv - VirtualEnv-Edit .zshrc or .bashrc-For .zshrc">For .zshrc</a></h3></div>

<p>
To feed into .zshrc:
</p>
<pre>
echo 'export PYENV_ROOT="$HOME/.pyenv"' &gt;&gt; ~/.zshrc
echo '[[ -d $PYENV_ROOT/bin ]] &amp;&amp; export PATH="$PYENV_ROOT/bin:$PATH"' &gt;&gt; ~/.zshrc
echo 'eval "$(pyenv init -)"' &gt;&gt; ~/.zshrc
</pre>

<p>
...Or to copy &amp; paste:
</p>

<pre>
export PYENV_ROOT="$HOME/.pyenv"
[[ -d $PYENV_ROOT/bin ]] &amp;&amp; export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"
</pre>


<div id="PyEnv - VirtualEnv-Edit .zshrc or .bashrc-For .bashrc"><h3 id="For .bashrc" class="header"><a href="#PyEnv - VirtualEnv-Edit .zshrc or .bashrc-For .bashrc">For .bashrc</a></h3></div>

<p>
To feed into .bashrc:
</p>
<pre>
echo 'export PYENV_ROOT="$HOME/.pyenv"' &gt;&gt; ~/.bashrc
echo 'command -v pyenv &gt;/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"' &gt;&gt; ~/.bashrc
echo 'eval "$(pyenv init -)"' &gt;&gt; ~/.bashrc
</pre>

<p>
...Or to copy into .bashrc:
</p>

<pre>
export PYENV_ROOT="$HOME/.pyenv"
command -v pyenv &gt;/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"
</pre>

<p>
Then... if you have them...
</p>

<p>
For ~/.profile
</p>

<pre>
echo 'export PYENV_ROOT="$HOME/.pyenv"' &gt;&gt; ~/.profile
echo 'command -v pyenv &gt;/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"' &gt;&gt; ~/.profile
echo 'eval "$(pyenv init -)"' &gt;&gt; ~/.profile
</pre>

<p>
Or for ~/.bash_profile:
</p>

<pre>
echo '[[export]] PYENV_ROOT="$HOME/.pyenv"' &gt;&gt; ~/.bash_profile
echo '[[ -d $PYENV_ROOT/bin ]] &amp;&amp; export PATH="$PYENV_ROOT/bin:$PATH"' &gt;&gt; ~/.bash_profile
echo 'eval "$(pyenv init -)"' &gt;&gt; ~/.bash_profile
</pre>

<div id="PyEnv - VirtualEnv-PyEnv Guide"><h2 id="PyEnv Guide" class="header"><a href="#PyEnv - VirtualEnv-PyEnv Guide">PyEnv Guide</a></h2></div>

<p>
Jump back to the <a href="python_pyenv.html">PyEnv page</a>
</p>

<div id="Using pyenv virtualenv"><h1 id="Using pyenv virtualenv" class="header"><a href="#Using pyenv virtualenv">Using pyenv virtualenv</a></h1></div>

<div id="Using pyenv virtualenv-Creating a pyenv virtualenv"><h3 id="Creating a pyenv virtualenv" class="header"><a href="#Using pyenv virtualenv-Creating a pyenv virtualenv">Creating a pyenv virtualenv</a></h3></div>
<p>
First install a version of python:
</p>

<pre>
pyenv install 3.11.9
</pre>

<p>
To see a list of available installs, run:
</p>
<pre>
pyenv install --list
# and to grep for a pattern:
pyenv install --list | grep 3.11
</pre>


<p>
When the version or package is installed, you can create a virtual env with that version as a base:
</p>

<pre>
pyenv virtualenv my_venv
</pre>

<div id="Using pyenv virtualenv-Activating a virtualenv"><h3 id="Activating a virtualenv" class="header"><a href="#Using pyenv virtualenv-Activating a virtualenv">Activating a virtualenv</a></h3></div>


<p>
If you have <code>eval "$(pyenv virtualenv-init -)"</code> in your .zshrc or .bashrc files, then you don't need to activate the virtualenv (just navigating into the directory will activate it); i.e., if it has a .python-version file present.
A .python-version file can be initiated with:
</p>

<pre>
pyenv local &lt;my-version&gt;
</pre>

<p>
If you need to activate manually, then:
</p>
<pre>
pyenv activate &lt;my_env&gt;
# and to deactivate:
pyenv deactivate
</pre>


<div id="Using pyenv virtualenv-Listing existing virtualevns"><h3 id="Listing existing virtualevns" class="header"><a href="#Using pyenv virtualenv-Listing existing virtualevns">Listing existing virtualevns</a></h3></div>

<p>
To list the virtualenvs on the system:
</p>

<pre>
pyenv virtualenvs
  
  miniconda3-3.9.1 (created from /home/yyuu/.pyenv/versions/miniconda3-3.9.1)
  miniconda3-3.9.1/envs/myenv (created from /home/yyuu/.pyenv/versions/miniconda3-3.9.1)
  2.7.10/envs/my-virtual-env-2.7.10 (created from /home/yyuu/.pyenv/versions/2.7.10)
  3.4.3/envs/venv34 (created from /home/yyuu/.pyenv/versions/3.4.3)
  my-virtual-env-2.7.10 (created from /home/yyuu/.pyenv/versions/2.7.10)
* venv34 (created from /home/yyuu/.pyenv/versions/3.4.3)
</pre>

<div id="Using pyenv virtualenv-Deleting a virtualenv"><h3 id="Deleting a virtualenv" class="header"><a href="#Using pyenv virtualenv-Deleting a virtualenv">Deleting a virtualenv</a></h3></div>

<p>
Two ways.
</p>

<p>
Manual:
</p>
<pre>
rm -rf $(pyenv root)/versions/&lt;my_env&gt;
# and
rm -rf $(pyenv root)/versions/{version}/envs/&lt;my_env&gt;
</pre>

<p>
Auto:
</p>
<pre>
pyenv uninstall &lt;my_env&gt;
</pre>

<p>
Or...
</p>
<pre>
pyenv virtualenv-delete &lt;my_env&gt;
</pre>

</body>
</html>
