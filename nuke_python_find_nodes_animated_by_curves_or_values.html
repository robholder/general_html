<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>nuke_python_find_nodes_animated_by_curves_or_values</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="nuke_index.html">Nuke Index</a>
</p>

<div id="Find Animated Nodes (by Curves)]]"><h1 id="Find Animated Nodes (by Curves)]]" class="header"><a href="#Find Animated Nodes (by Curves)]]">Find Animated Nodes (by Curves)]]</a></h1></div>

<p>
This snippet prints a list of nodes that have animation curves (or string values) but not expressions. (I used it to check 'same as' shot scripts, to see if there were any shot specific animations on nodes that should be deleted/changed.)
</p>

<pre python>
import nuke

def list_curve_driven_knobs():
    result = {}
    for node in nuke.allNodes():
        animated_knobs = []
        for knob_name, knob in node.knobs().items():
            if knob.isAnimated() and not knob.hasExpression():
                if hasattr(knob, "animation"):
                    if hasattr(knob, "dimensions"):
                        for i in range(knob.dimensions()):
                            anim = knob.animation(i)
                            if anim is not None:
                                animated_knobs.append(knob_name)
                                break
                    else:
                        try:
                            anim = knob.animation(0)
                            if anim is not None:
                                animated_knobs.append(knob_name)
                        except Exception:
                            pass
        if animated_knobs:
            result[node] = animated_knobs   # store node object, not string
    return result

# Usage
animated_nodes = list_curve_driven_knobs()
for node, knobs in animated_nodes.items():
    print(f"{node.name()} ({node.Class()}): {', '.join(knobs)}")
</pre>


<p>
<a href="nuke_index.html">Nuke Index</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
