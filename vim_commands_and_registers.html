<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>vim_commands_and_registers</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a><br>
</p>

<p>
<a href="vim_learning.html">vim_learning</a>
</p>

<div id="Registers As Commands"><h2 id="Registers As Commands" class="header"><a href="#Registers As Commands">Registers As Commands</a></h2></div>
<p>
<a href="https://stackoverflow.com/questions/3997078/how-to-paste-yanked-text-into-the-vim-command-line">https://stackoverflow.com/questions/3997078/how-to-paste-yanked-text-into-the-vim-command-line</a>
<br>
<br>
</p>

<div id="Registers"><h1 id="Registers" class="header"><a href="#Registers">Registers</a></h1></div>

<p>
Vim has many registers; some of which work in different ways:
</p>

<p>
<code>0</code> (yank register: when you use y in normal mode, without specifying a register, yanked text goes there and also to the default register),<br>
<code>1 to 9</code> (shifting delete registers, when you use commands such as <code>c</code> or <code>d</code>, what has been deleted goes to register 1, what was in register 1 goes to register 2, etc.),<br>
<code>"</code> (default register, also known as unnamed register. This is where the <code>"</code> comes in <code>Ctrl-R</code>, <code>")</code>,<br>
<code>a</code> to <code>z</code> for your own use (capitalized A to Z are for appending to corresponding registers).<br>
<code>_</code> (acts like /dev/null (Unix) or NUL (Windows), you can write to it but it's discarded and when you read from it, it is always empty),<br>
<code>-</code> (small delete register),<br>
<code>/</code> (search pattern register, updated when you look for text with <code>/</code> <code>?</code> <code>*</code> or <code>#</code> for instance; you can also write to it to dynamically change the search pattern),<br>
<code>:</code> (stores last VimL typed command via Q or :, readonly),<br>
<code>+</code> and <code>*</code> (system clipboard registers, you can write to them to set the clipboard and read the clipboard contents from them)<br>
See :help registers for the full reference.
</p>

<div id="Registers-Show Registers"><h2 id="Show Registers" class="header"><a href="#Registers-Show Registers">Show Registers</a></h2></div>

<p>
Display the contents of all registers. Synonyms and shorthands for this command are<br>
<code>:display</code><br>
<code>:reg</code><br>
<code>:di</code><br><br>
</p>

<div id="Registers-Show Registers-Show Register/Macro (in split window)"><h3 id="Show Register/Macro (in split window)" class="header"><a href="#Registers-Show Registers-Show Register/Macro (in split window)">Show Register/Macro (in split window)</a></h3></div>
<p>
<code>:echo @[letter]</code> &lt;-- show contents of a register/macro<br>
</p>

<div id="Registers-Pasting in Insert or Command-line modes"><h2 id="Pasting in Insert or Command-line modes" class="header"><a href="#Registers-Pasting in Insert or Command-line modes">Pasting in Insert or Command-line modes</a></h2></div>

<p>
<span id="Registers-Pasting in Insert or Command-line modes-Caution:"></span><strong id="Caution:">Caution:</strong> The following includes auto-indenting, conversion of control characters like 0x08 to backspace, etc<br><br>
<code>&lt;ctrl&gt;r</code> &lt;-- inserts the contents of this register. (But sometimes with odd indents etc.)<br><br>
<code>&lt;ctrl&gt;r &lt;ctrl&gt;o [register name]</code> &lt;-- inserts the contents of the register WITHOUT indents etc.<br>
</p>


<div id="Registers-Pasting in Insert or Command-line modes-Last Command"><h3 id="Last Command" class="header"><a href="#Registers-Pasting in Insert or Command-line modes-Last Command">Last Command</a></h3></div>
<p>
<code>":p</code> &lt;-- Paste the last command you used in vim into your buffer.<br><br>
<code>"</code> - is a Normal mode command that lets you select what register is to be used during the next yank, delete or paste operation.<br>
<code>:</code> - selects the colon register (storing last command).<br>
<code>p</code> - pastes the contents of the register.<br>
</p>

<div id="Registers-Pasting in Insert or Command-line modes-Last Search Term"><h3 id="Last Search Term" class="header"><a href="#Registers-Pasting in Insert or Command-line modes-Last Search Term">Last Search Term</a></h3></div>
<p>
<code>&lt;ctrl&gt;r /</code> &lt;-- Paste the last search pattern into your file in insert or command-line mode<br>
</p>







<p>
Define a search pattern manually: :let @/ = 'foo'
</p>

<p>
Note that doing that, you needn't to escape / in the pattern. However you need to double all single quotes of course.
</p>

<p>
Copy all lines beginning with foo, and afterwards all lines containing bar to clipboard, chain these commands: qaq (resets the a register storing an empty macro inside it), :g/^foo/y A, :g/bar/y A, :let @+ = @a.
</p>




<p>
Add a line containing foo before each line: :g/^/-put ='foo'. This is a clever use of the expression register. Here, - is a synonym for .-1 (cf. :help :range). Since :put puts the text after the line, you have to explicitly tell it to act on the previous one.
</p>

<p>
Copy the entire buffer to the system clipboard: :%y+.
</p>

<p>
If you have misrecorded a macro, you can type :let @a=' Ctrl-R =replace(@a,"'","''",'g') Enter ' and edit it. This will modify the contents of the macro stored in register a, and it's shown here how you can use the expression register to do that. Another, simpler, way of modifying a macro is to paste it in a buffer ("ap), edit it, and put it again into the register, by selecting it and "ay.
</p>

<p>
If you did dddd, you might do uu in order to undo. With p you could get the last deleted line. But actually you can also recover up to 9 deletes with the registers @1 through @9.
</p>

<p>
Even better, if you do "1P, then . in Normal mode will play "2P, and so on.
</p>

<p>
cf. :help . and :help quote_number
</p>

<p>
If you want to insert the current date in Insert mode:<br>
Ctrl-R=strftime('%y%m%d')Enter.<br>
</p>

<p>
cf. :help strftime()
</p>

<p>
Once again, what can be confusing:
</p>

<p>
<code>:@</code> is a command-line command that interprets the contents of a register as vimscript and sources it<br>
</p>

<p>
<code>@</code> in normal mode command that interprets the contents of a register as normal-mode keystrokes (except when you use : register, that contains last played command without the initial colon: in this case it replays the command as if you also re-typed the colon and the final return key).<br>
</p>

<p>
<code>"</code> in normal mode command that helps you select a register for yank, paste, delete, correct, etc.
</p>

<p>
<code>"</code> is also a valid register name (the default, or unnamed, register) and therefore can be passed as an arguments for commands that expect register names
</p>

<div id="Registers-Pasting in Insert or Command-line modes-Using Registers/Macros with Global"><h3 id="Using Registers/Macros with Global" class="header"><a href="#Registers-Pasting in Insert or Command-line modes-Using Registers/Macros with Global">Using Registers/Macros with Global</a></h3></div>
<p>
<a href="https://www.integralist.co.uk/posts/vim/">https://www.integralist.co.uk/posts/vim/</a><br>
<br>
The <code>:global</code> command can use any Ex command.<br>
It means you can also use macros by way of the <code>:norm command</code>.<br>
In the following example we search for foo anywhere in the content and then apply the <code>@q</code> register to the matchesâ€¦
</p>

<pre vim>
:g/foo/norm @q | update 
</pre>


<p>
<a href="vim_learning.html">vim_learning</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
