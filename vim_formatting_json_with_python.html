<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>vim_formatting_json_with_python</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a><br>
</p>

<p>
<a href="vim_learning.html">Vim Learning</a>
</p>

<div id="Formatting JSON"><h1 id="Formatting JSON" class="header"><a href="#Formatting JSON">Formatting JSON</a></h1></div>

<div id="Formatting JSON-Native Approach"><h2 id="Native Approach" class="header"><a href="#Formatting JSON-Native Approach">Native Approach</a></h2></div>


<p>
Vim has a native technique to format JSON using its <code>=</code> operator, which is the built-in "re-indent" functionality. Here's how you can use it:
</p>

<p>
Make sure Vim knows the file type is JSON: If the file type isn't already set to JSON, you can manually set it with this command:
</p>

<pre vim>
:set filetype=json
</pre>

<p>
Re-indent the entire file: In normal mode, use the following:
</p>

<pre vim>
gg=G
</pre>
<ul>
<li>
<code>gg</code> moves the cursor to the start of the file.

<li>
<code>=G</code> re-indents from the current line to the end of the file.

</ul>
<div id="Formatting JSON-Native Approach-Re-indent a specific section:"><h4 id="Re-indent a specific section:" class="header"><a href="#Formatting JSON-Native Approach-Re-indent a specific section:">Re-indent a specific section:</a></h4></div>

<p>
You can visually select a range of lines (using <code>V</code> and moving the cursor), then press <code>=</code> to re-indent only that section.
</p>
<ul>
<li>
Notes: The native <code>=</code> method relies on Vim's understanding of the syntax. Ensure you have a proper indentation configuration for JSON by setting:

</ul>
 
<p>
This configures Vim to use 2 spaces for indentation and replaces tabs with spaces.
</p>

<pre vim>
:set shiftwidth=2
:set expandtab
</pre>


<div id="Formatting JSON-Python 3+."><h2 id="Python 3+." class="header"><a href="#Formatting JSON-Python 3+.">Python 3+.</a></h2></div>

<pre vim>
:%!python3 -m json.tool
</pre>

<div id="Formatting JSON-Python 2"><h2 id="Python 2" class="header"><a href="#Formatting JSON-Python 2">Python 2</a></h2></div>

<pre vim>
:%!python -m json.tool
</pre>

<div id="Formatting JSON-Python 2-Explanation"><h3 id="Explanation" class="header"><a href="#Formatting JSON-Python 2-Explanation">Explanation</a></h3></div>

<div id="Formatting JSON-Python 2-Explanation-From Python Parameter/Argument Help"><h4 id="From Python Parameter/Argument Help" class="header"><a href="#Formatting JSON-Python 2-Explanation-From Python Parameter/Argument Help">From Python Parameter/Argument Help</a></h4></div>

<p>
-m mod : run library module as a script (terminates option list)
</p>



<div id="Formatting JSON-Python 2-Before"><h3 id="Before" class="header"><a href="#Formatting JSON-Python 2-Before">Before</a></h3></div>

<pre vim>
{
"order_num" : "O2012019231a",
"order_date" : "2012-06-27",
"order_id" : 21934,
"order_item" : [
{
"product_id" : 20933,
"quantity" : 3,
"price" : 36000,
"product_name" : "Thingamagic 2000",
"unit_price" : 12000
},
{
"product_id" : 10366,
"quantity" : 1,
"price" : 100,
"product_name" : "Super Duper Blooper",
"unit_price" : 100
}
]
}
</pre>


<div id="Formatting JSON-Python 2-After"><h3 id="After" class="header"><a href="#Formatting JSON-Python 2-After">After</a></h3></div>

<pre vim>
{
    "order_num": "O2012019231a",
    "order_date": "2012-06-27",
    "order_id": 21934,
    "order_item": [
        {
            "product_id": 20933,
            "quantity": 3,
            "price": 36000,
            "product_name": "Thingamagic 2000",
            "unit_price": 12000
        },
        {
            "product_id": 10366,
            "quantity": 1,
            "price": 100,
            "product_name": "Super Duper Blooper",
            "unit_price": 100
        }
    ]
}
</pre>

</body>
</html>
