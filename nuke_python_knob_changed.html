<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>nuke_python_knob_changed</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="Index.html">Index</a>
</p>

<p>
<a href="nuke_index.html">Nuke Index</a>
</p>

<div id="Nuke - Python - knobChanged"><h1 id="Nuke - Python - knobChanged" class="header"><a href="#Nuke - Python - knobChanged">Nuke - Python - knobChanged</a></h1></div>

<p>
The <code>nuke.knobChanged()</code> mechanism is a way in Nuke to set up callbacks that run whenever one or more knobs on a node change their values. In many cases, a node is created with a hidden knob called <code>"knobChanged"</code> — this knob can hold a string of Python code, and that code is executed after the user manipulates any of the node’s knobs (unless that knob is flagged to bypass these callbacks) .
</p>

<div id="Nuke - Python - knobChanged-What It Does"><h2 id="What It Does" class="header"><a href="#Nuke - Python - knobChanged-What It Does">What It Does</a></h2></div>

<ul>
<li>
<span id="Nuke - Python - knobChanged-What It Does-Event Callback"></span><strong id="Event Callback">Event Callback</strong>: When a user changes a knob (for example, toggling a checkbox or sliding a numeric value), Nuke calls the function specified in the "knobChanged" knob. This mechanism allows you to automatically respond to changes—such as enabling/disabling other knobs, showing/hiding UI controls, or updating dependent parameters.

<li>
<span id="Nuke - Python - knobChanged-What It Does-Accessing the Change"></span><strong id="Accessing the Change">Accessing the Change</strong>: Inside your callback function, you can access the node and the specific knob that changed by using the helper functions:

<ul>
<li>
<code>nuke.thisNode()</code> returns the node that triggered the change.

<li>
<code>nuke.thisKnob()</code> returns the knob object that was altered.

</ul>
</ul>
<div id="Nuke - Python - knobChanged-How to Use It"><h2 id="How to Use It" class="header"><a href="#Nuke - Python - knobChanged-How to Use It">How to Use It</a></h2></div>

<p>
There are two common ways to use knobChanged:
</p>
<ul>
<li>
<span id="Nuke - Python - knobChanged-How to Use It-Directly Assigning Code to the Hidden Knob"></span><strong id="Directly Assigning Code to the Hidden Knob">Directly Assigning Code to the Hidden Knob</strong>: You can assign a one‑line string of code so that each time any knob is changed, that code runs. For example:

</ul>
  
<pre python>
nuke.selectedNode().knob('knobChanged').setValue(
    "n = nuke.thisNode(); k = nuke.thisKnob(); "
    "if k.name() == 'myCheckbox' and k.value() == True: "
    "    n['dependentKnob'].setEnabled(False); "
    "else: "
    "    n['dependentKnob'].setEnabled(True)"
)
</pre>

<p>
In this example, whenever any knob is changed, the code checks if the changed knob's name is <code>"myCheckbox"</code>. If so, it enables or disables <code>"dependentKnob"</code> as desired. (Note that for Nuke to properly process multi‑line code, you generally have to compress the code to a single line with explicit semicolons or newline escapes.)
</p>
<ul>
<li>
<span id="Nuke - Python - knobChanged-How to Use It-Defining a Callback Function in an External Module"></span><strong id="Defining a Callback Function in an External Module">Defining a Callback Function in an External Module</strong>: A more flexible approach is to define a Python function—say, in your Nuke startup scripts or a separate module—and then set the "knobChanged" knob to call that function. For example:

</ul>
  
<pre python>
# In your module, e.g., myCallbacks.py
def knob_changed_callback():
    n = nuke.thisNode()
    k = nuke.thisKnob()
    # Check which knob changed and act accordingly.
    if k.name() == 'myMode':
        # For instance, adjust other knobs based on the mode:
        if k.value() == 1:
            n['optionA'].setEnabled(True)
            n['optionB'].setEnabled(False)
        else:
            n['optionA'].setEnabled(False)
            n['optionB'].setEnabled(True)

# Then assign this code to the selected node's knobChanged knob:
nuke.selectedNode().knob('knobChanged').setValue("myCallbacks.knob_changed_callback()")
</pre>

<p>
This method keeps your code modular and easier to maintain—if you update the callback function, all nodes referencing it will automatically use the new behavior .
</p>

<div id="Nuke - Python - knobChanged-Best Practices"><h2 id="Best Practices" class="header"><a href="#Nuke - Python - knobChanged-Best Practices">Best Practices</a></h2></div>

<ul>
<li>
<span id="Nuke - Python - knobChanged-Best Practices-Selective Behavior"></span><strong id="Selective Behavior">Selective Behavior</strong>: It’s common to check the name of the knob that caused the change using <code>nuke.thisKnob().name()</code>. This way, your code only does extra work if the knob you care about was adjusted.

<li>
<span id="Nuke - Python - knobChanged-Best Practices-Chaining Calls"></span><strong id="Chaining Calls">Chaining Calls</strong>: For custom operators (Ops) or Gizmos, if you override an existing <code>knobChanged</code> method, it’s good practice to call the parent class’s <code>knobChanged</code> at the end. This ensures that any in‑built functionality remains intact .

<li>
<span id="Nuke - Python - knobChanged-Best Practices-One-Liner Code Strings"></span><strong id="One-Liner Code Strings">One-Liner Code Strings</strong>: Because the value passed to a knob must be a string, your callback code is often written on a single line with semicolons separating statements or with newline characters (<code>\n</code>) if you prefer the code to be more readable when editing in your text editor.

</ul>
<div id="Nuke - Python - knobChanged-Best Practices-Summary"><h3 id="Summary" class="header"><a href="#Nuke - Python - knobChanged-Best Practices-Summary">Summary</a></h3></div>

<p>
<code>nuke.knobChanged()</code> is less a function you call and more a callback mechanism. You “install” your custom code to be triggered each time a knob's value changes on a node. This can be done directly by setting the hidden <code>"knobChanged"</code> knob with a code string or by referencing an externally defined Python function. Both techniques enable dynamic UI behavior in Nuke, like conditionally enabling/disabling or hiding/showing other knobs based on user interaction.
</p>


<p>
<a href="nuke_index.html">Nuke Index</a>
</p>

<p>
<a href="Index.html">Index</a>
</p>

</body>
</html>
