<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>python_pyenv</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<div id="[[Python]]"><h1 id="[[Python]]" class="header"><a href="#[[Python]]"><a href="Python.html">Python</a></a></h1></div>

<div id="PyEnv - Maintaining Multiple Python Installs"><h1 id="PyEnv - Maintaining Multiple Python Installs" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs">PyEnv - Maintaining Multiple Python Installs</a></h1></div>

<div id="Contents" class="toc"><h1 id="Contents" class="header"><a href="#Contents">Contents</a></h1></div>
<ul>
<li>
<a href="python_pyenv.html#Python">#Python</a>

<li>
<a href="python_pyenv.html#PyEnv - Maintaining Multiple Python Installs">#PyEnv - Maintaining Multiple Python Installs</a>

<ul>
<li>
<a href="python_pyenv.html#Summary Pyenv">#Summary Pyenv</a>

<li>
<a href="python_pyenv.html#Installing PyEnv">#Installing PyEnv</a>

<ul>
<li>
<a href="python_pyenv.html#Test pyenv install">#Test pyenv install</a>

</ul>
<li>
<a href="python_pyenv.html#Using PyEnv">#Using PyEnv</a>

<ul>
<li>
<a href="python_pyenv.html#Show current version of Python (activated)">#Show current version of Python (activated)</a>

<li>
<a href="python_pyenv.html#List installed versions">#List installed versions</a>

<li>
<a href="python_pyenv.html#Install a version of Python">#Install a version of Python</a>

<li>
<a href="python_pyenv.html#Switch to a Version">#Switch to a Version</a>

<ul>
<li>
<a href="python_pyenv.html#Global Python setting:">#Global Python setting:</a>

<li>
<a href="python_pyenv.html#Local (per project directory)">#Local (per project directory)</a>

<li>
<a href="python_pyenv.html#Shell Python Version">#Shell Python Version</a>

<li>
<a href="python_pyenv.html#Unset Shell Python Version">#Unset Shell Python Version</a>

</ul>
<li>
<a href="python_pyenv.html#List available installs from Internet">#List available installs from Internet</a>

<li>
<a href="python_pyenv.html#Show the Path of the Current Python">#Show the Path of the Current Python</a>

</ul>
<li>
<a href="python_pyenv.html#Python Resolution Order (under PyEnv management)">#Python Resolution Order (under PyEnv management)</a>

<li>
<a href="python_pyenv.html#PyEnv-Virtualenv">#PyEnv-Virtualenv</a>

<ul>
<li>
<a href="python_pyenv.html#Putting It All Together">#Putting It All Together</a>

</ul>
<li>
<a href="python_pyenv.html#Activating Multiple Environments">#Activating Multiple Environments</a>

</ul>
</ul>
<div id="PyEnv - Maintaining Multiple Python Installs-Summary Pyenv"><h2 id="Summary Pyenv" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Summary Pyenv">Summary Pyenv</a></h2></div>

<pre>
# List available pythons:
pyenv install --list
 
# Install a version of python:
pyenv install 3.12.3

# List all installed versions of Python:
pyenv versions
 
# Display currently active version of Python:
pyenv version

# Global change or set:
pyenv global 3.11.9

# Shell
pyenv shell 3.11.9

# Local to a directory (creates a .python_version file):
pyenv local 3.11.9

# Set to the original system python:
pyenv global system 
</pre>

<p>
More help and info at:
<a href="https://github.com/pyenv/pyenv/blob/master/COMMANDS.md">https://github.com/pyenv/pyenv/blob/master/COMMANDS.md</a>
</p>

<div id="PyEnv - Maintaining Multiple Python Installs-Installing PyEnv"><h2 id="Installing PyEnv" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Installing PyEnv">Installing PyEnv</a></h2></div>

<p>
For modern (current - May 2024) MacOS:
</p>

<ul>
<li>
Take a look at the PyEnv with PyEnv-VirtualEnv options here: <a href="python_pyenv-virtualenv.html">With Virtual Env</a>

</ul>
<p>
<br>
</p>
<pre>
brew install openssl readline sqlite3 xz zlib
# and... To install pyenv:
brew install pyenv
</pre>

<p>
In my attempt at installing the above, I was instructed by the command-line output to add this to my .zshrc:
</p>

<pre>
export PYENV_ROOT="$HOME/.pyenv"
[[ -d $PYENV_ROOT/bin ]] &amp;&amp; export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"

eval "$(pyenv virtualenv-init -)"
</pre>

<p>
For more info, look here (includes BASH and ZSH):
</p>
<ul>
<li>
<a href="python_pyenv-virtualenv.html#Edit .zshrc or .bashrc">Pyenv and Virtualenv</a>

</ul>
<p>
Open a new Terminal shell to pick up the install.
</p>

<p>
Take a look at installing VirtualEnvs with PyEnv for things like conda packages:
</p>
<ul>
<li>
<a href="python_pyenv-virtualenv.html">PyEnv with VirtualEnvs</a>

</ul>
<div id="PyEnv - Maintaining Multiple Python Installs-Installing PyEnv-Test pyenv install"><h3 id="Test pyenv install" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Installing PyEnv-Test pyenv install">Test pyenv install</a></h3></div>

<pre>
pyenv
# Pyenv 2.4.1
</pre>

<div id="PyEnv - Maintaining Multiple Python Installs-Using PyEnv"><h2 id="Using PyEnv" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Using PyEnv">Using PyEnv</a></h2></div>
<div id="PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Show current version of Python (activated)"><h3 id="Show current version of Python (activated)" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Show current version of Python (activated)">Show current version of Python (activated)</a></h3></div>

<pre>
pyenv version
# system (set by /Users/noddy/.pyenv/version)
</pre>

<div id="PyEnv - Maintaining Multiple Python Installs-Using PyEnv-List installed versions"><h3 id="List installed versions" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Using PyEnv-List installed versions">List installed versions</a></h3></div>

<pre>
pyenv versions
#
* system (set by /Users/noddy/.pyenv/version)
  3.12.3
</pre>

<div id="PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Install a version of Python"><h3 id="Install a version of Python" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Install a version of Python">Install a version of Python</a></h3></div>
 
<pre>
pyenv install 3.12.3
# or, to show as verbose install:
pyenv install -v 3.12.3
</pre>
 
<p>
 The location of the install is:
 /Users/&lt;username&gt;/.pyenv/versions/&lt;here&gt;
</p>
 
<p>
To remove a version, you can:
</p>
<pre>
rm /Users/&lt;username&gt;/.pyenv/versions/3.12.3
# or:
pyenv uninstall 3.12.3
</pre>

<div id="PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Switch to a Version"><h3 id="Switch to a Version" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Switch to a Version">Switch to a Version</a></h3></div>

<div id="PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Switch to a Version-Global Python setting:"><h4 id="Global Python setting:" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Switch to a Version-Global Python setting:">Global Python setting:</a></h4></div>
<pre>
pyenv global 3.12.3
# or, to switch to the system default:
pyenv global system
</pre>

<div id="PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Switch to a Version-Local (per project directory)"><h4 id="Local (per project directory)" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Switch to a Version-Local (per project directory)">Local (per project directory)</a></h4></div>
<pre>
pyenv local 3.8.7

ls -a
# . .. .python-version
cat .python-version
# 3.8.7
</pre>

<p>
Outside of this directory or project, the global Python is still in use!
However, sub-directories remain under the local Python version.
</p>

<div id="PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Switch to a Version-Shell Python Version"><h4 id="Shell Python Version" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Switch to a Version-Shell Python Version">Shell Python Version</a></h4></div>

<p>
Set an installed version to the shell:
</p>
<pre>
pyenv shell 3.9-dev
echo $PYENV_VERSION
# 3.9-dev
</pre>

<div id="PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Switch to a Version-Unset Shell Python Version"><h4 id="Unset Shell Python Version" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Switch to a Version-Unset Shell Python Version">Unset Shell Python Version</a></h4></div>

<pre>
# and to UNSET:
pyenv shell --unset
</pre>

<div id="PyEnv - Maintaining Multiple Python Installs-Using PyEnv-List available installs from Internet"><h3 id="List available installs from Internet" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Using PyEnv-List available installs from Internet">List available installs from Internet</a></h3></div>

<pre>
pyenv install --list | grep &lt;filter&gt;
# where filter might be version number or variety, e.g.,
pyenv install --list | grep 3.12
# or
pyenv install --list | grep jpython
</pre>

<div id="PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Show the Path of the Current Python"><h3 id="Show the Path of the Current Python" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Using PyEnv-Show the Path of the Current Python">Show the Path of the Current Python</a></h3></div>

<pre>
pyenv which python
# /Users/&lt;username&gt;/.pyenv/versions/3.8.7/bin/python
</pre>

<p>
To find current pip path:
</p>
<pre>
pyenv which pip
# /Users/&lt;username&gt;/.pyenv/versions/3.12.3/bin/pip
</pre>


<div id="PyEnv - Maintaining Multiple Python Installs-Python Resolution Order (under PyEnv management)"><h2 id="Python Resolution Order (under PyEnv management)" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Python Resolution Order (under PyEnv management)">Python Resolution Order (under PyEnv management)</a></h2></div>

<ul>
<li>
<span id="PyEnv - Maintaining Multiple Python Installs-Python Resolution Order (under PyEnv management)-PyEnv Shell"></span><strong id="PyEnv Shell">PyEnv Shell</strong>:

<ul>
<li>
$PYENV_VERSION env variable 

<li>
if no shell setting found

<li>
<span id="PyEnv - Maintaining Multiple Python Installs-Python Resolution Order (under PyEnv management)-PyEnv Local"></span><strong id="PyEnv Local">PyEnv Local</strong>:

<ul>
<li>
.python-version file

<li>
if local setting found

<li>
<span id="PyEnv - Maintaining Multiple Python Installs-Python Resolution Order (under PyEnv management)-PyEnv Global"></span><strong id="PyEnv Global">PyEnv Global</strong>:

<ul>
<li>
~/.pyenv/version

<li>
if no global setting found

<li>
Use <span id="PyEnv - Maintaining Multiple Python Installs-Python Resolution Order (under PyEnv management)-System Python"></span><strong id="System Python">System Python</strong>

</ul>
</ul>
</ul>
</ul>
<div id="PyEnv - Maintaining Multiple Python Installs-PyEnv-Virtualenv"><h2 id="PyEnv-Virtualenv" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-PyEnv-Virtualenv">PyEnv-Virtualenv</a></h2></div>

<p>
Navigate to project directory.
</p>

<ul>
<li>
To install a particular version, it must have been installed using pyenv install first.

</ul>
<p>
<br>
</p>
<pre>
cd ~/my_path/&lt;my_proj_dir&gt;

pyenv virtualenv 3.12.3 &lt;my_proj_name&gt;
</pre>

<p>
This creates an entry in the versions inside the ~/.pyenv/versions directory:
</p>

<pre>
~/my_path/&lt;my_proj_dir&gt;
ls -l ~/.pyenv/versions
total 0
drwxr-xr-x 6 &lt;username&gt; staff 192 Mar 6 16:26 3.6.1
drwxr-xr-x 7 &lt;username&gt; staff 224 Mar 5 15:28 3.8.7
drwxr-xr-x 6 &lt;username&gt; staff 192 Mar 6 16:26 3.12.3
drwxr-xr-x 6 &lt;username&gt; staff 192 Mar 9 11:13 &lt;my_proj_name&gt;
</pre>

<p>
This new virtual version is now available to switch to:
</p>

<pre>
pyenv versions
 system
 3.6.1
 3.8.7
 3.12.3
 &lt;my_proj_name&gt;
</pre>

<p>
Now, inside the project directory, we can switch to the new virtual environment version:
</p>

<pre>
cd ~/my_path/&lt;my_proj_dir&gt;
pyenv local &lt;my_proj_nam&gt;
</pre>

<div id="PyEnv - Maintaining Multiple Python Installs-PyEnv-Virtualenv-Putting It All Together"><h3 id="Putting It All Together" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-PyEnv-Virtualenv-Putting It All Together">Putting It All Together</a></h3></div>

<pre>
cd ~/workspace/my_dev_space
mkdir my_project_dir
cd my_project_dir
pyenv virtualenv 3.12.3 my_project
pyenv local my_project
</pre>

<p>
Amazingly, just by navigating into the project directory, the correct version of python will be evoked!! (Global, or local per virtualenv or otherwise.)
</p>


<div id="PyEnv - Maintaining Multiple Python Installs-Activating Multiple Environments"><h2 id="Activating Multiple Environments" class="header"><a href="#PyEnv - Maintaining Multiple Python Installs-Activating Multiple Environments">Activating Multiple Environments</a></h2></div>

<p>
<a href="https://realpython.com/intro-to-pyenv/#installing-pyenv">https://realpython.com/intro-to-pyenv/#installing-pyenv</a>
</p>

<p>
This allows you to install tools into virtualenvs and make these available to the set environment.
</p>

<p>
For example:
'black' and 'isort' in one environment.
My_Proj (a created env to devolop in)
</p>

<p>
If set up correctly, you can use these tools FROM My_Proj if the tools aren't found in the My_Proj environment.
</p>


<pre>
pyenv virtual env 3.9.0 formatters
pyenv shell formatters
pip install black
pip install isort

pyenv shell --unset

# Navigate to a 'local' project
cd ~/my_stuff/my_proj_dir
pyenv local my_proj formatters

</pre>

<p>
If you look inside the .python-version file, you'll see the multiple environments listed:
</p>

<pre>
cat .python-version
my_proj
formatters
</pre>

</body>
</html>
