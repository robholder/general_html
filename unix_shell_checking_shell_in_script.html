<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>unix_shell_checking_shell_in_script</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="unix_tools_index.html">Unix Tools</a>
</p>

<div id="Detecting User's Shell"><h1 id="Detecting User's Shell" class="header"><a href="#Detecting User's Shell">Detecting User's Shell</a></h1></div>

<p>
Instead of maintaining separate scripts, you can have one script that adjusts itself based on the user’s shell:
</p>

<div id="Detecting User's Shell-Bash"><h3 id="Bash" class="header"><a href="#Detecting User's Shell-Bash">Bash</a></h3></div>

<pre bash>
#!/bin/bash

# Detect shell
USER_SHELL=$(basename "$SHELL")

echo "Detected shell: $USER_SHELL"

if [[ "$USER_SHELL" == "zsh" ]]; then
    echo "Setting up for Zsh..."
    source ~/.zshrc
elif [[ "$USER_SHELL" == "bash" ]]; then
    echo "Setting up for Bash..."
    source ~/.bashrc
elif [[ "$USER_SHELL" == "tcsh" ]]; then
    echo "Setting up for Tcsh..."
    source ~/.tcshrc
else
    echo "Unsupported shell: $USER_SHELL"
    exit 1
fi
</pre>

<div id="Detecting User's Shell-Zsh"><h3 id="Zsh" class="header"><a href="#Detecting User's Shell-Zsh">Zsh</a></h3></div>

<pre zsh>
#!/bin/zsh

# Detect shell
USER_SHELL=$(basename "$SHELL")

echo "Detected shell: $USER_SHELL"

if [[ "$USER_SHELL" == "zsh" ]]; then
    echo "Setting up for Zsh..."
    source ~/.zshrc
elif [[ "$USER_SHELL" == "bash" ]]; then
    echo "Setting up for Bash..."
    source ~/.bashrc
elif [[ "$USER_SHELL" == "tcsh" ]]; then
    echo "Setting up for Tcsh..."
    source ~/.tcshrc
else
    echo "Unsupported shell: $USER_SHELL"
    return 1  # Use 'return' instead of 'exit' to avoid killing the shell
fi
</pre>

<p>
✔ This script detects the user’s shell and sources the correct configuration file!
</p>

<p>
<a href="unix_tools_index.html">Unix Tools</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
