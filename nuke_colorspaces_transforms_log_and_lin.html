<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<title>nuke_colorspaces_transforms_log_and_lin</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="nuke_index.html">Nuke Index</a>
</p>

<div id="Colorspaces and Transforms"><h1 id="Colorspaces and Transforms" class="header"><a href="#Colorspaces and Transforms">Colorspaces and Transforms</a></h1></div>

<p>
This examination was to look into why 'received' nodes from a vendor had lin2log -&gt; transform -&gt; log2lin. It seems backwards.
</p>

<div id="Colorspaces and Transforms-Why Change Colorspace to Transform?"><h2 id="Why Change Colorspace to Transform?" class="header"><a href="#Colorspaces and Transforms-Why Change Colorspace to Transform?">Why Change Colorspace to Transform?</a></h2></div>

<p>
Changing colorspace to a linear one for resizing in Nuke, and then converting back, offers a significant benefit: it helps prevent color fringing and haloing.  This approach ensures that the resizing operation is performed on the color values in a way that aligns with how light behaves in the real world. Here's a breakdown of why this is important.
</p>

<div id="Colorspaces and Transforms-Why Change Colorspace to Transform?-The Problem with Non-linear Spaces"><h3 id="The Problem with Non-linear Spaces" class="header"><a href="#Colorspaces and Transforms-Why Change Colorspace to Transform?-The Problem with Non-linear Spaces">The Problem with Non-linear Spaces</a></h3></div>

<p>
Most image files and displays use a non-linear colorspace, like sRGB or Rec.709. These spaces are designed to match how our eyes perceive light, which is not in a straight line. For example, a color value of 0.5 in sRGB is not truly halfway between 0 (black) and 1 (white) in terms of light energy.
</p>

<p>
When you perform a mathematical operation like a resize (or any filter) on non-linear data, the calculations are being done on values that don't represent a linear progression of light. This can lead to unexpected and undesirable artifacts. For instance, when a filter averages the color of a bright pixel next to a dark one, the result can appear skewed, causing a halo or a strange color border around the resized element.
</p>

<div id="Colorspaces and Transforms-Why Change Colorspace to Transform?-The Benefit of Linear Spaces"><h3 id="The Benefit of Linear Spaces" class="header"><a href="#Colorspaces and Transforms-Why Change Colorspace to Transform?-The Benefit of Linear Spaces">The Benefit of Linear Spaces</a></h3></div>

<p>
A linear colorspace represents light energy in a physically accurate, one-to-one relationship. In this space, a value of 0.5 is truly half the light energy of a value of 1.0. The lin2log node you see in Nuke is actually performing the reverse: it's converting the non-linear input to a linear space. This is often called gamma correction. The log2lin node then converts it back to the original non-linear colorspace.
</p>

<p>
By converting to a linear space, the transform node can perform its mathematical resizing operations on values that accurately represent the light in the scene. This ensures that the averaging of pixels during the resizing process is correct, resulting in a cleaner resize without color fringing or halos.  This is a fundamental best practice in visual effects and compositing to ensure the highest quality results.
</p>

<div id="Colorspaces and Transforms-Why Change Colorspace to Transform?-Why the Example Does the Opposite?"><h3 id="Why the Example Does the Opposite?" class="header"><a href="#Colorspaces and Transforms-Why Change Colorspace to Transform?-Why the Example Does the Opposite?">Why the Example Does the Opposite?</a></h3></div>

<p>
This case might have been to offer more data to the darks. In fact the resize was being done on some very dark assets.:
</p>

<pre nuke>
set cut_paste_input [stack 0]
version 15.0 v7
push $cut_paste_input
Group {
 name Resize_node
 selected true
 xpos -3611
 ypos 3900
 addUserKnob {20 main}
 addUserKnob {41 filter T Transform1.filter}
 addUserKnob {41 scale T Transform1.scale}
 addUserKnob {41 size T Sharpen1.size}
}
 Input {
  inputs 0
  name Input1
  xpos 419
  ypos 103
 }
 Transform {
  scale 1.25
  center {1536 792}
  name Transform1
  xpos 419
  ypos 140
 }
 Crop {
  box {0 0 3072 1584}
  reformat true
  crop false
  name Crop1
  xpos 419
  ypos 166
 }
 Log2Lin {
  operation lin2log
  name Log2Lin1
  xpos 419
  ypos 190
 }
 Sharpen {
  size 1
  filter box
  name Sharpen1
  selected true
  xpos 419
  ypos 211
 }
 Log2Lin {
  name Log2Lin2
  xpos 419
  ypos 245
 }
set N1288d510 [stack 0]
 Output {
  name Output1
  xpos 419
  ypos 269
 }
push $N1288d510
push 0
push 0
 Viewer {
  inputs 3
  frame_range 101-1038
  input_number 2
  name Viewer1
  xpos 529
  ypos 166
 }
end_group
</pre>

<p>
<a href="nuke_index.html">Nuke Index</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
