<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>unix_tools_zip</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>


<p>
<a href="index.html">index</a>
</p>

<p>
<a href="unix_tools_index.html">Unix Tools</a>
</p>


<div id="Zip"><h1 id="Zip" class="header"><a href="#Zip">Zip</a></h1></div>

<div id="Zip-Secure Compressed Zip Files"><h2 id="Secure Compressed Zip Files" class="header"><a href="#Zip-Secure Compressed Zip Files">Secure Compressed Zip Files</a></h2></div>

<p>
To compress a file with security on the commandline (tested on MacOS):
</p>

<table>
<tr>
<td>
To compress without password, just omit the <code>e</code> from the <code>-er</code> flag. The <code>r</code> is recursive; for zipping directory contents.
</td>
</tr>
</table>

<pre>

zip -er &lt;file.zip&gt; &lt;file_to_zip&gt;

# &lt;enter&gt;
# Enter password
# &lt;enter&gt;
# Confirm password
# &lt;enter&gt;

# compressed file will be created

# Example:
zip -er myfile.zip myfile.txt

# Will create secure myfile.zip archive
</pre>

<p>
Regular:
</p>

<ul>
<li>
<code>zip -r &lt;ZIP FILE&gt; &lt;FILE/DIR TO ZIP&gt;</code>

</ul>
<p>
With encryption:
</p>

<ul>
<li>
<code>zip -er &lt;ZIP FILE&gt; &lt;FILE/DIR TO ZIP&gt;</code>

</ul>
<div id="Unzip"><h1 id="Unzip" class="header"><a href="#Unzip">Unzip</a></h1></div>

<pre sh>
unzip backup.zip
</pre>

<div id="Adding Date to Zip"><h1 id="Adding Date to Zip" class="header"><a href="#Adding Date to Zip">Adding Date to Zip</a></h1></div>

<p>
Depending on shell type, you might get this to work:
</p>
<pre sh>
zip -r backup_$(date +%F).zip foldername
</pre>


<div id="Adding Date to Zip-TCSH"><h4 id="TCSH" class="header"><a href="#Adding Date to Zip-TCSH">TCSH</a></h4></div>

<p>
tcsh (and csh) don’t support the Bourne-style command substitution $(…). You get “Illegal variable name.” You need to use backticks:
</p>

<pre tcsh>
zip -r backup_`date +%F`.zip foldername
</pre>

<p>
This runs date +%F in backticks, inserts its output into the filename, and then compresses foldername into something like backup_2025-08-12.zip.
</p>

<div id="Excluding Hidden Files"><h1 id="Excluding Hidden Files" class="header"><a href="#Excluding Hidden Files">Excluding Hidden Files</a></h1></div>

<p>
Exclude hidden files or specific patterns (optional)
If you need to omit hidden files (or any pattern), use the -x flag:
</p>

<pre bash>
zip -r backup.zip foldername -x "foldername/.*"
</pre>

<p>
This skips everything whose name starts with a dot inside foldername[^8]
</p>

<p>
<a href="unix_tools_index.html">Unix Tools</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
