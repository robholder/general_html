<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>unix_tools_ssh_management</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="unix_tools_index.html">Unix Tools</a>
</p>


<div id="SSH"><h1 id="SSH" class="header"><a href="#SSH">SSH</a></h1></div>

<div id="SSH-Setting 'ssh' For Github And Vimwiki Backup"><h2 id="Setting 'ssh' For Github And Vimwiki Backup" class="header"><a href="#SSH-Setting 'ssh' For Github And Vimwiki Backup">Setting 'ssh' For Github And Vimwiki Backup</a></h2></div>

<div id="SSH-Setting 'ssh' For Github And Vimwiki Backup-M3 MacBook Pro - Sequoia"><h3 id="M3 MacBook Pro - Sequoia" class="header"><a href="#SSH-Setting 'ssh' For Github And Vimwiki Backup-M3 MacBook Pro - Sequoia">M3 MacBook Pro - Sequoia</a></h3></div>

<pre bash>
# On my M3 Macbook Pro:
# Temporary between reboots:
eval $(ssh-agent)
# The --apple-use-keychain flag adds the passphrase to the keychain (to prevent constant requests)
ssh-add --apple-use-keychain ~/.ssh/id_rsa

# Or to make persistant:
eval $(ssh-agent)
ssh-add --apple-use-keychain ~/.ssh/id_rsa
# Then add this file:
# ~/.ssh/config
# with this content:
Host *
  UseKeychain yes
  AddKeysToAgent yes
  IdentityFile ~/.ssh/id_rsa

# To test the connection to github:
ssh -T git@github.com
# reply might be: Hi &lt;user&gt; You've successfully authenticated, but GitHub does not provide shell access.
</pre>

<div id="SSH-Setting 'ssh' For Github And Vimwiki Backup-2012 Intel Macbook Pro - Mojave"><h3 id="2012 Intel Macbook Pro - Mojave" class="header"><a href="#SSH-Setting 'ssh' For Github And Vimwiki Backup-2012 Intel Macbook Pro - Mojave">2012 Intel Macbook Pro - Mojave</a></h3></div>

<pre bash>
# On my 2012 Macbook Pro:
# Temporary (current shell):
eval $(ssh-agent)
ssh-add ~/.ssh/macbook2012_key

# Or to make persistant:
eval $(ssh-agent)
ssh-add -K ~/.ssh/macbook2012_key
# Then add this file:
# ~/ssh/config
# with this content:
Host *
  UseKeychain yes
  AddKeysToAgent yes
  IdentityFile ~/.ssh/macbook2012_key
</pre>

<div id="SSH-Setting 'ssh' For Github And Vimwiki Backup-Linux"><h3 id="Linux" class="header"><a href="#SSH-Setting 'ssh' For Github And Vimwiki Backup-Linux">Linux</a></h3></div>

<p>
Bash
</p>
<pre bash>
# On Linux:
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_ed25519
# sub actual ssh key name.
</pre>

<p>
Tcsh
</p>
<pre sh>
eval `ssh-agent`
ssh-add ~/.ssh/id_ed25510_pm
# sub actual ssh key name.
# If you set a passphrase, you'll have to enter it at this stage.
# If you didn't, anyone with your private key will have access.
</pre>

<div id="SSH-Setting 'ssh' For Github And Vimwiki Backup-Linux-This is what I did at Pmount"><h4 id="This is what I did at Pmount" class="header"><a href="#SSH-Setting 'ssh' For Github And Vimwiki Backup-Linux-This is what I did at Pmount">This is what I did at Pmount</a></h4></div>

<pre sh>
ssh-keygen -t ed25519 -C "&lt;mymail&gt;@gmail.com"

# (add passphrase)
eval `ssh-agent -c`

ssh-add ~/.ssh/id_ed25519_pm
# (type in passphrase)

cat ~/.ssh/id_ed25519.pub

# (copy line - contents of the id)
ssh-ed25519 AAAAjfkdauietvflNTE5AAAAIArTvCnFhSPxPZ782slaiusMaTsaDYTDhL+asdlk2Zk0b &lt;myemail&gt;@gmail.com

# On github.com (user settings)

# SSH and GPG keys section:
# New key

# title (descriptive name)
# Key type
# Authentication Key
# Key
#(paste the 'cat' content)
# Add SSH key

git clone &lt;ssh stuff from github and the repo&gt;

#First time might ask if you want to proceed with fingerprint.
</pre>


<div id="SSH-QUESTION"><h2 id="QUESTION" class="header"><a href="#SSH-QUESTION">QUESTION</a></h2></div>

<table>
<tr>
<td>
I have an SSH key on my Linux system, and I'd like to change the private key password. Is that possible?
</td>
</tr>
</table>

<div id="SSH-ANSWER"><h2 id="ANSWER" class="header"><a href="#SSH-ANSWER">ANSWER</a></h2></div>

<div id="SSH-ANSWER-Copilot"><h4 id="Copilot" class="header"><a href="#SSH-ANSWER-Copilot">Copilot</a></h4></div>

<p>
Yes ‚Äî you can change the passphrase (password) on an existing SSH private key without regenerating the key itself. OpenSSH provides a built‚Äëin way to do this.
</p>

<div id="SSH-ANSWER-üîé How to Change the Passphrase"><h4 id="üîé How to Change the Passphrase" class="header"><a href="#SSH-ANSWER-üîé How to Change the Passphrase">üîé How to Change the Passphrase</a></h4></div>

<p>
Open a terminal on your Linux system.
</p>

<p>
Run the following command, pointing to your private key file (usually ~/.ssh/id_rsa, id_ecdsa, or id_ed25519):
</p>

<pre bash>
ssh-keygen -p -f ~/.ssh/id_rsa
</pre>

<ul>
<li>
<code>-p</code> ‚Üí change the passphrase of a private key file.

<li>
<code>-f</code> ‚Üí specify the file.

</ul>
<p>
You‚Äôll be prompted for the current passphrase (if one exists).
</p>

<p>
Then you‚Äôll be asked to enter a new passphrase (twice to confirm).
</p>

<div id="SSH-ANSWER-üõ†Ô∏è Notes"><h4 id="üõ†Ô∏è Notes" class="header"><a href="#SSH-ANSWER-üõ†Ô∏è Notes">üõ†Ô∏è Notes</a></h4></div>

<ul>
<li>
This does not change the public key or require you to update it on servers ‚Äî the public key stays the same.

<li>
If you want to remove the passphrase entirely, just press Enter when asked for the new passphrase.

<li>
Works for RSA, ECDSA, and Ed25519 keys generated with ssh-keygen.

</ul>
<p>
‚úÖ Summary: Yes, it‚Äôs possible. Use ssh-keygen -p -f &lt;private_key_file&gt; to change or remove the passphrase on your existing SSH private key.
</p>


<div id="SSH-QUESTION"><h2 id="QUESTION" class="header"><a href="#SSH-QUESTION">QUESTION</a></h2></div>

<table>
<tr>
<td>
How do I check the new password works?
</td>
</tr>
</table>

<div id="SSH-ANSWER"><h2 id="ANSWER" class="header"><a href="#SSH-ANSWER">ANSWER</a></h2></div>

<p>
Once you‚Äôve changed the passphrase on your SSH private key, the easiest way to confirm it works is to try using the key in a way that forces SSH to unlock it. Here are a few reliable methods:
</p>

<div id="SSH-ANSWER-üîë Test the Passphrase"><h4 id="üîë Test the Passphrase" class="header"><a href="#SSH-ANSWER-üîë Test the Passphrase">üîë Test the Passphrase</a></h4></div>

<p>
Use ssh-keygen -y This command extracts the public key from your private key file. It will prompt you for the passphrase:
</p>

<pre bash>
ssh-keygen -y -f ~/.ssh/id_rsa
</pre>

<ul>
<li>
If you enter the new passphrase correctly, it will print the public key.

<li>
If the passphrase is wrong, you‚Äôll get an error.

<li>
Try an SSH connection with that key Connect to a server where your public key is installed:

</ul>
  
<pre bash>
ssh -i ~/.ssh/id_rsa user@hostname
</pre>

<ul>
<li>
You should be prompted for the new passphrase.

<li>
If it unlocks successfully, the login will proceed.

<li>
Add the key to the SSH agent If you use ssh-agent, try adding the key:

</ul>
  
<pre bash>
ssh-add ~/.ssh/id_rsa
</pre>

<ul>
<li>
It will ask for the passphrase.

<li>
If accepted, the key is loaded into the agent.

</ul>
<div id="SSH-ANSWER-üõ†Ô∏è Notes"><h4 id="üõ†Ô∏è Notes" class="header"><a href="#SSH-ANSWER-üõ†Ô∏è Notes">üõ†Ô∏è Notes</a></h4></div>

<ul>
<li>
If you want to test without actually connecting anywhere, ssh-keygen -y is the quickest check.

<li>
If you want to confirm end‚Äëto‚Äëend, use ssh -i to connect to a server where your public key is authorized.

<li>
If you removed the passphrase (set it blank), none of these commands will prompt you anymore.

</ul>
<p>
‚úÖ Summary: Run ssh-keygen -y -f &lt;private_key&gt; or ssh-add &lt;private_key&gt; ‚Äî if the new passphrase unlocks the key, you know it‚Äôs working.
</p>

<p>
<a href="unix_tools_index.html">Unix Tools</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
