<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<title>vim_autocmds</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="vim_learning.html">Vim Learning</a>
</p>

<div id="Vim - Autocommands"><h1 id="Vim - Autocommands" class="header"><a href="#Vim - Autocommands">Vim - Autocommands</a></h1></div>

<p>
<code>:autocmd BufNewFile * :write</code> - [autocmd] [event] [pattern/filter] [command]<br>
</p>

<p>
Shortened version:
<code>:au</code>
</p>

<p>
Examples:<br>
</p>

<p>
<code>:autocmd BufNewFile *.txt :write</code> &lt;-- if creating a new text file, write to disk<br>
<code>:autocmd BufWritePre *.html :normal gg=G</code> &lt;-- Before saving an html file, reformat the page<br>
</p>

<p>
You can use mulitple events:<br>
</p>

<p>
<code>autocmd BufWritePre,BufRead *.html setlocal nowrap</code> &lt;-- use no wrapping when reading or writing html.
</p>

<div id="Vim - Autocommands-FileTypes"><h4 id="FileTypes" class="header"><a href="#Vim - Autocommands-FileTypes">FileTypes</a></h4></div>
<p>
Adding comments to Java or Python, with &lt;leader&gt; &amp; 'c'<br>
</p>

<p>
<code>:autocmd FileType javascript nnoremap &lt;buffer&gt; &lt;localleader&gt;c I//&lt;esc&gt;</code><br>
</p>

<p>
<code>:autocmd FileType python nnoremap &lt;buffer&gt; &lt;localleader&gt;c I#&lt;esc&gt;</code><br>
</p>

<div id="Vim - Autocommands-Combining Autocommands and Abbreviations"><h3 id="Combining Autocommands and Abbreviations" class="header"><a href="#Vim - Autocommands-Combining Autocommands and Abbreviations">Combining Autocommands and Abbreviations</a></h3></div>

<p>
Here the command formats an if statement in python or Java:<br>
</p>

<p>
<code>:autocmd FileType python :iabbrev &lt;buffer&gt; iff if:&lt;left&gt;</code>
</p>

<p>
<code>:autocmd FileType javascript :iabbrev &lt;buffer&gt; iff if ()&lt;left&gt;</code>
</p>

<div id="Vim - Autocommands-Autocommand Groups"><h2 id="Autocommand Groups" class="header"><a href="#Vim - Autocommands-Autocommand Groups">Autocommand Groups</a></h2></div>

<p>
It's good to group commands into a block. The advantage is you can clear commands before reading the block, which prevents duplication on reloading a vimrc config file.<br>
Autocommand groups have a facility to add this 'clearing' option.<br>
</p>

<p>
Note the <code>autocmd!</code> addition to the group block. This is what clears the group, so that a reload doesn't duplicate declarations.<br>
</p>

<pre vim>
augroup testgroup
    autocmd!
    autocmd BufWrite * :echom "Foo"
    autocmd BufWrite * :echom "Bar"
augroup END
</pre>

<p>
Example:<br>
</p>
<pre vim>
" Add tag folds with &lt;localleader&gt;f:
augroup filetype_html
    autocmd!
    autocmd FileType html nnoremap &lt;buffer&gt; &lt;localleader&gt;f Vatzf
augroup END
</pre>

<p>
<a href="vim_learning.html">Vim Learning</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
