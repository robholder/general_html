<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>houdini_voxyde_intro_to_houdini_volumes</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>


<p>
<a href="Houdini.html">Houdini</a>
</p>

<div id="Voxyde - Intro to Houdini Volumes"><h1 id="Voxyde - Intro to Houdini Volumes" class="header"><a href="#Voxyde - Intro to Houdini Volumes">Voxyde - Intro to Houdini Volumes</a></h1></div>
<div id="Voxyde - Intro to Houdini Volumes-[[https://www.youtube.com/watch?v=wR0SDptfygg|YouTube - Voxyde - Intro to Houdini Volumes]]"><h4 id="[[https://www.youtube.com/watch?v=wR0SDptfygg|YouTube - Voxyde - Intro to Houdini Volumes]]" class="header"><a href="#Voxyde - Intro to Houdini Volumes-[[https://www.youtube.com/watch?v=wR0SDptfygg|YouTube - Voxyde - Intro to Houdini Volumes]]"><a href="https://www.youtube.com/watch?v=wR0SDptfygg">YouTube - Voxyde - Intro to Houdini Volumes</a></a></h4></div>

<ul>
<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#Volumes &amp; Voxels">00:00:00 - 00:08:52 : Volumes &amp; Voxels</a>

<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#VDB vs Standard Volume">00:08:52 - 00:12:31 : VDB vs Standard Volume</a>

<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#SDF Distance Volume">00:12:31 - 00:16:54 : SDF Distance Volume</a>

<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#Volume VOP">00:16:54 - 00:25:31 : Volume VOP</a>

<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#Fog Volume VOP examples">00:25:31 - 00:37:39 : Fog Volume VOP examples</a>

<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#Multiple Volumes">00:37:39 - 00:43:56 : Multiple Volumes</a>

<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#Volume Visualization">00:43:56 - 00:55:18 : Volume Visualization</a>

<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#VOPS with SDF">00:55:18 - 01:02:25 : VOPS with SDF</a>

<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#Working with SDF">01:02:25 - 01:07:21 : Working with SDF</a>

<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#SDF VOP Examples">01:07:21 - 01:18:44 : SDF VOP Examples</a>

<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#Velocity Field">01:18:44 - 01:30:00 : Velocity Field</a>

<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#Velocity Field VOP Examples">01:30:00 - 01:38:21 : Velocity Field VOP Examples</a>

<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#Custom Velocity Field">01:38:21 - 01:58:28 : Custom Velocity Field</a>

<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#SDF From Particles">01:58:28 - 02:07:23 : SDF From Particles</a>

<li>
<a href="houdini_voxyde_intro_to_houdini_volumes.html#Volume Rasterize Attributes">02:07:23 - 02:17:10 : Volume Rasterize Attributes</a>

</ul>
<div id="Voxyde - Intro to Houdini Volumes-Volumes &amp; Voxels"><h2 id="Volumes &amp; Voxels" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volumes &amp; Voxels">Volumes &amp; Voxels</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=0s">Volumes &amp; Voxels - YouTube</a>

</ul>
<div id="Voxyde - Intro to Houdini Volumes-Volumes &amp; Voxels-Creating a Volume"><h3 id="Creating a Volume" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volumes &amp; Voxels-Creating a Volume">Creating a Volume</a></h3></div>

<p>
Creating our first Volume:
</p>
<ul>
<li>
Create an empty <code>Geometry</code> node (<code>Network Editor</code>, <code>tab</code> &gt; <code>geometry</code>)

<li>
Drop a <code>Volume</code> node:

<ul>
<li>
To see the volume in the Viewport, we have to give it an initial value.

<li>
In the first field of <code>Intitial Value</code> set the value to <code>1</code>

<li>
In the <code>Name</code> field, give a name; we'll use <code>density</code>

</ul>
</ul>
<p>
You can think of volumes as a 3D grid (or box) divided into smaller cubes called <code>Voxels</code>.
</p>

<p>
To increase the physical scale or size of the whole:
</p>
<ul>
<li>
<code>Volume</code>:

<ul>
<li>
<code>Dimensions</code> tab:

<ul>
<li>
<code>Center/Size</code> tab:

<ul>
<li>
<code>Size</code> parameter:

<ul>
<li>
set ours to <code>1.4, 1.4, 1.4</code>

</ul>
<li>
<code>Uniform Sampling</code>:

<ul>
<li>
set to <code>Non Square</code> for now.

</ul>
<li>
Set <code>Uniform Sampling Divs</code> to <code>10, 10, 10</code>

</ul>
</ul>
</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Volumes &amp; Voxels-Density"><h3 id="Density" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volumes &amp; Voxels-Density">Density</a></h3></div>

<p>
We should have 1,000 voxels now. You can check by going to the <code>Volume</code> <code>i</code> pane and see:
</p>
<ul>
<li>
<code>density  [10,10,10]  float Voxels: 1,000 Voxel Size: 0.14</code>

</ul>
<p>
For feedback in the Viewport, in the <code>Display Options</code> (<code>D</code> key in the Viewport):
</p>
<ul>
<li>
<code>Guides</code> tab:

<ul>
<li>
<code>Additional information</code> section:

<ul>
<li>
Check 'On' <code>Draw Time (FPS)</code>

<li>
<code>Geometry information</code> to <code>Always On</code>

</ul>
</ul>
</ul>
<p>
These settings can also be set on the <code>i</code> icon on the right-side panel of the Viewport.
</p>

<p>
Changing the divisions in the volume:
</p>
<ul>
<li>
Set the <code>Uniform Sampling Divs</code> to 100, 100, 100:

<ul>
<li>
Now we'll have 1,000,000 voxels, and the viewport will reflect this.

<li>
The volume is much sharper.

</ul>
</ul>
<p>
Since we are set to <code>Non Square</code> voxels, we can:
</p>
<ul>
<li>
Set the <code>Uniform Sampling Divs</code> to 100, 10, 10:

<ul>
<li>
This will result in 100 voxels in the <code>x</code> axis, 10 in <code>y</code> and 100 in <code>z</code>:

<ul>
<li>
Each voxel will be stretched in <code>y</code>.

</ul>
</ul>
<li>
However, we rarely see non-square voxels in practice.

</ul>
<div id="Voxyde - Intro to Houdini Volumes-Volumes &amp; Voxels-By Size"><h3 id="By Size" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volumes &amp; Voxels-By Size">By Size</a></h3></div>

<p>
With this in mind, let's set the <code>Uniform Sampling</code> to <code>By Size</code>. (This is the common way of setting resolution.)
</p>
<ul>
<li>
Set <code>Div Size</code> to 0.1

<li>
The resulting amount of voxels is the <code>Size</code> parameter divided by the <code>Div Size</code> value:

<ul>
<li>
If we have a <code>Size</code> of <code>1, 1, 1</code>:

<li>
a <code>Div Size</code> of <code>0.1</code>:

<ul>
<li>
The voxels will be 1/10th

<li>
[10, 10, 10] voxels in our volume;

<li>
1,000 voxels.

</ul>
<li>
a <code>Div Size</code> of <code>0.01</code>:

<ul>
<li>
The voxels with be 1/100th

<li>
[100, 100, 100] voxels in our volume;

<li>
1,000,000 voxels.

</ul>
</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Volumes &amp; Voxels-Interpolation"><h3 id="Interpolation" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volumes &amp; Voxels-Interpolation">Interpolation</a></h3></div>

<p>
The next illustration in the tutorial, shows how the density of each voxel is stored in the center of the voxel, but the render is interpolated between neighboring voxels.
</p>
<ul>
<li>
If one voxel has a value of <code>1</code>

<li>
And the next to it as a value of <code>0</code>:

<ul>
<li>
The intervening <em>pixels</em> at render time will have a ramp of between 1 and 0 from center to center of the voxels.

</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Volumes &amp; Voxels-Data stored in Voxels"><h3 id="Data stored in Voxels" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volumes &amp; Voxels-Data stored in Voxels">Data stored in Voxels</a></h3></div>

<p>
In addition to the <code>Float</code> values used in the interpolation example above, voxels can also have <code>Vector</code> values. Many types of data can be stored in voxels (including <code>Intetgers</code>, <code>Matrices</code>, etc.)
</p>

<p>
<code>Float</code> and <code>Vector</code> values are the most common.
</p>

<div id="Voxyde - Intro to Houdini Volumes-VDB vs Standard Volume"><h2 id="VDB vs Standard Volume" class="header"><a href="#Voxyde - Intro to Houdini Volumes-VDB vs Standard Volume">VDB vs Standard Volume</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=532s">VDB vs Standard Volume - YouTube</a>

</ul>
<p>
Houdini has two types of Volumes:
</p>
<ul>
<li>
<code>Standard</code>

<li>
<code>VDB</code>

</ul>
<p>
We'll look at how the two types handle being generated by a geometry (shape) input. (In the demo, the rubber toy geometry is used.)
</p>

<div id="Voxyde - Intro to Houdini Volumes-VDB vs Standard Volume-Standard Volumes"><h3 id="Standard Volumes" class="header"><a href="#Voxyde - Intro to Houdini Volumes-VDB vs Standard Volume-Standard Volumes">Standard Volumes</a></h3></div>


<p>
Standard volumes (which are demonstrated with an <code>IsoOffset</code> node) are set using the <code>Bounding Box</code> of the input or generating geometry.
</p>

<p>
To see this, feed the <code>Rubber Toy</code> geometry into:
</p>
<ul>
<li>
an <code>IsoOffset</code> node:

<ul>
<li>
see how the shape of the geo is now a volume version

<li>
Adding a <code>Bound</code> node (and templating it with <code>E</code>) shows the cuboid of voxels, most of which will be zero value.

<ul>
<li>
You can imagine that with this standard volume type (<code>Volume</code> node) the entire bounding box is filled with voxels, most of which have a value of zero, and invisible.

</ul>
<li>
Set <code>Uniform Sampling</code> to <code>By Size</code>

<li>
With a voxel size of 0.25 (<code>Div Size</code> of 0.025):

<ul>
<li>
we have almost 500,000 voxels:

<ul>
<li>
(We can see this in the Viewport info or in the <code>i</code> panel of the `IsoOffset node.)

</ul>
</ul>
</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-VDB vs Standard Volume-VDBs"><h3 id="VDBs" class="header"><a href="#Voxyde - Intro to Houdini Volumes-VDB vs Standard Volume-VDBs">VDBs</a></h3></div>

<p>
We'll quickly move on to the <code>VDB</code> type of volumes.
</p>


<p>
To see the equivalent of a <code>VDB</code> version of the volume:
</p>
<ul>
<li>
Use a <code>VDB From Polygon</code> node forked from the <code>Rubber Toy</code>:

<li>
Switch off the <code>Distance VDB</code> checkbox.

<li>
Switch on the <code>Fog VDB</code> checkbox (more on this choice later):

<ul>
<li>
With a <code>Voxel Size</code> of 0.025:

<ul>
<li>
The bounding box is not filled with voxels.

<li>
The voxels hug the outer extremities of the input geo only.

<li>
This is called a <code>sparce grid</code>

<li>
We have around 60,000 voxels.

</ul>
</ul>
</ul>
<p>
While the result is not identical, and we can see minor differences, the difference in data is vast.
</p>

<p>
Take a look at the <code>i</code> panel for each volume node type:
</p>
<ul>
<li>
The regular volume has almost 500,000 voxels

<li>
The VDB has more like 60,000

</ul>
<p>
<code>VDB</code> Volumes are superior and are the most used, and Houdini has a ton of nodes dedicated to VDB workflow.
</p>

<p>
An extra advantage is that you can use regular volume tools and nodes on <code>VDB</code> volumes too!
</p>

<div id="Voxyde - Intro to Houdini Volumes-VDB vs Standard Volume-Identifying Volume types"><h3 id="Identifying Volume types" class="header"><a href="#Voxyde - Intro to Houdini Volumes-VDB vs Standard Volume-Identifying Volume types">Identifying Volume types</a></h3></div>

<p>
<em><span id="Voxyde - Intro to Houdini Volumes-VDB vs Standard Volume-Identifying Volume types-Edit"></span><strong id="Edit">Edit</strong>: I don't think this next paragraph is true in the latest Houdini versions</em>
</p>


<p>
In Houdini, if you look at the <code>i</code> panel on a node:
</p>
<ul>
<li>
any <code>VDB</code> volume attribute will be a neutral or blue color

<li>
a <code>Standard Volume</code> will be a teal color.

</ul>
<div id="Voxyde - Intro to Houdini Volumes-SDF Distance Volume"><h2 id="SDF Distance Volume" class="header"><a href="#Voxyde - Intro to Houdini Volumes-SDF Distance Volume">SDF Distance Volume</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=751s">SDF Distance Volume - YouTube</a>

</ul>
<div id="Voxyde - Intro to Houdini Volumes-SDF Distance Volume-What is a Sign Distance Field?"><h3 id="What is a Sign Distance Field?" class="header"><a href="#Voxyde - Intro to Houdini Volumes-SDF Distance Volume-What is a Sign Distance Field?">What is a Sign Distance Field?</a></h3></div>

<p>
<code>SDF</code> stands for <code>Sign Distance Field</code>.
</p>

<p>
The sign distance is two concepts:
</p>
<ul>
<li>
a <code>distance</code> from the surface of the input geometry,

<li>
and a <code>sign</code> (negative or positive) where:

<ul>
<li>
negative <code>-</code> is interior to the surface boundary

<li>
positive <code>+</code> is exterior to the surface

</ul>
</ul>
<p>
There are two options for the VDB volumes: <code>Fog VDB</code> and a <code>Distance VDB</code> Volume. It seems that the <code>Fog VDB</code> stores data with 0 outside the fog geometry boundary and 1 inside, and the <code>Distance VDB</code> option stores a <code>Sign Distance Field</code> (with zero being the boundary, and positive values increasing outwards, and negative inwards. As far as I can tell, each data format has benefits for various uses.
</p>

<p>
To create each, in the <code>VDB from Polygons</code> node:
</p>
<ul>
<li>
Activate the <code>Distance VDB</code> checkbox for <code>SDF</code>:

<ul>
<li>
Maybe with a <code>surface</code> attribute label.

</ul>
<li>
Activate the <code>Fog VDB</code> checkbox:

<ul>
<li>
Maybe with a <code>density</code> attribute label.

</ul>
</ul>
<p>
On the <code>VDB from Polygons</code> node:
</p>
<ul>
<li>
<code>Exterior Band Voxels</code>:

<ul>
<li>
is for expansion of voxel count on the OUTSIDE of the input geometry shape

<li>
The bounding box will change as you adjust this value.

</ul>
<li>
<code>Interior Band Voxels</code>:

<ul>
<li>
is for expansion of voxel count on the INSIDE of the input geometry shape.

</ul>
<li>
There is a <code>Fill Interior</code> checkbox too; to completely fill the inside.

</ul>
<div id="Voxyde - Intro to Houdini Volumes-SDF Distance Volume-World Units vs Count"><h3 id="World Units vs Count" class="header"><a href="#Voxyde - Intro to Houdini Volumes-SDF Distance Volume-World Units vs Count">World Units vs Count</a></h3></div>

<ul>
<li>
The <code>Use World Space Units for Narrow Band</code> checkbox uses world unit values instead of explicit voxel counts.

<li>
The advantage of using this option, is that world unit values don't change in relation to any <code>Voxel Size</code> values which we might change throughout development.

</ul>
<div id="Voxyde - Intro to Houdini Volumes-Volume VOP"><h2 id="Volume VOP" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volume VOP">Volume VOP</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=1014s">Volume VOP - YouTube</a>

</ul>
<p>
The <code>Volume VOP</code> is a VOP much like the Attribute and Geometry VOP nodes, in that the interior is a node based network.
</p>

<p>
It differs from an <code>Attribute VOP</code> in that it doesn't offer a drop-down to work on specific and different components. It's only for Volumes.
</p>

<p>
Another difference is the <code>Volume VOP</code> OUTPUT node (volumevopoutput), only has one input slot by default - <code>density</code>. (We can export multiple fields however when necessary.)
</p>

<p>
On closer examination of the INPUT node (volumevopglobal) in the <code>Volume VOP</code>, even though we have multiple outputs, they aren't the same in entirety to that of the <code>Attribute VOP</code>.
</p>

<p>
A number of output slots on the INPUT node of the <code>Volume VOP</code> are semi-redundant, as a lot of them can be derived using common nodes available in most VOPs. For example, <code>BB</code> (bounding box) can be extracted from the <code>P</code> output using the <code>Relative to Bounding Box</code> node.
</p>

<p>
<span id="Voxyde - Intro to Houdini Volumes-Volume VOP-NOTE"></span><strong id="NOTE">NOTE</strong>: The <code>P</code> attribute refers to the position of the center of the voxel, and NOT the density as shown in the Viewport.
</p>

<p>
The <code>Volume VOP</code> works on both:
</p>
<ul>
<li>
<code>Distance VDB</code>

<li>
<code>Fog VDB</code>

</ul>
<div id="Voxyde - Intro to Houdini Volumes-Volume VOP-Demo"><h3 id="Demo" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volume VOP-Demo">Demo</a></h3></div>
<p>
We'll work on the <code>Fog VDB</code> variant.
Building on our <code>Rubber Toy</code> geometry, with a <code>VDB from Polygons</code> node (set to <code>Fog VDB</code>):
</p>
<ul>
<li>
Add a <code>Volume VOP</code>:

<ul>
<li>
Jump inside.

<li>
One of the most common things to do in a <code>Volume VOP</code> is to break up the volume with noise to resemble smoke.

<li>
Drop a <code>Turbulent Noise</code> node (from the <code>P</code> output):

<li>
Plug the output into the OUTPUT node's <code>density</code> input:

<ul>
<li>
Notice the appearance.

<li>
(As an aside, the tutorial shows a scatter of points on the same Rubber Toy geo, and in an Attribute VOP connected to the scatter, the turbulence is pasted. The two examples - points and volume - are strikingly similar.)

</ul>
<li>
One thing we see on the volume after adding the <code>Turbulent Noise</code> is that the edge of the volume mass is jagged.

<ul>
<li>
The fix is to multiply the noise against the original density - so a bit of re-wiring.

<li>
(Another aside: if this Volume VOP network were instead applied to a standard Houdini <code>Volume</code>, the result when the <code>Turbulent Noise</code> is plugged directly into the <code>density</code> slot - with no <code>Multiply</code> - it would completely fill the bounding box with noise, regardless of input geometry shape.)

</ul>
</ul>
</ul>
<p>
This is the layout inside the Volume VOP:
</p>
<pre>
                        ┌──────────────────┐
                        │  turbulentnoise  │
                        │                  │
                        │                  │
                      ┌─┤  pos      noise  ├─┐
                      │ └──────────────────┘ │
                      │                      │
                      │                      │
 ┌──────────────────┐ │                      │                            ┌──────────────────────┐
 │volumevopglobal1  │ │                      │ ┌───────────────────┐      │ Volumevopoutput      │
 │                  │ │                      │ │    Multiply       │      │                      │
 │                P |─┘                      │ │                   │      │                      │
 │          density ├────────────────────────┼─┤  input1   product ├──────┤ density              │
 │                  │                        └─┤  input2           │      └──────────────────────┘
 └──────────────────┘                          └───────────────────┘
</pre>

<table>
<tr>
<td>
The big take-away from the above, is that we normally want to process the density using <code>Multiply</code>, <code>Add</code>, <code>Subtract</code>, <code>Divide</code> or generally affect the existing density, and feed back into the <code>density</code> output.
</td>
</tr>
</table>

<div id="Voxyde - Intro to Houdini Volumes-Fog Volume VOP examples"><h2 id="Fog Volume VOP examples" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Fog Volume VOP examples">Fog Volume VOP examples</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=1531s">Fog Volume VOP examples - YouTube</a>

</ul>
<div id="Voxyde - Intro to Houdini Volumes-Fog Volume VOP examples-Demo"><h3 id="Demo" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Fog Volume VOP examples-Demo">Demo</a></h3></div>

<p>
Another Demo, with the <code>Rubber Toy</code> geometry into a <code>VDB from Polygons</code> node (set to <code>Fog VDB</code>).
</p>
<ul>
<li>
Add a <code>Volume VOP</code>.

</ul>
<p>
Let's try to fade the density along the height of the volume. (More density at base, less at the top.)
</p>
<ul>
<li>
From the <code>P</code> output, add a <code>Relative to Bounding Box</code> node:

<ul>
<li>
Use the <code>P</code> input.

<li>
This Bounding Box gives a <code>zero to one</code> value in each of the x, y and z axis.

<li>
We want to grab the <code>y</code> component, so:

<ul>
<li>
Add a <code>Vector to Float</code> node (connected to the <code>bbdelta</code> output)

<li>
From <code>fval2</code> (which is the <code>y</code> component):

<ul>
<li>
Add a <code>Multiply</code> and plug into the <code>input2</code>

<li>
Into <code>input1</code> connect the original <code>density</code>

<li>
Then continue and plug the <code>product</code> into the OUTPUT node's <code>density</code> input.

</ul>
</ul>
<li>
Now for finer control:

<ul>
<li>
between the <code>Vector to Float</code> and the <code>Multiply</code>:

<ul>
<li>
Add a <code>Ramp Parameter</code> node:

<ul>
<li>
Set the <code>Ramp Type</code> to <code>Spline Ramp</code>

<li>
Now do the same song &amp; dance of going up a level and working with the SOP level of the <code>Volume VOP</code>:

<ul>
<li>
Expand with the little down arrow

<li>
Reset the ramp by <code>&lt;cntl&gt; MMB</code> clicking on the <code>ramp</code> label.

<li>
Reverse the ramp by clicking on the complement ramp button (top right)

<li>
Now by tweaking the ramp we can control the fall-off and cut-off of the volume density.

<li>
Squeeze up the transition by moving the left point to the right and the right point to the left (to crush the values to a clear transition).

</ul>
</ul>
</ul>
<li>
If we add an <code>Add</code> node before the ramp (and promote the <code>input2</code>), we can slide the fall-off up and down from the SOP level and get a bit of control of the transition point.

</ul>
</ul>
<li>
Let's add some noise:

<ul>
<li>
From the first <code>P</code> output from the INPUT node:

<ul>
<li>
Add an <code>Anti-Aliased Flow Noise</code> (not 'in network'):

<ul>
<li>
<code>Signature</code> to <code>3D Input, 3D Noise</code>

</ul>
<li>
Between the INPUT and the <code>Relative to Bounding Box</code> node:

<ul>
<li>
Create and <code>Add</code> node:

<ul>
<li>
<code>input1</code> from the INPUT node

<li>
<code>input2</code> from the noise node.

</ul>
</ul>
<li>
<code>RMB</code> on the noise node, and choose <code>VEX/VOP Option</code>:

<ul>
<li>
<code>Create Input Parameters</code>

<li>
Now at the SOP level we have all the nose controls (enabling animation and keyframes):

<ul>
<li>
Tweak the <code>Frequency</code> and the <code>Amplitude</code>

<li>
By animating the <code>Offset</code> vector fields (<code>y</code> value perhaps) we can have the illusion of traveling smoke:

<ul>
<li>
Maybe use an expression:

<ul>
<li>
<code>$T</code> which will return <code>Time</code> - and of course you can mult, add or anything to manipulate.

</ul>
<li>
Playing the timeline will show the volume appear as traveling smoke - which it isn't.

</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
<p>
Replacing the <code>Rubber Toy</code> input geometry with a simple <code>Box</code> geometry, will give the illusion of some fairly nice ground fog.
</p>
<ul>
<li>
Scale the box with the handle tool - to a ground area,

<li>
<code>&lt;shift&gt; W</code> to hide the bounding box.

</ul>
<p>
The VOP network should look something like this:
</p>
<pre>
                                                    ┌───────────────┐
                                ┌─────────────┐     │   relbbox1    │
                                │  add1       │     │               │  ┌───────────────┐
                                │             │     │ file          │  │ vecttofloat1  │   ┌────────────┐     ┌──────────────┐
                            ┌───┤ input1      │     │ group         │  │               │   │    add2    │     │ ramp(param)1 │
                            │   │         sum ├─────┤ P     bbdelta ├──┤ vec     fval1 │   │            │     │              │
                            │ ┌─┤ input2      │     │               │  │         fval2 ├───┤ input1 sum ├─────┤ input   ramp ├───┐                        ┌────────────────┐
                            │ │ └─────────────┘     └───────────────┘  │         fval3 │   │ input2     │     │              │   │                        │                │
                            │ │                                        └───────────────┘   └────────────┘     └──────────────┘   │  ┌──────────────────┐  │volumevopoutput1│
       ┌─────────────────┐  │ │                                                             Promoted input2                      │  │                  │  │                │
       │ volumevopglobal1│  │ └─────────────────────────┐                                   Labeled 'Offset'                     │  │    multiply1     │  │                │
       │                 │  │                           │                                                                        │  │                  │  │                │
       │               P ├──┤                           │                                                             ┌──────────┼──┤   input1         │  │                │
       │                 │  │                           │                                                             │          │  │          product ├──┤density         │
       │         density ├──┼───────────────────────────┼─────────────────────────────────────────────────────────────┘          └──┤   input2         │  │                │
       │                 │  │                           │                                                                           │                  │  │                │
       └─────────────────┘  │                           │                                                                           └──────────────────┘  │                │
                            │     ┌──────────────────┐  │                                                                                                 └────────────────┘
                            │     │   aaflownoise1   │  │
                            │     │                  │  │
                            └─────┤  pos    noise    ├──┘
                                  │                  │
                                  └──────────────────┘
</pre>

<p>
Move the <code>Volume VOP</code> to the left, and rename it <code>gradient_fade</code>.
</p>

<div id="Voxyde - Intro to Houdini Volumes-Fog Volume VOP examples-Demo - Pig Head"><h3 id="Demo - Pig Head" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Fog Volume VOP examples-Demo - Pig Head">Demo - Pig Head</a></h3></div>

<p>
Instead of the <code>Rubber Toy</code> or <code>Box</code>, start with the <code>Pig Head</code> geometry.
</p>

<p>
From the existing <code>VDB from Polygons</code> node, fork the network and:
</p>
<ul>
<li>
Drop a new <code>Volume VOP</code> and rename it (<code>F2</code>) to <code>position_fade</code>.

<li>
Drop a free-standing <code>Sphere</code> (not connected to the network yet):

<ul>
<li>
<code>Uniform Scale</code> to 0.35

<li>
Set <code>Primitive Type</code> to <code>Primitive</code>:

<ul>
<li>
The sphere will now be treated as a single point.

<li>
This will be easily referenced as 'point zero'.

</ul>
<li>
Append a <code>Transform</code> node:

<ul>
<li>
So we can move it easily.

<li>
Move to the side:

<ul>
<li>
Translate:  0.2, 0.6, -0.1

</ul>
</ul>
<li>
Plug this into the 2nd input of the <code>position_fade</code> Volume VOP.

</ul>
</ul>
<p>
Inside the <code>position_fade</code> (Volume VOP):
</p>
<ul>
<li>
Add and <code>Import Point Attribute</code> node:

<ul>
<li>
<code>Signature</code> to <code>Vector 3</code>

<li>
<code>Input</code> to <code>Second Input</code>

<li>
<code>Attribute</code> field should be <code>P</code>

</ul>
<li>
We have to specify a point number (and we only have one!):

<ul>
<li>
<code>MMB</code> on the <code>ptnum</code> input, and select <code>Constant</code>:

<ul>
<li>
Leave with default value of <code>0</code>

<li>
and <code>Constant Name</code> as <code>ptnum</code>.

</ul>
</ul>
<li>
Now drop a <code>Distance</code> node (from the INPUT's <code>P</code> attribute):

<ul>
<li>
Plug the <code>result</code> output of the <code>Import Point Attribute</code> node into the <code>Distance</code> input, <code>P2</code>.

<li>
Plug the <code>dist</code> from the <code>Distance</code> node into the OUTPUT's <code>density</code> input for now.

<li>
From the output <code>dist</code>, add a <code>Fit Range</code> node to remap the values:

<ul>
<li>
Increase the <code>Source Max</code> value to see more influence from the sphere location.

<li>
Reverse the Destination values:

<ul>
<li>
<code>Destination Min</code> to 0

<li>
<code>Destination Max</code> to 1

</ul>
</ul>
<li>
This can all be refined by plugging INPUT's <code>density</code> to that of the OUTPUT:

<ul>
<li>
Then add a <code>Multiply</code> to combine our point location to the <code>density</code>,

<li>
Plug the original <code>density</code> into <code>input1</code>

<li>
and the <code>Fit Range</code> output <code>shift</code> into <code>input2</code> of the multiply.

</ul>
<li>
Promote the inputs of the <code>Fit Range</code>:

<ul>
<li>
<code>RMB</code> on the <code>Fit Range</code> node:

<ul>
<li>
VEX/VOP Options &gt; <code>Create Input Parameters</code>

</ul>
</ul>
</ul>
<li>
Move up to the SOP level, and select the <code>Transform</code> node and <code>&lt;enter&gt;</code> to use the Sphere's handle:

<ul>
<li>
Move it around to see the influence.

</ul>
</ul>
<p>
This kind of thing can be used (with a reverse fade-off) with a camera, to fade volumes next to the camera so it doesn't get fogged out.
</p>

<div id="Voxyde - Intro to Houdini Volumes-Multiple Volumes"><h2 id="Multiple Volumes" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Multiple Volumes">Multiple Volumes</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=2259s">Multiple Volumes - YouTube</a>

</ul>
<p>
New scene for this one.
</p>

<div id="Voxyde - Intro to Houdini Volumes-Multiple Volumes-Demo"><h3 id="Demo" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Multiple Volumes-Demo">Demo</a></h3></div>

<ul>
<li>
Start with a <code>Rubber Toy</code> geometry

<li>
Add a <code>VDB from Polygons</code>:

<ul>
<li>
Turn off <code>Distance VDB</code>

<li>
Turn on <code>Fog VDB</code>

<li>
Increases resolution by dropping the <code>Voxel Size</code> to <code>0.01</code>

</ul>
<li>
Add a <code>Volume VOP</code>:

<ul>
<li>
Inside:

<ul>
<li>
Between joined <code>density</code> parameters (INPUT and OUTPUT nodes):

<ul>
<li>
Add a <code>Multiply Constant</code>:

<ul>
<li>
<code>Signature</code> to <code>Float</code>

<li>
Sliding the <code>Multiplier</code> value will show the volume density changing.

</ul>
</ul>
</ul>
</ul>
</ul>
<p>
Experiment:
</p>
<ul>
<li>
In the <code>Volume VOP</code>, change the <code>Fog VDB</code> field from <code>density</code> to <code>temperature</code>:

<ul>
<li>
The manipulations we've done no longer work on this new attribute.

</ul>
<li>
To fix this, in the <code>Volume VOP</code>:

<ul>
<li>
Drop a <code>Bind</code> node, and set the <code>Name</code> parameter to <code>temperature</code>

<li>
Drop a <code>Bind Export</code> node and set the <code>Name</code> parameter to <code>temperature</code>

<li>
Connect the <code>temperature</code> output from the <code>Bind</code> to the <code>input</code> of the <code>Bind Export</code> node:

<ul>
<li>
Duplicate the <code>Multiply Constant</code> and disconnect from the INPUT &amp; OUTPUT nodes.

<li>
Reconnect between the <code>Bind</code> and <code>Bind Export</code>.

<li>
Now the <code>Multiplier</code> slider on this instance works (in affecting the volume again).

</ul>
</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Multiple Volumes-Note on Bind Export difference with Volume VOP"><h3 id="Note on Bind Export difference with Volume VOP" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Multiple Volumes-Note on Bind Export difference with Volume VOP">Note on Bind Export difference with Volume VOP</a></h3></div>

<p>
With an <code>Attribute VOP</code> you can use a <code>Bind Export</code> node to export a brand new attribute (maybe created from manipulated values within the VOP network) and it will appear as a new attribute, visible and usable on the network. (You would see it in the <code>i</code> panel on and after the VOP node.
</p>

<p>
However, with a <code>Volume VOP</code> exporting a new attribute or parameter, will NOT create a new attribute. It will just not exist outside the VOP. (It won't show up in the <code>i</code> panel for example.) The attribute must be created BEFORE the <code>Volume VOP</code>, so that if it is manipulated within the VOP, it can be exported along the network.
</p>

<div id="Voxyde - Intro to Houdini Volumes-Multiple Volumes-Working with two VDB to Polygon nodes to create multiple attributes in one combined volume"><h3 id="Working with two VDB to Polygon nodes to create multiple attributes in one combined volume" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Multiple Volumes-Working with two VDB to Polygon nodes to create multiple attributes in one combined volume">Working with two VDB to Polygon nodes to create multiple attributes in one combined volume</a></h3></div>

<table>
<tr>
<td>
The detailed reconstruction isn't featured in my notes, but the tutorial shows a duplicated <code>VDB from Polygons</code> node, with the <code>Fog VDB</code> named <code>heat</code> (the original being <code>temperature</code>), and then the two <code>VDB from Polygon</code> nodes are combined with a <code>Merge</code>, and now the <code>Volume VOP</code> CAN manipulate and display edits to both <code>temperature</code> and <code>heat</code>.
</td>
</tr>
</table>

<pre>
              ┌──────────────────┐
              │ test_geometry    │
              │                  │
              └────────┬──┬──────┘
            ┌──────────┘  └───────────────┐
            │                             │
  ┌─────────┴────────┐         ┌──────────┴────────┐
  │ vdbfrompolygons1 │         │ vebfrompolygons2  │
  │    temperature   │         │      density      │
  └─────────┬────────┘         └───────┬───────────┘
            │                          │
            └──────┐    ┌──────────────┘
                   │    │
                  ┌┴────┴──┐
                  │  merge │
                  └────────┘

             Both `density` and `temperature`
</pre>


<p>
This kind of setup is common with simulations, perhaps with smoke and fire etc. With this in mind, the tutorial renames the attributes to <code>density</code> on one, and <code>temperature</code> on the other.
</p>
<ul>
<li>
A lot of nodes in Houdini look for attributes named <code>density</code> and <code>temperature</code>

</ul>
<div id="Voxyde - Intro to Houdini Volumes-Multiple Volumes-Alternate way of combining volume attribute names"><h3 id="Alternate way of combining volume attribute names" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Multiple Volumes-Alternate way of combining volume attribute names">Alternate way of combining volume attribute names</a></h3></div>

<p>
An alternate way of achieving this is using a <code>Name</code> node, and in this way we can conserve the same volume settings as they come from a common <code>VDB</code> node. However, if you want individual control of the attribute (like density and temperature - perhaps for voxel size), use the dual <code>VDB from Polygon</code> nodes.
</p>
<pre>
            ┌──────────────────┐
            │ test_geometry    │
            │                  │
            └─────┬─────┬──────┘
         ┌────────┘     └───────────────┐
         │                              │
┌────────┴─────┐             ┌──────────┴────────┐
│    Name      │             │ vebfrompolygons2  │
│ temperature  │             │      density      │
└─────────┬────┘             └───────┬───────────┘
          │                          │
          └──────┐    ┌──────────────┘
                 │    │
                ┌┴────┴──┐
                │  merge │
                └────────┘

           Both `density` and `temperature`
</pre>


<div id="Voxyde - Intro to Houdini Volumes-Volume Visualization"><h2 id="Volume Visualization" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volume Visualization">Volume Visualization</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=2636s">Volume Visualization - YouTube</a>

</ul>
<p>
So, to get up to speed, since we didn't already build the network above:
</p>
<ul>
<li>
<code>Rubber Toy</code>

<li>
Add a <code>VDB to Polygons</code>:

<ul>
<li>
Set the <code>Voxel Size</code> to 0.01

<li>
<code>Fog VDB</code> on:

<ul>
<li>
Set attribute to <code>density</code>

</ul>
</ul>
<li>
Add a <code>Merge</code> node on one fork from the <code>VDB to Polygons</code>

<li>
Add a <code>Name</code> node on another fork (and then plug it into the <code>Merge</code>):

<ul>
<li>
Set the <code>Attribute</code> to <code>name</code>

<li>
Set the <code>Name</code> field on the note to <code>temperature</code>

</ul>
</ul>
<p>
Here's the network so far:
</p>
<pre>
                   ┌────────────┐
                   │ Rubber Toy │
                   └─────┬──────┘
                         │
                ┌────────┴──────────┐
                │ VDB From Polygons │
                │                   │
                │    density        │
                └────────┬──────────┘
       ┌─────────────────┤
       │                 │
 ┌─────┴─────┐           │
 │   Name    │           │
 │           │           │
 │temperature│           │
 └─────┬─────┘           │
       └──────────────┐  │
                      │  │
                     ┌┴──┴───┐
                     │ Merge │
                     └───┬───┘
                         │
                   ┌─────┴──────┐
                   │ Volume VOP │
                   └────────────┘
</pre>


<p>
Moving on from the condition of our demo above (with the <code>Name</code> node alternative to two volumes):
</p>
<ul>
<li>
After the <code>VDB from Polygons</code> node and before the fork to the <code>Name</code> node:

<ul>
<li>
Add a <code>Volume Noise Fog</code> node (a pre-set node for creating noise, much like we did by hand inside a <code>Volume VOP</code> earlier):

<ul>
<li>
This node actually has a pre-built <code>Volume VOP</code> inside it.

<li>
Set <code>Operation</code> to <code>Multiply</code>

<li>
Set <code>Range Values</code> to <code>Zero Centered</code>

<li>
Enable <code>Enable Remap Ramp</code>:

<ul>
<li>
You can raise the left side up a bit.

</ul>
</ul>
</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Volume Visualization-Adding a Volume Visualizer"><h3 id="Adding a Volume Visualizer" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volume Visualization-Adding a Volume Visualizer">Adding a Volume Visualizer</a></h3></div>

<ul>
<li>
After the <code>Merge</code>, add a <code>Volume Visualization</code> node:

<ul>
<li>
<em>IMPORTANT: The changes on this tab affect the Viewport representation only - NOT the values of the volumes!:</em>

<ul>
<li>
<em>WHEN WE RENDER - WE HAVE TO DO THIS ALL OVER AGAIN.</em>

<li>
We can use these values however, when we build our shaders.

</ul>
<li>
There are two tabs - <code>Smoke</code> &amp; <code>Emission</code>.

<li>
For <code>Smoke</code>:

<ul>
<li>
We can specify which fields we want to be represented:

<ul>
<li>
The <code>Density Scale</code> slider can be boosted for more thick smoke (the tutorial had <code>30</code>)

<li>
In the <code>Smoke</code> tab &gt; <code>Density Field</code> enter <code>density</code> (if it already there):

<ul>
<li>
The <code>Density Ramp</code> can be used to remap the values for the density:

<ul>
<li>
Try bringing down the white area of the ramp to a mid gray.

</ul>
<li>
The <code>Diffuse Field</code> can be mapped again to <code>density</code>:

<ul>
<li>
Now the <code>Density Ramp</code> below can be used to color the volume based on <code>density</code> values.

</ul>
</ul>
</ul>
</ul>
<li>
For <code>Emission</code>:

<ul>
<li>
We can specify which fields we want to be represented:

<ul>
<li>
In the <code>Emission</code> tab &gt; <code>Emission Field</code> enter <code>temperature</code> (you can type it in or use the dropdown).

<li>
Adjust the <code>Emission Scale</code> (usually to values above 1, perhaps <code>10</code> or even <code>90</code> when we introduce noise later.)

<li>
Like the <code>Smoke</code> panel, we can remap the values using the:

<ul>
<li>
<code>Emission Ramp</code>

<li>
<code>Emission Color Field</code> to <code>temperature</code> (although you could used other attributes too):

<ul>
<li>
Now you can use the <code>Emission Color Ramp</code> to manipulate the color representation.

<li>
<span id="Voxyde - Intro to Houdini Volumes-Volume Visualization-Adding a Volume Visualizer-TIP"></span><strong id="TIP">TIP</strong>: Don't use <span id="Voxyde - Intro to Houdini Volumes-Volume Visualization-Adding a Volume Visualizer-fully saturated"></span><strong id="fully saturated">fully saturated</strong> pure color - always have a 'bit of white' for calculations

</ul>
<li>
You can activate the <code>Emission Color Range</code> checkbox to remap the incoming values:

<ul>
<li>
Two fields (min and max essentially):

<ul>
<li>
The demo uses 0 &amp; 0.5

</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Volume Visualization-Visually Separating the Density and Temperature attributes"><h3 id="Visually Separating the Density and Temperature attributes" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volume Visualization-Visually Separating the Density and Temperature attributes">Visually Separating the Density and Temperature attributes</a></h3></div>

<ul>
<li>
In the demo, the visualization of the <code>density</code> and <code>temperature</code> are similar and don't really distinguish themselves.

<li>
Let's add a <code>Volume VOP</code> <em><span id="Voxyde - Intro to Houdini Volumes-Volume Visualization-Visually Separating the Density and Temperature attributes-BEFORE"></span><strong id="BEFORE">BEFORE</strong></em> the <code>Volume Visualizer</code> node:

<ul>
<li>
Inside, let's perform some changes on the <code>temperature</code> attribute:

<ul>
<li>
Drop a <code>Bind</code> node, and edit the <code>Name</code> field to <code>temperature</code>

<li>
From the INPUT's <code>P</code> output, add a <code>Relative to Bounding Box</code> node

<li>
and from its <code>bbdelta</code> drop a <code>Vector to Float</code> node

</ul>
<li>
Add a <code>Bind Export</code> and set the <code>Name</code> to <code>temperature</code>

<li>
Now, from the <code>Vector to Float</code> add a <code>Ramp Parameter</code> node (from the <code>fval2</code> output):

<ul>
<li>
Set to <code>Ramp Type</code> to <code>Spline Ramp (float)</code>

</ul>
<li>
Add a <code>Multiply</code> from the ramp and plug to <code>input2</code>

<li>
Plug the <code>Bind</code> node's <code>temperature</code> output into the <code>Multiply</code> node's <code>input1</code>

<li>
Plug the <code>Multiply</code> node's <code>product</code> into the <code>Bind Export</code> node's <code>input</code>.

</ul>
<li>
On the outside of the <code>Volume VOP</code> you can reset the ramp with a <code>&lt;cntl&gt; MMB</code> on the <code>ramp</code> label

<li>
the reverse the ramp using the reverse icon, and change the shape to a block on the left, then a point to the right, and falling short of reaching the end.

<li>
In the tutorial, the <code>Smoke</code> panel was set to have the default grayscale color ramp, so the color is on the <code>temperature</code> (Emission) only.

</ul>
<div id="Voxyde - Intro to Houdini Volumes-Volume Visualization-Add Cloud Noise"><h3 id="Add Cloud Noise" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volume Visualization-Add Cloud Noise">Add Cloud Noise</a></h3></div>

<p>
Now to make the whole thing more impressive, the tutorial replaces the <code>Volume Noise</code> node with <code>Cloud Noise</code> node. Wow!
</p>

<p>
The <code>Cloud Noise</code> node displaces the volume into puffs:
</p>
<ul>
<li>
<code>Amplitude</code> sets the scale of action - try 0.09

<li>
<code>Element Size</code> affects the size of the puffs - try 0.9

<li>
<span id="Voxyde - Intro to Houdini Volumes-Volume Visualization-Add Cloud Noise-NOTE"></span><strong id="NOTE">NOTE</strong>: Inside this node is yet another <code>Volume VOP</code>.

</ul>
<p>
Back inside the <code>Volume Visualizer</code>, try the default <code>Emission Color Ramp</code> to see the affect.
</p>

<p>
On the <code>Cloud Noise</code> node you can animate the <code>Offset</code> values (try the <code>y</code> value for vertical motion).
</p>

<div id="Voxyde - Intro to Houdini Volumes-Volume Visualization-the Pyro Bake Volume - an Alternative to the Volume Visualizer"><h3 id="the Pyro Bake Volume - an Alternative to the Volume Visualizer" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volume Visualization-the Pyro Bake Volume - an Alternative to the Volume Visualizer">the Pyro Bake Volume - an Alternative to the Volume Visualizer</a></h3></div>

<table>
<tr>
<td>
The impressive smoke detail seen in the video tutorial doesn't show up on MacOS. The 'smoke' is very white, bright and flat. The Scatter works, but the overall effect is not present. This might be due to the level of support for things like AO for volumes currently on MacOS.
</td>
</tr>
</table>

<p>
A relatively new addition to Houdini, is the <code>Pyro Bake Volume</code> node, which is an alternative to the <code>Volume Visualizer</code>.
</p>

<ul>
<li>
Add a <code>Pyro Bake Volume</code> as a fork from the <code>Volume VOP</code>.

</ul>
<p>
Looking at the Parameters for the <code>Pyro Bake Volume</code> node, we have tabs including:
</p>
<ul>
<li>
<code>Smoke</code> (which is similar to the Smoke on the Volume Visualizer):

<ul>
<li>
try boosting the <code>Density Scale</code> - try 37

</ul>
<li>
There is <code>Fire</code> instead of <code>Emission</code> like the previous node

<ul>
<li>
There is a checkbox to turn it on

<li>
After activating <code>Scatter</code> below, try the <code>Shadow Density</code>

<li>
And later try tweaking the <code>Blur</code> section and the <code>Masking</code> section.

<li>
Now turn off <code>Fire</code> and try <code>scatter</code>.

</ul>
<li>
<code>Scatter</code> which really gives a fireball look when activated (there's checkboxes for each of these tab options):

<ul>
<li>
Dial up the <code>Intensity Scale</code> for a full effect! (Maybe over 1,000)

<li>
Later try the <code>Hot Core Scale</code> to really heat up the core (maybe to 7).

<li>
Adjust the <code>Source Range</code> to something like 0.1 and 0.7

</ul>
<li>
and <code>Fire</code> gives you control of the base glow.

</ul>
<p>
Back in the <code>Volume VOP</code> you could add another input to the <code>Multiply</code> by promoting <code>input3</code> and labeling it <code>Global Amount</code>:
</p>
<ul>
<li>
Use this to boost the <code>temperature</code> even hotter.

</ul>
<div id="Voxyde - Intro to Houdini Volumes-VOPS with SDF"><h2 id="VOPS with SDF" class="header"><a href="#Voxyde - Intro to Houdini Volumes-VOPS with SDF">VOPS with SDF</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=3318s">VOPS with SDF - YouTube</a>

</ul>
<div id="Voxyde - Intro to Houdini Volumes-VOPS with SDF-A new Demo"><h3 id="A new Demo" class="header"><a href="#Voxyde - Intro to Houdini Volumes-VOPS with SDF-A new Demo">A new Demo</a></h3></div>

<p>
Create a <code>Rubber Toy</code> inside a <code>Geometry</code> node.
</p>
<ul>
<li>
Add a <code>VDB from Polygons</code> node below:

<ul>
<li>
Leave as <code>Distance VDB</code> and <code>surface</code>

<li>
<code>Voxel Size</code> down to 0.01

</ul>
<li>
Drop a <code>Volume VOP</code> and inside:

<ul>
<li>
There is no access to <code>surface</code> attribute from the regular INPUT node, so we can bring it ourselves:

<ul>
<li>
Add a <code>Bind</code> node, and set the <code>Name</code> as <code>surface</code> to access the attribute.

<li>
Now create a <code>Bind Export</code>, but instead of tabbing and bringing it in explicitly, try this:

<ul>
<li>
<code>&lt;alt&gt; LMB</code> the existing <code>Bind</code>:

<ul>
<li>
Activate the <code>Use This Node to St Parameter Attributes</code> checkbox

<li>
Set <code>Export</code> to <code>Always</code> from the dropdown menu.

<li>
This is now a <code>Bind Export</code> node.

</ul>
</ul>
<li>
Connect the two <code>Bind</code> nodes, <code>surface</code> to <code>input</code>

<ul>
<li>
In the tutorial, a <code>Multiply Constant</code> is added between them, and it's observed how the <code>Multiplier</code> slider does nothing.

<li>
This is because we need to use and <code>Add</code> node to influence the 'surface' values.

<li>
Go ahead and add an <code>Add Constant</code> node. Now, we can increase the value to push the surface inwards, and decrease to push it out.

<li>
A value of zero in a voxel is where the surface will be and the values sneak up (positive) as the voxels are more distant, and sneak down (negative) as the distance moves inwards.

<li>
Adding to a value will increase the value, which means negatives approach zero and the zero moves inwards

<li>
Subtracting a value will pull outer (positive) values to zero, making them the new surface boundary - dilating the surface through the voxels.

<li>
The voxels don't move, so the surface definition (being zero) moves through the voxel array.

<li>
An analogy is offered, where this adjustment of the volume 'surface' is like 'pushing the normals', that is pushing a geometry surface along the normals.

<li>
We can show this by adding a <code>Peak (deform)</code> node to a mesh:

<ul>
<li>
the <code>Distance</code> slide pushes of pulls the surface in and out (although not as elegantly as that of the volume).

<li>
The values are reversed here too. Larger pushes out, smaller pushes in.

</ul>
<li>
There is a limit to manipulating the <code>surface</code> of an SDF volume. Suddenly, the volume might disappear. This is because we've pushed beyond the existence of voxels.

<ul>
<li>
(Remember that the voxels are more efficient than a standard volume - they aren't a dense bounding box full of voxels. They hug the defined shape.)

<li>
We also have the <code>Fill Interior</code> option on the <code>VDB from Polygons</code> to at least have the core full of voxels if we desire.

</ul>
</ul>
</ul>
</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-VOPS with SDF-Converting Volumes to Geometry"><h3 id="Converting Volumes to Geometry" class="header"><a href="#Voxyde - Intro to Houdini Volumes-VOPS with SDF-Converting Volumes to Geometry">Converting Volumes to Geometry</a></h3></div>

<p>
Add a <code>Convert VDB</code> node to convert from a <code>VDB Volume</code> to a mesh.
</p>
<ul>
<li>
<code>Adaptivity</code> changes the resolution

<ul>
<li>
Zero is maximum resolution

<li>
However, changing <code>Voxel Size</code> in a <code>VDB from Polygons</code> node, will also affect the mesh density.

</ul>
</ul>
<p>
Before the <code>Convert VDB</code> we can use tools/nodes to affect the volume:
</p>
<ul>
<li>
<code>VDB Smooth SDF</code> to blur or smooth the resulting shape (and therefore mesh at conversion):

<ul>
<li>
(This is often used in fluid simulations.)

</ul>
<li>
<code>VDB Reshape SDF</code> to Dilate or Erode etc. (available options in an <code>Operation</code> dropdown).

<li>
There are many more but the ones above are claimed to be most commonly used.

</ul>
<div id="Voxyde - Intro to Houdini Volumes-Working with SDF"><h2 id="Working with SDF" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Working with SDF">Working with SDF</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=3745s">Working with SDF - YouTube</a>

</ul>
<p>
In the tutorial, we return to the demo setup above, but delete all back to the <code>Volume VOP</code> node.
</p>

<p>
Now we'll add a noise instead of a constant value.
</p>
<ul>
<li>
Inside the <code>Volume VOP</code> remove the <code>Add Constant</code>

<li>
Create a regular <code>Add</code> in its place.

<li>
We can actually delete the OUTPUT (<code>volumevopoutput1</code>) node.

<li>
From the INPUT (<code>volumevopglobal1</code>), <code>P</code> attribute:

<ul>
<li>
Add a <code>Turbulent Noise</code> node

<ul>
<li>
Plug the <code>noise</code> output into the <code>Add</code> node's <code>input2</code> input.

<li>
Maybe add a <code>Fit Range</code> between the <code>Turbulent Noise</code> and the <code>Add</code> node to control values:

<ul>
<li>
Decrease the <code>Destination Max</code> to bring back some control.

</ul>
<li>
Back on the <code>Turbolent Noise</code> node:

<ul>
<li>
Set the <code>Signature</code> to <code>1D Noise</code> (default), as floats are best for this volume setup (since the distance attribute for the surface is a scalar or float):

<ul>
<li>
<em><span id="Voxyde - Intro to Houdini Volumes-Working with SDF-NOTE"></span><strong id="NOTE">NOTE</strong>: On geometry we are changing 3 component coordinates (vectors), but on SDF Volumes, we are only changing values of individual voxels - not moving them.</em>

<li>
In the tutorial, an example is shown where in an <code>Attribute VOP</code> from geometry, we use a <code>Displace Along Normal</code> node instead of just <code>P</code>, and use a <code>1D Noise</code>.

<li>
Normally we'd use a <code>3D Noise</code> to displace the <code>P</code> (position). Not the same, and <code>Displace Along Normal</code> acts more like the <code>SDF Volume</code> with noise.

</ul>
</ul>
<li>
Try setting the <code>Noise Type</code> to <code>Simplex Noise</code>:

<ul>
<li>
And since the output of <code>Simplex Noise</code> is -0.5 to 0.5:

<ul>
<li>
<code>Source Min</code> to -0.5

<li>
<code>Source Max</code> to 0.5

<li>
Readjust the <code>Destination Max</code> (and tweak the <code>Destination Min</code>) to get a 'look'.

<li>
<code>Destination Min</code> pushed do negative values will 'inflate' the volume.

</ul>
<li>
Increase the <code>Amplitude</code> for a more blotchy look.

<li>
<code>Frequency</code> will scale the bumps.

<li>
<code>Roughness</code> will make it more harsh or smooth

</ul>
</ul>
</ul>
</ul>
<p>
The end result can be converted back to a mesh at the end with the <code>Convert VDB</code> node.
</p>

<div id="Voxyde - Intro to Houdini Volumes-SDF VOP Examples"><h2 id="SDF VOP Examples" class="header"><a href="#Voxyde - Intro to Houdini Volumes-SDF VOP Examples">SDF VOP Examples</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=4041s">SDF VOP Examples - YouTube</a>

</ul>
<p>
There a lot of uses for the SDFs, for making shapes and geometry. For example... This next exercise creates complex organic surfaces.
</p>

<div id="Voxyde - Intro to Houdini Volumes-SDF VOP Examples-Demo"><h3 id="Demo" class="header"><a href="#Voxyde - Intro to Houdini Volumes-SDF VOP Examples-Demo">Demo</a></h3></div>

<ul>
<li>
We'll start with a <code>Sphere (polygon)</code>:

<ul>
<li>
<code>Primitive Type</code> to <code>Polygon</code>

<li>
<code>Frequency</code> to 10

<li>
<code>Radius</code> to 1

<li>
<code>Uniform Scale</code> to 2

</ul>
<li>
Attach a <code>VDB from Polygons</code> node:

<ul>
<li>
<code>Voxel Size</code> to 0.02

<li>
Check <code>Distance VDB</code> with <code>surface</code> as the attribute name.

</ul>
<li>
Append a <code>Volume VOP</code>:

<ul>
<li>
Inside, drop a <code>Bind</code> (to bring in <code>surface</code>):

<ul>
<li>
<code>Name</code> to <code>surface</code>

<li>
Duplicate and create a <code>Bind Export</code> by setting:

<ul>
<li>
<code>Use This Node to Set Parameter Attributes</code>

<li>
and set <code>Export</code> to <code>Always</code> (or <code>When Input is Connected</code>)

</ul>
<li>
Plug <code>surface</code> to <code>input</code>

</ul>
<li>
Now add a <code>Celular Noise</code> from the <code>P</code> attribute (to the <code>uv</code> input).

<li>
Create an <code>Add</code> between the <code>Bind</code> nodes, and connect up the <code>Celular Noise</code> node's <code>border</code> output to <code>input2</code>.

<li>
Insert a <code>Fit Range</code> node between the <code>Celular Noise</code> and the <code>Add</code>:

<ul>
<li>
Reduce the <code>Destination Max</code> to see the affect in the Viewport.

<li>
There some issues with the surface - let's go back up to the SOP level:

<ul>
<li>
on the <code>VDB from Polygons</code> node activate the <code>Fill Interior</code> checkbox.

</ul>
<li>
Now tweak the <code>Destination Max</code> again.

</ul>
</ul>
<li>
At the SOP level:

<ul>
<li>
Drop a <code>Convert VDB</code> node:

<ul>
<li>
Set <code>Convert To</code> to <code>Polygons</code> on the dropdown menu.

</ul>
<li>
Now we can assess what happens when we tweak things like the <code>Fit Range</code> node settings.

<li>
One other thing to do on the <code>VDB from Polygons</code> node:

<ul>
<li>
Adjust the <code>Exterior Band Voxels</code> (to increase the number of voxels that will pick up the surface expansion).

<li>
Switch on <code>Use World Space Units for Narrow Band</code> too, so that the exterior voxel tweaks are independent of voxel size.

<li>
This should fix holes that might appear on the extremities due to zero voxels to receive values.

</ul>
</ul>
<li>
For fun, you can dig back into the <code>Celular Noise</code> section, and instead of the <code>border</code> output, try the others (this entails re-wiring, not parameter changes):

<ul>
<li>
<code>border</code>

<li>
<code>dist1</code>

<li>
<code>dist2</code>

<li>
<code>center</code>

<li>
<code>id</code>

</ul>
<li>
Another thing to try:

<ul>
<li>
Instead of the <code>Celular Noise</code> node, try a <code>Tiled Hexagons</code> node (from the <code>P</code> of the INPUT)

<li>
Add to this a <code>Random</code> node, and plug the <code>id</code> from the <code>Tiled Hexagons</code> into its <code>pos</code> input

<li>
Then substitute these nodes into the <code>Fit Range</code> <code>val</code> input (instead of the <code>Celular Noies</code> node that was there)

</ul>
</ul>
<p>
The next thing to try is to consider the <code>P</code> output from the INPUT node. This will be a Vector data type, so we could:
</p>
<ul>
<li>
Add a <code>Turbulent Noise</code> node set to <code>3D Noise</code> (vector) between the INPUT and the <code>Tiled Hexagons</code> node:

<ul>
<li>
This will start to give a structures but an organic appearance.

</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-SDF VOP Examples-Thought exercise"><h3 id="Thought exercise" class="header"><a href="#Voxyde - Intro to Houdini Volumes-SDF VOP Examples-Thought exercise">Thought exercise</a></h3></div>

<p>
Now imagine these ideas on a flat surface rather than a sphere - this is a great way to create cracked and distressed surfaces.
</p>

<p>
Let's add some more to the network above:
</p>
<ul>
<li>
Add a <code>Voronoi Noise</code> as an option:

<ul>
<li>
Take from the <code>Add</code> sum output and plug into the <code>pos</code> input,

<li>
Then, plug from the <code>seed</code> to the <code>pos</code> of the <code>Random</code> node.

<li>
Increase the <code>Frequency</code> to see the effect.

</ul>
<li>
The tutorial duplicates the <code>Random</code> and <code>Fit Range</code> nodes, and hooks them back up the <code>Tiled Hexagon</code>

<li>
And adds the as another input in the <code>Add</code> node.

</ul>
<div id="Voxyde - Intro to Houdini Volumes-SDF VOP Examples-Simple Rocks"><h3 id="Simple Rocks" class="header"><a href="#Voxyde - Intro to Houdini Volumes-SDF VOP Examples-Simple Rocks">Simple Rocks</a></h3></div>

<p>
Using the last Demo example as a basis:
</p>
<ul>
<li>
delete everything between the <code>Bind</code> nodes in the <code>Volume VOP</code> except the <code>Add</code>:

<ul>
<li>
From the INPUT <code>P</code> add a <code>Worely Noise</code> node

<li>
Add a <code>Fit Range</code> to <code>dist1</code> to <code>val</code>

<li>
Connect the <code>shift</code> to the <code>Add</code> node's <code>input2</code>

<li>
On the <code>Worely Nose</code>:

<ul>
<li>
Decrease the <code>Frequency</code> to 0.4

<li>
Metric to <code>Euclidean</code>

</ul>
<li>
On the <code>Fit Range</code>:

<ul>
<li>
<code>Source Min</code> to 0.45

<li>
<code>Source Max</code> to 0

<li>
<code>Destination Min</code> to 0

<li>
<code>Destinatino Max</code> to 0.35

</ul>
<li>
To dial it up a bit:

<ul>
<li>
Between the INPUT's <code>P</code> and the <code>Worely Noise</code> node:

<li>
Drop an <code>Add</code> node

<ul>
<li>
Add a <code>Turbulent Noise</code> forked from the <code>P</code> output of the INPUT:

<li>
Set to <code>3D Noise</code>

<li>
Set <code>Noise Type</code> to <code>Sparse Convolution Noise</code>:

<ul>
<li>
<code>Frequency</code> 1,1,1

<li>
<code>Amplitude</code> to 0.35

<ul>
<li>
Try messing with the <code>Amplitude</code> when complete to see the results.

</ul>
<li>
<code>Roughness</code> to 0.5

</ul>
<li>
Plug the <code>noise</code> output as <code>input2</code> in the <code>Add</code>

</ul>
<li>
Back on the <code>Worley Noise</code> node:

<ul>
<li>
Change the <code>Offet</code> field to see numerous variations of 'rocks'

</ul>
</ul>
</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-SDF VOP Examples-Another example"><h3 id="Another example" class="header"><a href="#Voxyde - Intro to Houdini Volumes-SDF VOP Examples-Another example">Another example</a></h3></div>

<p>
Let's try another example. This time use an axis gradient to 'cut off' or slice the volume/geometry.
</p>

<p>
Start again with the <code>Rubber Toy</code> inside a geometry container.
</p>

<p>
We need to use the <code>VDB from Polygons</code> node from the last exercise (duplicate?):
</p>
<ul>
<li>
Adjust the <code>Voxel Size</code> to 0.01

<li>
Check on <code>Distance VDB</code> set to <code>surface</code>

<li>
Check the <code>Fill Interior</code> box.

</ul>
<p>
We need a <code>Volume VOP</code> too - and if we duplicate the one from the last exercise:
</p>
<ul>
<li>
Delete all except the INPUT and the bind nodes.

<li>
If you make your own or new <code>Bind</code> nodes, make sure to set the <code>Name</code> field to <code>surface</code>

</ul>
<p>
Now we can begin inside the <code>Volume VOP</code>:
</p>
<ul>
<li>
From the <code>P</code> output of the INPUT:

<ul>
<li>
Add a <code>Relative to Bounding Box</code> node

<li>
Add a <code>Vector to Float</code>:

<ul>
<li>
Plug the <code>fval3</code> (z-axis) into a <code>Compare</code> node's <code>input1</code>:

<ul>
<li>
Set the <code>Test</code> to <code>Greater Than</code>

</ul>
</ul>
<li>
Now create and <code>Add</code> between the two <code>Bind</code> nodes:

<ul>
<li>
<code>input1</code> from the <code>Bind</code> (in)

<li>
<code>input2</code> takes the <code>bool</code> from the <code>Compare</code>

</ul>
</ul>
<li>
Sliding the <code>Compare to Float</code> parameter up and down should result in the volume being chopped along the bounding box.

</ul>
<p>
Adding noise:
</p>
<ul>
<li>
Fork a <code>Turbulent Noise</code> from the <code>P</code> parameter (into its <code>pos</code> input):

<ul>
<li>
Switch the <code>Signature</code> to <code>3D Noise</code>

<li>
Set <code>Noise Type</code> to <code>Simplex Noise</code>

</ul>
<li>
Now add this into an <code>Add</code> node before the <code>Relative to Bounding Box</code> node.

</ul>
<p>
Convert this to geometry to see the result.
</p>
<ul>
<li>
At the SOP level:

<ul>
<li>
Add a <code>Convert VDB</code> after the <code>Volume VDB</code>:

<ul>
<li>
<code>Convert to Polygons</code>

</ul>
</ul>
<li>
Jump back into the <code>Volume VOP</code> to push the <code>Compare to Float</code> values around on the <code>Compare</code> node, and see the effect.

<li>
Observation: Back on the <code>VDB from Polygons</code>, adjusting the <code>Exterior Band</code> will affect the size of the bounding box, so alter the cut off point (since it's the proportion of the bounding box axis). I had to use a value of <code>6</code> to prevent the nose being chomped at a compare value of 1.

</ul>
<div id="Voxyde - Intro to Houdini Volumes-SDF VOP Examples-YouTube Comments Question on this step:"><h3 id="YouTube Comments Question on this step:" class="header"><a href="#Voxyde - Intro to Houdini Volumes-SDF VOP Examples-YouTube Comments Question on this step:">YouTube Comments Question on this step:</a></h3></div>

<p>
@williamsli3745<br>
3 months ago
At 1:16:29,  [T]the "add" Node is order-sensitive?  If "compare bool" go[es into] input1, [the] view port won't show any thing.  3+4 =4+3?  Am I missing som[e]thing?
</p>

<div id="Voxyde - Intro to Houdini Volumes-SDF VOP Examples-YouTube Comments Question on this step:-Answer:"><h4 id="Answer:" class="header"><a href="#Voxyde - Intro to Houdini Volumes-SDF VOP Examples-YouTube Comments Question on this step:-Answer:">Answer:</a></h4></div>

<p>
@rootytuners<br>
The solution to making the 'Add' node input-order-agnostic in this case, is to add an 'Integer to Float' node after the 'Compare' node.
</p>

<p>
Possible Explanation:
The value from the 'Compare' node is a Boolean value (zero or one - integer at best).
The 'surface' attribute from the VDB is a float value.
</p>

<p>
Therefore:
If you put the Bool result in 'input 1', the 'Add' node probably computes the sum with integer math - no decimals or fractions.
If the 'surface' value is put into 'input 1' then the 'Add' treats the calculation as float math (allowing for fractional results).
With integer constrained math:
int(0.2) + int(0.7) = 0
int(1.2) + int(0.7) = 1
</p>

<p>
The 'Integer to Float' insertion will force 'float math' regardless of order.
</p>

<div id="Voxyde - Intro to Houdini Volumes-Velocity Field"><h2 id="Velocity Field" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Velocity Field">Velocity Field</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=4724s">Velocity Field - YouTube</a>
<table>
<tr>
<td>
These vectors can be used to drive a smoke or particles simulation.
</td>
</tr>
</table>

</ul>
<p>
Voxels for Volumes have contained just scalar or 'float' values to define their density up till now in the tutorial.
</p>

<p>
However, to have motion in a volume, we need to specify the motion vectors. So, the voxels will need some reference to vector values.
</p>

<p>
<span id="Voxyde - Intro to Houdini Volumes-Velocity Field-NOTE"></span><strong id="NOTE">NOTE</strong>: These vector values in Volumes are sometimes referred to as <code>Velocity Fields</code>.
</p>

<p>
To use vector values, we'll need to use the <code>Fog VDB</code> type it seems. A schematic in the tutorial shows the levels of choice to get to volumes with vectors (for color, vector or whatever needs to be stored in a vector format). See this in the diagram below.
</p>

<p>
This is a Decision Tree to get to the volumes with Vectors (motion, color etc.):
</p>
<pre>
                    ┌────────┐
                    │ VOLUME │
                    └────┬───┘
                         │
              ┌──────────┴─────────┐
           ┌──┴──┐              ┌──┴──┐
           │ FOG │              │ SDF │
           └──┬──┘              └─────┘
       ┌──────┴─────┐
       │            │
   ┌───┴───┐   ┌────┴───┐
   │ FLOAT │   │ VECTOR │
   └───────┘   └───┬────┘
                   │
              ┌────┴──────┐
              │           │
          ┌───┴───┐  ┌────┴───┐
          │ COLOR │  │VELOCITY│
          └───────┘  └────────┘
           [R,G,B]    [x,y,z]
</pre>

<p>
Both <code>Distance VDB</code> and <code>Fog VDB</code> types can store floats, but only <code>Fog VDB</code> volumes can store vectors.
</p>



<div id="Voxyde - Intro to Houdini Volumes-Velocity Field-How not to Create a Volume which contains a Vector Field"><h3 id="How not to Create a Volume which contains a Vector Field" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Velocity Field-How not to Create a Volume which contains a Vector Field">How not to Create a Volume which contains a Vector Field</a></h3></div>

<table>
<tr>
<td>
The preview of the volume does not function on MacOS. The bounding boxes should be the same however, and the velocity trails seem to work.
</td>
</tr>
</table>

<p>
As a "<em>We don't do it this way</em>" example, the following was shown.
Created a <code>Rubber Toy</code> node inside a geometry container (SOP level).
</p>
<ul>
<li>
In the tutorial, the <code>VDB from Polygons</code> node is connected, but it's explained that even if we check the <code>Fog VDB</code> option, there's nothing we can set to get the vector fields.

</ul>
<div id="Voxyde - Intro to Houdini Volumes-Velocity Field-Demo - setup"><h3 id="Demo - setup" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Velocity Field-Demo - setup">Demo - setup</a></h3></div>

<ul>
<li>
As an alternative to the 'VDB from Polygons', the <code>VDB</code> node is shown:

<ul>
<li>
This offers the <code>Name</code> field (often set as <code>vel</code> for our purposes)

<li>
The <code>Class</code> field has a dropdown menu, with:

<ul>
<li>
<code>Other</code>

<li>
<code>Fog Volume</code> (This is the one we need for a vector field.)

<li>
<code>Level Set</code>

<li>
<code>Staggered Vector Field</code>

</ul>
<li>
The <code>Type</code> is another dropdown:

<ul>
<li>
<code>Float</code>

<li>
<code>Integer</code>

<li>
<code>Bool</code>

<li>
<code>Vector Float</code> (This is the one we need for a vector field.)

<li>
<code>Vector Integer</code>

</ul>
<li>
The <code>Vector type</code> is yet another dropdown:

<ul>
<li>
<code>Tuple/Color/UVW</code> (This would be for our color options)

<li>
<code>Gradient/Normal</code>

<li>
<code>Unit Normal</code>

<li>
<code>Displacement/Velocity/Acceleration</code> (This is the one we need for our vector field.)

<li>
<code>Position</code>

</ul>
<li>
For <code>Background Value</code>, we can add an initial vector of <code>1,0,0</code>

<li>
<code>Voxel Size</code> to 0.03

</ul>
</ul>
<p>
The <code>VDB</code> node in isolation doesn't produce anything visible - it's an empty VDB container, and we set the attribute and types with it.
</p>

<p>
Next, to actually use it we need one of two activation nodes:
</p>
<ul>
<li>
<code>VDB Activate</code>:

<ul>
<li>
For <code>Fog VDB</code> (This is the one we need for our vector field.)

</ul>
<li>
<code>VDB Activate SDF</code>:

<ul>
<li>
for <code>Distance VDB</code> (<code>SDF</code>)

</ul>
</ul>
<p>
The <code>VDB Activate</code> is attached to the <code>VDB</code> node.
</p>

<div id="Voxyde - Intro to Houdini Volumes-Velocity Field-Position mode"><h3 id="Position mode" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Velocity Field-Position mode">Position mode</a></h3></div>
 
<ul>
<li>
We are shown the <code>Position</code> tab/radio button:

<ul>
<li>
Here it's shown that there's a <code>Center</code> trio of fields for position, but we aren't going to use this option.

<li>
The <code>Size</code> is boosted to make the Volume appear in the Viewport (Does not work in Apple Silicon world - nothing shows on MacOS.)

</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Velocity Field-Reference Geometry Mode"><h3 id="Reference Geometry Mode" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Velocity Field-Reference Geometry Mode">Reference Geometry Mode</a></h3></div>

<ul>
<li>
Now, create a <code>Box</code> node and connect to the second input of the <code>VDB Activate</code> node.

<li>
Back on the <code>VDB Activate</code> node's parameters:

<ul>
<li>
Switch 'On' the <code>Reference</code> tab/radio button:

<ul>
<li>
Now the node grabs the bounding box from the input geometry - the <code>Box</code> node (or whatever is in its second input)

<li>
Editing the input geometry, perhaps scaling or moving will reflect in the volume in the Viewport.

<li>
If we plug in the <code>Rubber Toy</code> instead of the <code>Box</code> geometry, the result is still a cube of volume from the bounding box of the input geometry.

<li>
This is essential to enable motion beyond the original input surface.

</ul>
</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Velocity Field-Reference Geometry Mode-Expanding the region (not used in demo)"><h4 id="Expanding the region (not used in demo)" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Velocity Field-Reference Geometry Mode-Expanding the region (not used in demo)">Expanding the region (not used in demo)</a></h4></div>
 
<ul>
<li>
If we want to expand the available region (beyond the input bounding box):

<ul>
<li>
Add another <code>VDB Activate</code> node after the first and select the <code>Expand</code> tab/radio button:

<ul>
<li>
This is like the <code>VDB from Polygons</code> node's control for adding voxels:

<ul>
<li>
<code>Expand Voxels</code> is an explicit number of voxels to add (but this is regardless of voxel size)

<li>
<code>Expand Distance</code> which is irrespective of voxel size, and states a distance of expansion.

</ul>
</ul>
<li>
In the demo, this node isn't required and is deleted.

</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Velocity Field-Reference Geometry Mode-Back to the Demo"><h4 id="Back to the Demo" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Velocity Field-Reference Geometry Mode-Back to the Demo">Back to the Demo</a></h4></div>

<ul>
<li>
Switch back to the <code>Box</code> input geometry to the <code>VDB Activate</code>.
<table>
<tr>
<td>
Reminder: the volumes in this section don't show in the Viewport on MacOS.
</td>
</tr>
</table>

</ul>
<p>
It's explained that right now the Viewport shows just a cuboid of volume, not vectors. To achieve vector representation:
</p>
<ul>
<li>
From the <code>Box</code> node (fork, not 'inline'):

<ul>
<li>
Add a <code>Points from Volume</code> node:

<ul>
<li>
Set the <code>Point Separation</code> to 0.3

</ul>
<li>
Add to this a <code>Volume Trail</code> node:

<ul>
<li>
Attach input 2 back to the <code>VDB Activate</code> node

<li>
This should give us a preview of the trail of the points that go in the direction of the <code>velocity</code> on the points

</ul>
</ul>
</ul>
<p>
The network at the SOP level, should look something like this at this point:
</p>
<pre>
  ┌─────┐               ┌─────┐
  │ VDB │               │ Box │
  └───┬─┘               └──┬──┘
      └──┐      ┌──────────┤
         │      │          │
     ┌───┴──────┴─┐        │
     │VDB Activate│        │
     └─────┬──────┘        │
           │               │
           │       ┌───────┴──────────┐
           │       │Points from Volume│
           │       └───────┬──────────┘
           │               │
           │  ┌────────────┘
           └──┼────────┐
              │        │
            ┌─┴────────┴─┐
            │Volume Trail│
            └────────────┘
</pre>


<div id="Voxyde - Intro to Houdini Volumes-Velocity Field VOP Examples"><h2 id="Velocity Field VOP Examples" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Velocity Field VOP Examples">Velocity Field VOP Examples</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=5400s">Velocity Field VOP Examples - YouTube</a>

</ul>
<p>
Next we will see how to use a <code>Volume VOP</code> to manipulate our <code>Velocity Fields</code>.
</p>

<ul>
<li>
First, to organize a bit more, add a <code>Null</code> node below the <code>VDB Activate</code> node:

<ul>
<li>
Rename to <code>vel_field</code>

</ul>
<li>
ABOVE this null, add a <code>Volume VOP</code> node, and inside:

<ul>
<li>
We can delete the <code>volumevopoutput1</code> node (it's taking <code>density</code> only)

<li>
We want to manipulate <code>velocity</code>.

<li>
Add a <code>Bind Export</code> node:

<ul>
<li>
Set the <code>Name</code> field to <code>vel</code> for our velocity.

<li>
Set the <code>Type</code> to <code>3 Floats (vector)</code>

</ul>
<li>
Add a <code>Constant</code> node:

<ul>
<li>
Set <code>Constant Type</code> to <code>3 Floats (vector)</code>.

<li>
Plug the output <code>Value</code> into the <code>Bind Exports</code> node's <code>input</code>

<li>
Use the <code>3 Float Default</code> fields to manipulate the vectors.

</ul>
<li>
Let's add noise; add a <code>Turbolent Noise</code> from the <code>P</code> output of the INPUT ('volumevopglobal1') to the <code>pos</code> input:

<ul>
<li>
<code>Signature</code> to <code>3d Noise</code>

<li>
<code>Noise Type</code> to <code>Simplex Noise</code>

</ul>
<li>
Create an <code>Add</code> node between the <code>Constant</code> and the <code>Bind Export</code> (<code>Value</code> to <code>input</code>, <code>sum</code> to <code>input</code>):

<ul>
<li>
Connect the <code>noise</code> output from the <code>Turbolent Noise</code> into the <code>Add</code> node's <code>input2</code>

<li>
Try changing:

<li>
The <code>Amplitude</code> on the <code>Turbolent Noise</code>

<li>
The <code>Frequencey</code>

<li>
The <code>Offset</code> to animate the noise.

</ul>
<li>
Adjust the <code>Point Separation</code> on the <code>Points from Volume</code> node to help see what's going on in the Viewport.

<li>
Also, in the <code>Volume Trail</code> node:

<ul>
<li>
Adjust the <code>Trail Length</code> to help get a better impression of the manipulation results.

</ul>
<li>
<span id="Voxyde - Intro to Houdini Volumes-Velocity Field VOP Examples-NOTE"></span><strong id="NOTE">NOTE</strong>: The <code>Volume Trail</code> only changes the Viewport, and doesn't influence the velocity in any way.

</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Velocity Field VOP Examples-Using the Velocity Field in Practice"><h3 id="Using the Velocity Field in Practice" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Velocity Field VOP Examples-Using the Velocity Field in Practice">Using the Velocity Field in Practice</a></h3></div>

<p>
To our network so far at the SOP level:
</p>
<ul>
<li>
Template our <code>Volume Train</code> node

<li>
Add a <code>Sphere (polygon)</code>:

<ul>
<li>
<code>Uniform Scale</code> to 0.5

<li>
<code>Center</code> to -1.7, 0, 0.6o

</ul>
</ul>
<p>
The particles have to be in the <code>Velocity Field</code> to be affected.
</p>

<ul>
<li>
After the <code>Sphere</code> add a <code>POP Network</code>:

<ul>
<li>
Inside:

<ul>
<li>
We'll see particles spawning on the <code>POP Network</code> if we set it to <code>render</code> and press <code>Play</code>

<li>
After the <code>POP Source</code> node (probably named, 'source_first_input'):

<ul>
<li>
Add a <code>POP Advect by Volumes</code> node:

<ul>
<li>
In the <code>SOP</code> field:

<ul>
<li>
Here you can either navigate to the null or:

<ul>
<li>
Go up a level, select the <code>vel_field</code> null and 'copy' it to get the path

</ul>
<li>
Paste the path into the <code>SOP</code> field (back in the <code>POP Network</code>, on the <code>POP Advect by Volumes</code> node.

</ul>
<li>
Set the <code>Advection Type</code> to <code>Update Velocity</code>

</ul>
</ul>
</ul>
</ul>
</ul>
<p>
Now if we reset to frame '1' and play with the <code>POP Network</code> set to 'render', we should see the particles travel off along the <code>Velocity Field</code> vectors.
</p>

<div id="Voxyde - Intro to Houdini Volumes-Velocity Field VOP Examples-Particles sliding along boundary of volume"><h3 id="Particles sliding along boundary of volume" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Velocity Field VOP Examples-Particles sliding along boundary of volume">Particles sliding along boundary of volume</a></h3></div>

<p>
For now, if the particles escape the volume, and they just slide along the volume boundary, let's just do a quick fix by changing the vector on the <code>Constant</code> node so it's pretty much along the <code>x</code> axis:
</p>
<ul>
<li>
<code>3 Floats (vector)</code> fields to 0.7, 0, 0

<li>
Now they will just have a straight vector direction when they leave the volume boundary (maintaining the last velocity they had when they left the volume).

</ul>
<div id="Voxyde - Intro to Houdini Volumes-Velocity Field VOP Examples-To animate the effect"><h3 id="To animate the effect" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Velocity Field VOP Examples-To animate the effect">To animate the effect</a></h3></div>

<p>
To animate the <code>Velocity Field</code>, we can jump into the <code>Volume VOP</code> and promote all the parameters of the <code>Turbolent Noise</code>:
</p>
<ul>
<li>
Select the <code>Turbolent Noise</code> node, and <code>RMB</code> and choose <code>VEX/VOP Options</code> &gt; <code>Create Input Parameters</code>

<li>
Now we can keyframe or add expressions to drive the animation:

<ul>
<li>
On the <code>Offset</code> add the string, <code>\(T</code> or <code>\)T*3</code> for a faster motion.

</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Velocity Field VOP Examples-Thinking ahead"><h3 id="Thinking ahead" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Velocity Field VOP Examples-Thinking ahead">Thinking ahead</a></h3></div>

<p>
There are a lot of options for controlling <code>Vector Fields</code>, like using the power of the <code>Volume VOP</code> nodes, geometry and even other volumes.
</p>


<div id="Voxyde - Intro to Houdini Volumes-Custom Velocity Field"><h2 id="Custom Velocity Field" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Custom Velocity Field">Custom Velocity Field</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=5901s">Custom Velocity Field - YouTube</a>

</ul>
<p>
This shows a more practical example with a Custom Velocity Field.
</p>

<div id="Voxyde - Intro to Houdini Volumes-Custom Velocity Field-Demo Based on a Curve"><h3 id="Demo Based on a Curve" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Custom Velocity Field-Demo Based on a Curve">Demo Based on a Curve</a></h3></div>

<p>
Inside the example SOP from the last section:
</p>
<ul>
<li>
Drop a <code>Curve</code> node:

<ul>
<li>
Set the <code>Primitive Type</code> to <code>NURBS Curve</code>:

<ul>
<li>
<code>&lt;space&gt; 2</code> in the Viewport to see the top view (maybe just <code>2</code> on MacOS)

<li>
Set the <code>Curve</code> node to 'render' (<code>R</code>)

<li>
In the Viewport, press <code>&lt;enter&gt;</code> to enter tool:

<ul>
<li>
Draw an 'S' curve spanning -2 to 2

</ul>
<li>
<code>&lt;space&gt; 1</code> in the Viewport to go back to perspective (maybe just <code>1</code> on MacOS)

<li>
<code>F</code> to go into editing mode, and move the points so the curve is more 3 dimensional rather than flat on a plane.

</ul>
</ul>
<li>
This curve doesn't have any usable geometry, since it is a <code>NURBS Curve</code>:

<ul>
<li>
Add a <code>Resample</code> node.

<li>
If you turn on the 'point' visibility icon on the right most panel of the Viewport, you'll see the point along the curve.

</ul>
<li>
Add some thickness to this curve:

<ul>
<li>
Add a <code>Sweep</code> node:

<ul>
<li>
Set the <code>Surface Shape</code> to <code>Round Tube</code>

<li>
Increase the <code>Radius</code> parameter (to 0.45)

<li>
Increase the <code>Columns</code> to 15

<li>
Switch off the point visibility if you want.

</ul>
</ul>
<li>
To create the volume, add a <code>VDB from Polygons</code> node:

<ul>
<li>
Now if we adjust the <code>Voxel Size</code> parameter, we'll see some oddness in the Viewport - very glitchy.

<li>
This is because the geometry isn't 'closed' - it must be closed to convert to volume.

<li>
Back in the <code>Sweep</code> node:

<ul>
<li>
Scroll down to the <code>End Caps</code> section:

<ul>
<li>
Switch <code>End Cap Type</code> to <code>Single Polygon</code>

</ul>
</ul>
<li>
Set the <code>Voxel Size</code> to 0.03 on the <code>VDB from Polygon</code> node.

</ul>
</ul>
<p>
Now, recalling our requirements for an animated volume:
</p>
<ul>
<li>
In the <code>VDB from Polygons</code>:

<ul>
<li>
Set <code>Fog VDB</code> on:

<ul>
<li>
Set the field name to <code>vel</code>

<li>
<span id="Voxyde - Intro to Houdini Volumes-Custom Velocity Field-Demo Based on a Curve-NOTE"></span><strong id="NOTE">NOTE</strong>: When doing 'Pyro' simulations, Houdini looks for <code>vel</code> by default on some nodes.

<ul>
<li>
Sometimes it can look for <code>v</code> too.

</ul>
</ul>
<li>
We can turn off the <code>Distance VDB</code>

<li>
Looking at the <code>i</code> panel of the node, we'll see that currently the <code>Voxels</code> are <code>float</code> type.

<ul>
<li>
We need to convert it to a <code>Vector</code> type:

<ul>
<li>
Add a <code>Convert VDB</code> node:

<ul>
<li>
Set <code>Convert To</code> to <code>VDB</code>

<li>
Now we'll have access to more settings:

<ul>
<li>
Set <code>VDB Type</code> to <code>Vector Float</code>

<li>
There's no clue in the viewport that anything changed, but in the <code>i</code> panel, we'll see <code>vec3s</code> Voxels now.

</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
<p>
Next, we'll add a direction along the curve:
</p>
<ul>
<li>
We'll add a direction as an attribute on the <code>Curve</code>, then use a <code>Volume VOP</code> to 'borrow' the attribute to expand as a volume attribute.

<li>
Fork a <code>PolyFrame</code> node out from the <code>Resample</code> node:

<ul>
<li>
Turn off the <code>Normal Name</code>

<li>
Switch on the <code>Tangent Name</code>:

<ul>
<li>
This will give the tangent direction of each point.

<li>
Change the name tangent name to <code>dir</code>

<li>
Turn on the visualizer after switching on the new <code>dir</code> attribute on the <code>i</code> panel to see the result:

<ul>
<li>
You should see vectors shooting out from each point.

</ul>
</ul>
</ul>
<li>
Now add a <code>Volume VOP</code> from the <code>Convert VDB</code> node:

<ul>
<li>
Connect them into the first input

<li>
To reference it, plug the <code>PolyFrame</code> into the <code>Volume VOP</code> node's second input:

<ul>
<li>
Step inside:

<ul>
<li>
From <code>OPInput2</code> add a <code>Point Cloud Open</code> node:

<ul>
<li>
use the <code>file</code> input on the PcOpen node

</ul>
</ul>
</ul>
</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Custom Velocity Field-Point Cloud Open Reference"><h3 id="Point Cloud Open Reference" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Custom Velocity Field-Point Cloud Open Reference">Point Cloud Open Reference</a></h3></div>
<p>
There is an excellent explanation of what the <code>Point Cloud Open</code> is doing on the tutorial, and this is a link to the section:<br>
</p>
<div id="Voxyde - Intro to Houdini Volumes-Custom Velocity Field-Point Cloud Open Reference-[[https://youtu.be/wR0SDptfygg?si=9a5glBkMoV77vBg_&amp;t=6308|How PcOpen calculates the values from the geometry - YouTube]]"><h4 id="[[https://youtu.be/wR0SDptfygg?si=9a5glBkMoV77vBg_&amp;t=6308|How PcOpen calculates the values from the geometry - YouTube]]" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Custom Velocity Field-Point Cloud Open Reference-[[https://youtu.be/wR0SDptfygg?si=9a5glBkMoV77vBg_&amp;t=6308|How PcOpen calculates the values from the geometry - YouTube]]"><a href="https://youtu.be/wR0SDptfygg?si=9a5glBkMoV77vBg_&amp;t=6308">How PcOpen calculates the values from the geometry - YouTube</a></a></h4></div>

<div id="Voxyde - Intro to Houdini Volumes-Custom Velocity Field-Back to the setup"><h3 id="Back to the setup" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Custom Velocity Field-Back to the setup">Back to the setup</a></h3></div>

<p>
Continuing in the <code>Volume VOP</code>:
</p>
<ul>
<li>
Connect the <code>P</code> from the INPUT to the <code>P</code> on the <code>Point Cloud Open</code> node:

<ul>
<li>
Increase the <code>Search Radius</code> so that each voxel can 'find' the geometry (the curve) to reference from its position:

<ul>
<li>
You might have to preview the <code>Velocity Field</code> to get this in the right ballpark soon.

</ul>
<li>
Reduce the <code>Number of points</code> field (this is how many geometry elements to find and average):

<ul>
<li>
Setting to 5 should give us an accurate enough vector direction for each voxel

</ul>
<li>
The higher the values of these two sliders, the more intense the calculations.

</ul>
<li>
From the <code>handle</code> output of the <code>Point Cloud Open</code>:

<ul>
<li>
Add a <code>Point Cloud Filter</code> node:

<ul>
<li>
By default, the <code>Channel</code> is set to <code>P</code>, but we want <code>dir</code>:

<ul>
<li>
Change the field to <code>dir</code>

</ul>
<li>
The <code>Signature</code> should be set to <code>Vector Channel</code>

</ul>
<li>
Add a <code>Bind Export</code> from the <code>value</code> output:

<ul>
<li>
<code>Name</code> should be set to <code>vel</code> to pump the results into our <code>vel</code> attribute.

<li>
Set the <code>Type</code> to <code>3 Float (vector)</code>

</ul>
</ul>
<li>
We can delete the OUTPUT node (density). (We don't need the <code>volumevopoutput1</code>)

</ul>
<p>
The viewport is showing us a volume preview which isn't much use to us.
</p>
<ul>
<li>
Jump up to the SOP level:

<ul>
<li>
Add a <code>Null</code> after the <code>Volume VOP</code>:

<ul>
<li>
Rename it to <code>vel</code>

</ul>
</ul>
<li>
Now, from the <code>Sweep</code> node, fork and add a <code>Points From Volume</code>:

<ul>
<li>
Set the <code>Point Separation</code> to 0.2

</ul>
<li>
Plug this into a new <code>Volume Trail</code> node (first input):

<li>
Connect the <code>vel</code> null to the <code>Volume Trail</code> node's second input:

<ul>
<li>
Now we can see the <code>Velocity Field</code> visualized in the Viewport.

<li>
Go back to the <code>Point Cloud Open</code> parameters:

<ul>
<li>
Adjust the <code>Search radius</code> and <code>Search radius</code> to see the effect.

<li>
Increase the <code>Search radius</code> enough to capture the geometry data.

</ul>
</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Custom Velocity Field-Combining with the Sphere POP Network for earlier"><h3 id="Combining with the Sphere POP Network for earlier" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Custom Velocity Field-Combining with the Sphere POP Network for earlier">Combining with the Sphere POP Network for earlier</a></h3></div>

<ul>
<li>
Template the <code>Volume Trail</code> and <code>R</code> on the <code>Sphere</code> node to see its location.

<li>
Move the <code>Sphere</code> if necessary to be inside the flow of the <code>Vector Field</code> (preferably at the start end!)

<li>
Adjust the size of the <code>Sphere</code> if needed.

<li>
Now we need to apply the new <code>Velocity Field</code> to the POP Network:

<ul>
<li>
Copy the <code>vel</code> null (to put the path on the clipboard)

<li>
Inside the <code>POP Network</code>:

<ul>
<li>
Go to the <code>POP Advect Volumes</code> node:

<ul>
<li>
In the <code>SOP</code> field, paste the <code>vel</code> null path

</ul>
</ul>
</ul>
</ul>
<p>
If you see the points instantly shoot out he wrong end of the tube:
</p>
<ul>
<li>
Reverse the direction of the <code>Velocity Field</code>:

<ul>
<li>
Inside the <code>Volume VOP</code>:

<ul>
<li>
Add a <code>Negate</code> node between the <code>Point Cloud Filter</code> and the <code>Bind Export</code>:

<ul>
<li>
This multiplies the value by negative one (-1)

</ul>
</ul>
</ul>
</ul>
<p>
The particles should be traveling along the curved <code>Velocity Field</code> at this stage.
</p>

<p>
The particles just stop when they get to the end of the tube:
</p>
<ul>
<li>
This can be fixed to some extent by making the particles 'die off' using <code>Life expectancy</code> in the <code>POP Network</code>.

<li>
Or we can introduce logic to remove the particles when they reach a certain point.

</ul>
<p>
Let's add some noise to the <code>Velocity Field</code>.
</p>
<ul>
<li>
From the <code>P</code> output of the INPUT node:

<ul>
<li>
Add a <code>Vector to Vector 4</code> node:

<ul>
<li>
To add the fourth element, join <code>Time</code> from the INPUT to the <code>fval4</code> input.

</ul>
</ul>
<li>
From the <code>hvec</code> add a <code>Curl Noise</code> node:

<ul>
<li>
Switch the <code>Noise Type</code> to <code>Simplex Noise</code>

</ul>
<li>
Create an <code>Add</code> node, after the <code>Point Cloud Filter</code> (or the <code>Negate</code> if you have one):

<ul>
<li>
Connect the <code>noise</code> output from the <code>Curl Noise</code> to the <code>input2</code> of the <code>Add</code> node.

</ul>
<li>
Promote all the parameters on the <code>Curl Noise</code> (so they can be animated):

<ul>
<li>
Select the node, <code>RMB</code> and choose:

<ul>
<li>
<code>VEX/VOP Options</code> &gt; <code>Create Input Parameters</code>

</ul>
</ul>
<li>
You can preview the <code>Volume Trails</code> node (to see all the vector lines):

<ul>
<li>
Play to see the noise motion.

<li>
The 4th field in the <code>Frequency</code> parameter of the <code>Volume VOP</code> is what controls the speed of noise.

<li>
Maybe set it to 1, 1, 1, 0.1

<li>
Increase the <code>Amplitute</code> (<code>Volume VOP</code>) - maybe 0.3 (to keep the particles within the tube!)

<li>
Try the <code>Offset</code>

</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Custom Velocity Field-Pulling particles to curve"><h3 id="Pulling particles to curve" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Custom Velocity Field-Pulling particles to curve">Pulling particles to curve</a></h3></div>

<p>
The next challenge set by the tutorial is to make the particles more chaotic as they progress, and to be drawn nearer the curve as they travel.
</p>

<ul>
<li>
To draw the particles to the curve, we can use the location/position of the points on the curve

<li>
Back in the <code>Volume VOP</code>, from the <code>Point Cloud Open</code> node:

<ul>
<li>
<code>&lt;alt&gt; LMB</code> drag the <code>Point Could Filter</code> node to duplicate

<li>
Set the <code>Channel</code> field to <code>P</code>

<li>
We can use this location vector to subtract from the particle location to have the vector direction point to the curve.

<li>
Now subtract by dropping a <code>Subract</code> node:

<ul>
<li>
<code>input2</code> will take the <code>P</code> from the INPUT

<li>
<code>input</code><code> will take the </code>P<code> channel from the </code>Point Cloud Filter` node.

<li>
<span id="Voxyde - Intro to Houdini Volumes-Custom Velocity Field-Pulling particles to curve-NOTE"></span><strong id="NOTE">NOTE</strong>: if this is the wrong way (particles being pushed out), use <code>&lt;shift&gt; R</code> to swap the inputs.

<li>
The <code>diff</code> output from the <code>Subtract</code> can be plugged into <code>input3</code> of the later <code>Add</code> node.

<li>
Add a <code>Multiply</code> node between the <code>Subtract</code> and the last <code>Add</code> for scale control:

<ul>
<li>
Promote the <code>input2</code> of the <code>Multiply</code>

<li>
Label it <code>push back</code>

</ul>
<li>
Try adjusting the <code>push back</code> slider while looking at the <code>Volume Trail</code> preview.

</ul>
</ul>
<li>
Now we can use this parameter to help avoid hitting the sides of the tube.

</ul>
<div id="Voxyde - Intro to Houdini Volumes-SDF From Particles"><h2 id="SDF From Particles" class="header"><a href="#Voxyde - Intro to Houdini Volumes-SDF From Particles">SDF From Particles</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=7108s">SDF From Particles - YouTube</a>

</ul>
<p>
Up till now, we've been creating volumes based on geometry, but we can also turn points into volumes.
</p>

<p>
This is applicable for creating fluid from particles for example.
</p>

<p>
In our current setup scene:
</p>
<ul>
<li>
Drop a free-floating (not connected to the networks) <code>Add</code> node:

<ul>
<li>
Set to 1 point

<li>
Switch on the point attributes with the checkbox. (The point should appear in the Viewport.)

</ul>
<li>
To turn this into a Volume:

<ul>
<li>
Create a <code>VDB from Particles</code> node:

<ul>
<li>
We should see a sphere-volume in the Viewport.

<li>
The parameters are fairly familar from the other volume creating nodes:

<ul>
<li>
<code>Voxel Size</code>

<li>
<code>Distance VDB</code> (We'll use this one for now)

<li>
<code>Fog VDB</code>

<li>
<code>Point Radius Scale</code> determines how large the volume is:

<ul>
<li>
this is a multiplier for a <code>P scale</code> attribute of a point, and if the point doesn't have one, Houdini applies an assumed <code>P scale</code> of 1.

<li>
If there is no <code>P scale</code> a value of 1 on the slider will make a volume sphere of 1 unit.

<li>
As an exercise, you can add an <code>Attribute Create</code> node after the <code>Add</code>:

<ul>
<li>
Set the <code>Name</code> to <code>pscale</code>

<li>
Set the <code>Value</code> (first field for a float) to anything, you'll see it reflected in the <code>VDB from Particles</code> node.

</ul>
</ul>
<li>
<code>Minimum Radius in Voxels</code> checks if the radius can encompass a proportion of the 'next' voxels next to the subject voxel. The value is the proportion.

</ul>
<li>
Keep as <code>Distance VDB</code> for now.

</ul>
</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-SDF From Particles-Applying our VDB from Particles set up to our tube example"><h3 id="Applying our VDB from Particles set up to our tube example" class="header"><a href="#Voxyde - Intro to Houdini Volumes-SDF From Particles-Applying our VDB from Particles set up to our tube example">Applying our VDB from Particles set up to our tube example</a></h3></div>

<ul>
<li>
Set the <code>Attribute Create</code> <code>pscale</code> field to 0.1

<li>
Connect our previously set up (<code>POP Network</code>) in place of the <code>Add</code> (single point) node:

<ul>
<li>
Now, go to the <code>VDB from Particles</code> node's paramters and raise the <code>Point Radius Scale</code> until we start to see something in the Viewport.

</ul>
<li>
You can also reduce the <code>Voxel Size</code> until we see something:

<ul>
<li>
TIP: Put the cursor in the field, and <code>&lt;shift&gt; MM-wheel</code> to reduce gradually

</ul>
<li>
This sudden appearance is due to the <code>Minimum Radius in Voxels</code> business. Refer to the video for a detailed visual explanation.

<ul>
<li>
The <code>Voxel Size</code>, <code>Point Radius Scale</code> and <code>Minimum Radius in Voxels</code> are very much connected as part of the same calculation.

<li>
These almost always need finessing to get a result.

</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-SDF From Particles-Turn these to Polygons"><h3 id="Turn these to Polygons" class="header"><a href="#Voxyde - Intro to Houdini Volumes-SDF From Particles-Turn these to Polygons">Turn these to Polygons</a></h3></div>

<ul>
<li>
Add a <code>VDB Smooth SDF</code> to the <code>VDB from Particles</code> node:

<ul>
<li>
Try the different <code>Operation</code> algorithms:

<ul>
<li>
<code>Mean Value</code>

<li>
<code>Gaussian</code>

<li>
<code>Median Value</code>

<li>
<code>Mean Curvature Flow</code> (the tutorial uses this option)

<li>
<code>Laplacian Flow</code>

</ul>
</ul>
<li>
Add a <code>VDB Reshape SDF</code> node:

<ul>
<li>
The <code>Operation</code> can be set to:

<ul>
<li>
<code>Dilate</code>

<li>
<code>Erode</code> (the tutorial uses this option)

<li>
<code>Open</code>

<li>
<code>Close</code>

</ul>
<li>
Adjust the <code>Offset</code> slide to try to smooth out the shapes.

</ul>
<li>
Add a <code>Convert VDB</code> node

<li>
Try re-ordering the nodes to:

<ul>
<li>
<code>VDB Reshape SDF</code>

<li>
<code>VDB Smooth SDF</code>

</ul>
<li>
Maybe add another <code>VDB Reshape SDF</code> and see what can be achieved.

</ul>
<p>
This was really basic approach to fluids, there's a whole discipline to getting great fluids, but this is the idea.
</p>


<div id="Voxyde - Intro to Houdini Volumes-Volume Rasterize Attributes"><h2 id="Volume Rasterize Attributes" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volume Rasterize Attributes">Volume Rasterize Attributes</a></h2></div>
<ul>
<li>
<a href="https://www.youtube.com/watch?v=wR0SDptfygg&amp;t=7643s">Volume Rasterize Attributes - YouTube</a>

</ul>
<p>
This time, we'll try a <code>Fog VDB</code> base instead of the previous example that was <code>Distance VDB</code> based.
</p>

<ul>
<li>
Switch to the <code>Fog VDB</code> option in the <code>VDB from Particles</code> node:

<ul>
<li>
Keep the attribute name to <code>density</code>

</ul>
<li>
Duplicate (and fork <em>from</em> the 'POP Network') the <code>Attribute Create</code> node.

<li>
Add and connect a <code>Volume Rasterize Attribute</code> node:

<ul>
<li>
This node looks for an attribute and bases the density on that attribute

<li>
Initially, nothing will show. We have to specify which attribute to base density on:

<ul>
<li>
Set the <code>Attributes</code> to <code>density</code> for our example.

<li>
<code>Voxel Size</code> is familiar by now:

<ul>
<li>
We can make ours very small if we want finer smoke

</ul>
<li>
<code>Particle Size</code> is a <code>pscale</code> multiplier for the volume blob size.

<ul>
<li>
If we have smaller <code>Voxel Size</code> we probaby want smaller <code>Particle Size</code> too.

</ul>
<li>
<code>Minimum Filter Size</code> has minimal impact - it can help to fix artifacts occasionally.

</ul>
<li>
There is a <code>Velocity Blur</code> option:

<ul>
<li>
<code>Shutter</code> sets the shutter duration fraction (1 being open for the full frame)

<li>
<code>Shutter Offset</code> is the direction of the blur (-1 is good)

<li>
<code>Blur Samples</code> is a quality setting (more is better)

</ul>
<li>
To get a better smoke effect, we probably want more particles to start with:

<ul>
<li>
In the <code>POP Network</code>, go to the <code>POP Source</code> node:

<ul>
<li>
<code>Birth</code> tab &gt; increase the <code>Const. Birth Rate</code> to 50,000

</ul>
</ul>
<li>
On the <code>POP Network</code> &gt; <code>Simulation</code> tab, click on <code>Reset Simulation</code>

</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Volume Rasterize Attributes-Varying the size of each particle"><h3 id="Varying the size of each particle" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volume Rasterize Attributes-Varying the size of each particle">Varying the size of each particle</a></h3></div>

<ul>
<li>
Between the <code>Attribute Create</code> and the <code>Volume Rasterize</code> node:

<ul>
<li>
Add an <code>Attribute Noise Float</code>:

<ul>
<li>
<code>Attribute Names</code> to <code>Float</code> and <code>density</code>:

<ul>
<li>
<span id="Voxyde - Intro to Houdini Volumes-Volume Rasterize Attributes-Varying the size of each particle-NOTE"></span><strong id="NOTE">NOTE</strong>: you could add the <code>v</code> attribute to create a velocity field too.

</ul>
<li>
In the <code>Noise Value</code> section:

<ul>
<li>
<code>Range Values</code> to <code>Zero Centered</code>

</ul>
<li>
If you click on the litte location pin style icon after the <code>Attribute Names</code> field, you can visualize the density:

<ul>
<li>
The red areas will be full density

<li>
Purlple areas will be minimal (or zero) density

</ul>
</ul>
</ul>
</ul>
<div id="Voxyde - Intro to Houdini Volumes-Volume Rasterize Attributes-Fusing points to make an efficent Velocity Field"><h3 id="Fusing points to make an efficent Velocity Field" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volume Rasterize Attributes-Fusing points to make an efficent Velocity Field">Fusing points to make an efficent Velocity Field</a></h3></div>

<p>
We can organize and summarize the Velocity attribute (from the <code>v</code> attribute) and store as another attribute:
</p>
<ul>
<li>
Fork from the <code>POP Network</code> and add a <code>Fuse</code> node:

<ul>
<li>
Increase the <code>Snap Distance</code> slider to start to merge or average together more points.

</ul>
<li>
From the <code>Fuse</code>, add a <code>Volume Trail</code> node:

<ul>
<li>
Connect the <code>Volume Rasterize</code> node into the 2nd input.

<li>
Specify the Velocity by puttin <code>v</code> into the <code>Velocity Volumes</code> field.

<li>
This will show us the <code>Velocity Field</code>

</ul>
<li>
Now our volume has <code>density</code> for shading and <code>v</code> for a <code>Velocity Field</code>

</ul>
<div id="Voxyde - Intro to Houdini Volumes-Volume Rasterize Attributes-Conclusion"><h3 id="Conclusion" class="header"><a href="#Voxyde - Intro to Houdini Volumes-Volume Rasterize Attributes-Conclusion">Conclusion</a></h3></div>

<p>
Wheter you want to use geometry or points to create volumes depends on the task and is up to you. A lot of tutorials use the points method, but you can also use the earlier examples above to do the same things.
</p>


<p>
<br>
<br>
<a href="Houdini.html">Houdini</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
