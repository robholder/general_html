<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>houdini_rendering_karma_settings</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="Houdini.html">Houdini</a>
</p>


<div id="Karma"><h1 id="Karma" class="header"><a href="#Karma">Karma</a></h1></div>

<div id="Karma-Link to YouTube Video:"><h2 id="Link to YouTube Video:" class="header"><a href="#Karma-Link to YouTube Video:">Link to YouTube Video:</a></h2></div>
<div id="Karma-Link to YouTube Video:-[[https://youtu.be/dgK5i0cex1Q?si=6RjUKFKVkkHwfvZ2|Rendering with Karma in Houdini (Demystifying Render Settings)]]"><h4 id="[[https://youtu.be/dgK5i0cex1Q?si=6RjUKFKVkkHwfvZ2|Rendering with Karma in Houdini (Demystifying Render Settings)]]" class="header"><a href="#Karma-Link to YouTube Video:-[[https://youtu.be/dgK5i0cex1Q?si=6RjUKFKVkkHwfvZ2|Rendering with Karma in Houdini (Demystifying Render Settings)]]"><a href="https://youtu.be/dgK5i0cex1Q?si=6RjUKFKVkkHwfvZ2">Rendering with Karma in Houdini (Demystifying Render Settings)</a></a></h4></div>


<table>
<thead>
<tr>
<th>
Timecode
</th>
<th>
Chapter
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=10s">00:10</a>
</td>
<td>
Intro
</td>
</tr>
<tr>
<td>
<a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=28s">00:28</a>
</td>
<td>
Overview
</td>
</tr>
<tr>
<td>
<a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=396s">06:36</a>
</td>
<td>
Pixel Samples
</td>
</tr>
<tr>
<td>
<a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1090s">18:10</a>
</td>
<td>
Min/Max Ray
</td>
</tr>
<tr>
<td>
<a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1768s">29:28</a>
</td>
<td>
Oracle and Light Quality
</td>
</tr>
<tr>
<td>
<a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=2194s">36:34</a>
</td>
<td>
Indirect Lighting Guide
</td>
</tr>
<tr>
<td>
<a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=2348s">39:08</a>
</td>
<td>
GI Bounce
</td>
</tr>
<tr>
<td>
<a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=2820s">47:00</a>
</td>
<td>
2K vs 4K Workflows
</td>
</tr>
<tr>
<td>
<a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=3469s">57:49</a>
</td>
<td>
Offscreen Quality
</td>
</tr>
<tr>
<td>
<a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=3581s">59:41</a>
</td>
<td>
Animated Sequence
</td>
</tr>
<tr>
<td>
<a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=3832s">01:03:52</a>
</td>
<td>
Various Topics
</td>
</tr>
<tr>
<td>
<a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=4433s">01:13:53</a>
</td>
<td>
Recap
</td>
</tr>
</tbody>
</table>



<div id="Karma-Link to YouTube Video:-TIP"><h3 id="TIP" class="header"><a href="#Karma-Link to YouTube Video:-TIP">TIP</a></h3></div>
<p>
<span id="Karma-Link to YouTube Video:-TIP-TIP"></span><strong id="TIP">TIP</strong>: Get a clean <code>Direct</code> light pass first, then introduce <code>Indirect</code> (bounce, GI etc.):
</p>
<ul>
<li>
A noise <code>Direct</code> lighting pass will ALWAYS give noisy <code>Indirect</code> light passes.

</ul>
<div id="Karma-Link to YouTube Video:-Data Window NDC"><h3 id="Data Window NDC" class="header"><a href="#Karma-Link to YouTube Video:-Data Window NDC">Data Window NDC</a></h3></div>
<div id="Karma-Link to YouTube Video:-Data Window NDC-[[https://www.sidefx.com/docs/houdini/nodes/lop/rendersettings.html|SideFX - Karma Render Settings - Data Window NDC]]"><h4 id="[[https://www.sidefx.com/docs/houdini/nodes/lop/rendersettings.html|SideFX - Karma Render Settings - Data Window NDC]]" class="header"><a href="#Karma-Link to YouTube Video:-Data Window NDC-[[https://www.sidefx.com/docs/houdini/nodes/lop/rendersettings.html|SideFX - Karma Render Settings - Data Window NDC]]"><a href="https://www.sidefx.com/docs/houdini/nodes/lop/rendersettings.html">SideFX - Karma Render Settings - Data Window NDC</a></a></h4></div>

<p>
Directs the renderer to only render within this window of the entire output image.
</p>

<p>
You specify the window as minX, minY, maxX, maxY, where each number is a normalized value from 0 to 1. 0, 0 is the bottom left, 1, 1 is the top right, 0.5, 0.5 is the center, and so on. The default is 0, 0, 1, 1 (no cropping).
</p>

<p>
<span id="Karma-Link to YouTube Video:-Data Window NDC-[[https://www.sidefx.com/docs/houdini/nodes/lop/rendersettings.html|SideFX - Karma Render Settings - Data Window NDC]]-Note that you can use negative values. For example, -0.1, -0.1, 1.1, 1.1 will give you 10% overscan on each side."></span><strong id="Note that you can use negative values. For example, -0.1, -0.1, 1.1, 1.1 will give you 10% overscan on each side.">Note that you can use negative values. For example, -0.1, -0.1, 1.1, 1.1 will give you 10% overscan on each side.</strong>
</p>

<p>
You can use this window to temporarily crop the render to a smaller region, for testing purposes.
</p>

<p>
Pixels are only rendered if they are fully inside the window.
</p>

<p>
The normalized coordinates map to the image after any adjustments by the Aspect ratio conform policy.
</p>


<div id="Karma-Link to YouTube Video:-00:10 Intro"><h3 id="00:10 Intro" class="header"><a href="#Karma-Link to YouTube Video:-00:10 Intro">00:10 Intro</a></h3></div>
<div id="Karma-Link to YouTube Video:-00:28 Overview"><h3 id="00:28 Overview" class="header"><a href="#Karma-Link to YouTube Video:-00:28 Overview">00:28 Overview</a></h3></div>

<div id="Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=396s|06:36 Pixel Samples]]"><h3 id="[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=396s|06:36 Pixel Samples]]" class="header"><a href="#Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=396s|06:36 Pixel Samples]]"><a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=396s">06:36 Pixel Samples</a></a></h3></div>

<ul>
<li>
Pixel Samples is the most important setting

<li>
<code>Advanced</code> tab:

<ul>
<li>
<code>Sampling</code> tab:

<ul>
<li>
<code>Convergence Mode</code> is set to Variance in the test:

<ul>
<li>
Can't find these two ray settings in Houdini 20:

<ul>
<li>
<code>Min Ray</code> to 3 at a minimum

<li>
<code>Max Ray Samples</code> set at 9

</ul>
</ul>
</ul>
</ul>
<li>
<code>Rendering</code> tab:

<ul>
<li>
<code>Sampling</code> tab:

<ul>
<li>
These are probably the equivalent to the <code>Min Ray</code> and <code>Max Ray</code> above in Houdini 20:

<ul>
<li>
<code>Min Secondary Samples</code> to <code>3</code> at a minimum

<li>
<code>Max Secondary Samples</code> set at <code>9</code>

</ul>
<li>
<code>Light Sampling Mode</code> was set to <code>Light Tree</code> (with claims it's more efficient memory and processing wise)

<li>
<code>Light Sampling Quality</code> is a multiplier of light samples.

<ul>
<li>
You can also select individual lights, and go to the <code>Karma</code> tab in the parameters:

<ul>
<li>
You can activate <code>Sampling Quality</code> and boost the samples, but <code>Light Sampling Quality</code> will be a multiplier.

<ul>
<li>
Try to do cube numbers (like 3, 6, 9, 12, 15, 18) apparently.

<li>
Spoiler - <code>1</code> is as good as any!

</ul>
</ul>
<li>
If you have a lot of reflections and/or refractions, <code>Distributed</code> may be better (so you can dial down 'diffuse')

</ul>
</ul>
<li>
<code>Limits</code> tab:

<ul>
<li>
<code>Diffuse</code>

</ul>
</ul>
</ul>
<div id="Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=396s|06:36 Pixel Samples]]-Results"><h4 id="Results" class="header"><a href="#Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=396s|06:36 Pixel Samples]]-Results">Results</a></h4></div>

<ul>
<li>
Doubling the <code>Pixel Samples</code> doubles the time:

<ul>
<li>
<code>Geometric Sequence</code> is the norm:

<ul>
<li>
2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096 (8192 if you need to go this high!!!)

</ul>
</ul>
<li>
<code>64</code> to <code>128</code> seems to be enough for a clean render (and doesn't get much better in the Karma render tests:

<ul>
<li>
<code>64</code> is probably good enough with a <code>denoise</code> of some sort (post render or whatever).

</ul>
</ul>
<div id="Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1090s|18:10 Min/Max Ray]]"><h3 id="[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1090s|18:10 Min/Max Ray]]" class="header"><a href="#Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1090s|18:10 Min/Max Ray]]"><a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1090s">18:10 Min/Max Ray</a></a></h3></div>

<ul>
<li>
<code>Min Secondary Samples</code> ('Min Ray' in the video) doesn't seem to get any better above 1

<li>
<code>Max Secondary Samples</code> ('Max Ray' in the video)

<ul>
<li>
The memory doesn't go up exponentially (as it does with <code>Pixel Samples</code>

<li>
<code>9</code> is already good (or even 7)

<li>
Over 12 is of no real value

<li>
31 is the max

<li>
<span id="Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1090s|18:10 Min/Max Ray]]-NOTE"></span><strong id="NOTE">NOTE</strong>: <code>Variance Threshold</code> will govern weather the max is reached. If the variance threshold isn't met, the rays will stop anyways.

<li>
Conclusion: <code>Pixel Samples</code> will have a greater influence on cleaning noise.

</ul>
</ul>
<div id="Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1090s|18:10 Min/Max Ray]]-Noise Level"><h4 id="Noise Level" class="header"><a href="#Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1090s|18:10 Min/Max Ray]]-Noise Level">Noise Level</a></h4></div>

<p>
<code>Noise Level</code> is the measure of tolerated variance between pixels.
</p>
<ul>
<li>
<code>Advanced</code> tab:

<ul>
<li>
<code>Secondary Samples</code> tab:

<ul>
<li>
<code>Noise Level</code>

</ul>
</ul>
<li>
Test showed values of <code>0.015</code> down to <code>0.006</code> were where all the difference is seen, but reducing anymore explodes the render times for no benefit in noise reduction.

<li>
The default is <code>0.01</code>

</ul>
<div id="Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1768s|29:28 Oracle and Light Quality]]"><h3 id="[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1768s|29:28 Oracle and Light Quality]]" class="header"><a href="#Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1768s|29:28 Oracle and Light Quality]]"><a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1768s">29:28 Oracle and Light Quality</a></a></h3></div>
<div id="Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1768s|29:28 Oracle and Light Quality]]-Pixel Oracle"><h4 id="Pixel Oracle" class="header"><a href="#Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1768s|29:28 Oracle and Light Quality]]-Pixel Oracle">Pixel Oracle</a></h4></div>
<p>
<code>Pixel Oracle</code> set to <code>Variance</code> gives controls.
</p>

<p>
Given that the values that are default between Houdini 19 (in the video) and Houdini 20 are different, this is of little value:
</p>
<ul>
<li>
Houdini 19:

<ul>
<li>
Square root of the <code>Pixel Sample</code> value (and is an expression to drive the value from the 'Pixel Sample')

</ul>
<li>
Houdini 20:

<ul>
<li>
-1, and a manual slider, not an expression

</ul>
</ul>
<div id="Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1768s|29:28 Oracle and Light Quality]]-Light Quality"><h4 id="Light Quality" class="header"><a href="#Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1768s|29:28 Oracle and Light Quality]]-Light Quality">Light Quality</a></h4></div>

<ul>
<li>
<code>Rendering</code> tab:

<ul>
<li>
<code>Sampling</code> tab:

<li>
<code>Light Quality</code> section:

<ul>
<li>
<code>Light Sampleing Mode</code> to <code>Light Tree</code>:

<ul>
<li>
<code>Light Sampling Quality</code> doesn't seem to have much of an effect; <code>1</code> to <code>3</code> seems acceptable (but 1 was just as good as anything else in the video).

</ul>
</ul>
</ul>
</ul>
<div id="Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1768s|29:28 Oracle and Light Quality]]-Indirect Lighting Guide"><h4 id="Indirect Lighting Guide" class="header"><a href="#Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=1768s|29:28 Oracle and Light Quality]]-Indirect Lighting Guide">Indirect Lighting Guide</a></h4></div>

<p>
<code>Enable Indirect Guiding</code> seems to have been slimmed down in Houdini 20. It's just an On/Off checkbox
</p>

<p>
Apparently, it does a sweep of the scene to see where the best allocation of extra rays should be.
</p>

<div id="Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=2348s|39:08 GI Bounce]]"><h3 id="[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=2348s|39:08 GI Bounce]]" class="header"><a href="#Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=2348s|39:08 GI Bounce]]"><a href="https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=2348s">39:08 GI Bounce</a></a></h3></div>
<ul>
<li>
<code>Rendering</code> tab:

<ul>
<li>
<code>Limits</code> tab:

<ul>
<li>
<code>Diffuse Limit</code>:

<ul>
<li>
This is for light quality and not noise (noise is unaffected).

<li>
A value of <code>3</code> or <code>4</code> seems as good as the author needs:

<ul>
<li>
After 5, there was no difference

</ul>
<li>
It would be better if you could set bounces (<code>Diffuse</code>) per light:

<li>
for sky domes, increasing not much better, but render times goes up with no pay-off

<li>
direct light does benefit from extra bounces, although render times do increase.

</ul>
</ul>
</ul>
</ul>
<div id="Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=2348s|39:08 GI Bounce]]-Russian Roulette"><h4 id="Russian Roulette" class="header"><a href="#Karma-Link to YouTube Video:-[[https://www.youtube.com/watch?v=dgK5i0cex1Q&amp;t=2348s|39:08 GI Bounce]]-Russian Roulette">Russian Roulette</a></h4></div>

<ul>
<li>
<code>Rendering</code> tab:

<ul>
<li>
<code>Limits</code> tab:

<ul>
<li>
<code>Russian Roulette Cut Off Depth</code>:

<ul>
<li>
Reduces the pixel samples at each bounce till it has almost none:

<ul>
<li>
Value of two will have the second bounce get reduced in terms of <code>Pixel Samples</code>, then the third more reduced etc.

</ul>
<li>
Lower numbers result in noisier renders

<li>
Zero will start chopping Pixel Samples rapidly resulting in more noise.

<li>
<code>2</code> or <code>3</code> is a good value.

</ul>
</ul>
</ul>
</ul>
<p>
39:08 GI Bounce<br>
47:00 2K vs 4K Workflows<br>
57:49 Offscreen Quality<br>
59:41 Animated Sequence<br>
1:03:52 Various Topics<br>
1:13:53 Recap<br>
</p>

</body>
</html>
