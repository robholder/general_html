<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>vim_norm_command</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="vim_learning.html">Vim Learning</a>
</p>

<div id="Execute a Normal Mode Command while in Insert"><h2 id="Execute a Normal Mode Command while in Insert" class="header"><a href="#Execute a Normal Mode Command while in Insert">Execute a Normal Mode Command while in Insert</a></h2></div>

<ul>
<li>
<code>&lt;ctrl&gt; o</code> --&gt; (letter O) followed by a Normal Mode Command:

<ul>
<li>
<code>&lt;ctrl&gt; o zz</code> --&gt; Center the cursor position on the screen

<li>
<code>&lt;ctrl&gt; o /dog</code> --&gt; Jump to the next 'dog' while in insert mode.

</ul>
</ul>
<div id="The :norm Command"><h2 id="The :norm Command" class="header"><a href="#The :norm Command">The :norm Command</a></h2></div>

<p>
The <code>:normal</code> (or <code>:norm</code>) command in Vim is another powerful tool. It allows you to execute normal mode commands on a specific range of lines in your file or on all lines matching a pattern.
</p>

<div id="Here's a breakdown:"><h1 id="Here's a breakdown:" class="header"><a href="#Here's a breakdown:">Here's a breakdown:</a></h1></div>

<div id="Here's a breakdown:-Syntax"><h4 id="Syntax" class="header"><a href="#Here's a breakdown:-Syntax">Syntax</a></h4></div>

<ul>
<li>
<code>:norm {commands}</code>

<ul>
<li>
<code>:norm</code> --&gt; Invokes the command to run normal mode operations.

<li>
<code>{commands}</code> --&gt; The sequence of normal mode commands to be executed.

</ul>
</ul>
<div id="Here's a breakdown:-How It Works"><h3 id="How It Works" class="header"><a href="#Here's a breakdown:-How It Works">How It Works</a></h3></div>

<p>
The <code>:norm</code> command effectively "mimics" pressing the keys in normal mode for each line in the specified range or for all matching lines (if used with g or v).
</p>

<div id="Common Usage Patterns"><h1 id="Common Usage Patterns" class="header"><a href="#Common Usage Patterns">Common Usage Patterns</a></h1></div>

<p>
On a Range of Lines:
</p>
<ul>
<li>
<code>:[range]norm {commands}</code> --&gt; [range] specifies the lines to operate on (e.g., 1,10 for lines 1 to 10, % for the whole file, or . for the current line).

<li>
<code>{commands}</code> --&gt; is any valid normal mode key sequence.

</ul>
<p>
With the Global Command (g):
</p>
<ul>
<li>
<code>:g/pattern/norm {commands}</code> --&gt; Executes the normal mode {commands} on every line matching the pattern.

</ul>
<div id="Examples of the :norm Command"><h1 id="Examples of the :norm Command" class="header"><a href="#Examples of the :norm Command">Examples of the :norm Command</a></h1></div>

<div id="Examples of the :norm Command-Indent All Lines (Visual Effect):"><h4 id="Indent All Lines (Visual Effect):" class="header"><a href="#Examples of the :norm Command-Indent All Lines (Visual Effect):">Indent All Lines (Visual Effect):</a></h4></div>

<ul>
<li>
<code>:%norm &gt;&gt;</code> --&gt; Adds an indentation (two spaces by default) to every line in the file.

</ul>
<div id="Examples of the :norm Command-Add Text to the Start of Specific Lines:"><h4 id="Add Text to the Start of Specific Lines:" class="header"><a href="#Examples of the :norm Command-Add Text to the Start of Specific Lines:">Add Text to the Start of Specific Lines:</a></h4></div>

<p>
<code>:g/ERROR/norm I# </code> --&gt; Finds all lines containing the word "ERROR" and prepends a # to the start.
</p>

<div id="Examples of the :norm Command-Capitalize the First Word on Every Line:"><h4 id="Capitalize the First Word on Every Line:" class="header"><a href="#Examples of the :norm Command-Capitalize the First Word on Every Line:">Capitalize the First Word on Every Line:</a></h4></div>
<ul>
<li>
<code>:%norm gUw</code> --&gt; Applies gU (uppercase) to the first word (w) on each line of the file.

</ul>
<div id="Examples of the :norm Command-Remove the Last Character on Every Line:"><h4 id="Remove the Last Character on Every Line:" class="header"><a href="#Examples of the :norm Command-Remove the Last Character on Every Line:">Remove the Last Character on Every Line:</a></h4></div>

<ul>
<li>
<code>:%norm $x</code> --&gt; Moves to the end of the line, and then deletes the last character

</ul>
<p>
Here’s how it works:
</p>

<ul>
<li>
<code>%</code> specifies the entire file as the range.

<li>
<code>norm</code> applies the following commands in normal mode.

<li>
<code>$</code> moves the cursor to the end of the line.

<li>
<code>x</code> deletes the character under the cursor—since the cursor is at the end of the line, this removes the last character.

</ul>
<p>
This will systematically remove the last character from every line in your file.
</p>

<div id="General Syntax with Ranges"><h1 id="General Syntax with Ranges" class="header"><a href="#General Syntax with Ranges">General Syntax with Ranges</a></h1></div>
 
<ul>
<li>
<code>:[range]norm {commands}</code>

<ul>
<li>
<code>[range]</code>: Specifies which lines to apply the normal mode commands to.

<li>
<code>{commands}</code>: The normal mode commands to execute.

</ul>
</ul>
<div id="General Syntax with Ranges-Examples of Ranges"><h2 id="Examples of Ranges" class="header"><a href="#General Syntax with Ranges-Examples of Ranges">Examples of Ranges</a></h2></div>

<ul>
<li>
Specific Lines: <code>1,10</code> (applies to lines 1 through 10).

<li>
Relative Ranges: <code>.,+4</code> (applies from the current line <code>.</code> to <code>4</code> lines below).

<li>
Whole File: <code>%</code> (applies to all lines in the file).

<li>
Marks: <code>'&lt;,'&gt;</code> (applies to a visually selected range).

</ul>
<div id="Example Use Cases"><h1 id="Example Use Cases" class="header"><a href="#Example Use Cases">Example Use Cases</a></h1></div>
 
<div id="Example Use Cases-Capitalize the First Word of Lines 5 to 10"><h4 id="Capitalize the First Word of Lines 5 to 10" class="header"><a href="#Example Use Cases-Capitalize the First Word of Lines 5 to 10">Capitalize the First Word of Lines 5 to 10</a></h4></div>

<ul>
<li>
<code>:5,10norm gUw</code> --&gt; Applies gUw (capitalize the first word) to lines 5 through 10.

</ul>
<div id="Example Use Cases-Indent Every Line in the Current Paragraph"><h4 id="Indent Every Line in the Current Paragraph" class="header"><a href="#Example Use Cases-Indent Every Line in the Current Paragraph">Indent Every Line in the Current Paragraph</a></h4></div>

<ul>
<li>
<code>:'{,'}norm &gt;&gt;</code>

<ul>
<li>
The range <code>'{,'}</code> refers to the visually selected paragraph (use <code>vip</code> in visual mode to select the paragraph).

<li>
The command <code>&gt;&gt;</code> indents each line.

</ul>
</ul>
<div id="Example Use Cases-Remove the Last Character in Lines 2 to 6"><h4 id="Remove the Last Character in Lines 2 to 6" class="header"><a href="#Example Use Cases-Remove the Last Character in Lines 2 to 6">Remove the Last Character in Lines 2 to 6</a></h4></div>

<ul>
<li>
<code>:2,6norm $x</code>

<ul>
<li>
The <code>$</code> moves to the end of the line, and <code>x</code> deletes the character under the cursor.

</ul>
</ul>
<div id="Example Use Cases-Comment Out a Visually Selected Block"><h4 id="Comment Out a Visually Selected Block" class="header"><a href="#Example Use Cases-Comment Out a Visually Selected Block">Comment Out a Visually Selected Block</a></h4></div>

<p>
First, visually select the lines you want to operate on, and then run:
</p>
<ul>
<li>
<code>:'&lt;,'&gt;norm I#</code>

<ul>
<li>
<code>'&lt;,'&gt;</code> refers to the visually selected range.

<li>
<code>I#</code> inserts # at the start of each line in the selection.

</ul>
</ul>
<div id="Example Use Cases-Reformat Lines Matching a Pattern Within a Range"><h4 id="Reformat Lines Matching a Pattern Within a Range" class="header"><a href="#Example Use Cases-Reformat Lines Matching a Pattern Within a Range">Reformat Lines Matching a Pattern Within a Range</a></h4></div>

<p>
Suppose you want to process lines containing "T0D0" but only within the first 20 lines:
</p>
<ul>
<li>
<code>:1,20g/TODO/norm I#</code>

<ul>
<li>
Searches for "T0D0" in lines 1 to 20 and prepends # to those lines.

</ul>
</ul>
<div id="Example Use Cases-Key Takeaway"><h3 id="Key Takeaway" class="header"><a href="#Example Use Cases-Key Takeaway">Key Takeaway</a></h3></div>

<p>
By combining the :norm command with ranges, you gain immense control over which parts of your file are affected by normal mode actions. Whether you're working on a specific block or lines matching a pattern, this technique can save a lot of manual effort.
</p>


<p>
<a href="vim_learning.html">Vim Learning</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
