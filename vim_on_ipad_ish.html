<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>vim_on_ipad_ish</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<div id="iSH"><h1 id="iSH" class="header"><a href="#iSH">iSH</a></h1></div>

<div id="iSH and Alpine Linux on iPad."><h1 id="iSH and Alpine Linux on iPad." class="header"><a href="#iSH and Alpine Linux on iPad.">iSH and Alpine Linux on iPad.</a></h1></div>

<div id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:"><h2 id="Let‚Äôs unpack each part clearly:" class="header"><a href="#iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:">Let‚Äôs unpack each part clearly:</a></h2></div>

<div id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üêö What is ash?"><h3 id="üêö What is ash?" class="header"><a href="#iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üêö What is ash?">üêö What is ash?</a></h3></div>

<p>
<code>ash</code> (Almquist Shell) is a lightweight POSIX-compliant shell.
</p>

<p>
It‚Äôs similar to sh and much smaller than bash.
</p>

<p>
Alpine Linux uses ash by default (via BusyBox) because it‚Äôs fast and minimal.
</p>

<div id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üêö What is ash?-Compared to other shells:"><h4 id="Compared to other shells:" class="header"><a href="#iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üêö What is ash?-Compared to other shells:">Compared to other shells:</a></h4></div>

<ul>
<li>
<span id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üêö What is ash?-Compared to other shells:-bash"></span><strong id="bash">bash</strong>: more features (arrays, advanced scripting).

<li>
<span id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üêö What is ash?-Compared to other shells:-csh/tcsh"></span><strong id="csh/tcsh">csh/tcsh</strong>: different syntax, less common today.

<li>
<span id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üêö What is ash?-Compared to other shells:-ash"></span><strong id="ash">ash</strong>: simple, efficient, good for embedded systems.

</ul>
<p>
üëâ So yes, it‚Äôs a variant of a shell, but closer to sh than to bash.
</p>

<div id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üìÇ File Structure in iSH (Alpine Linux)"><h3 id="üìÇ File Structure in iSH (Alpine Linux)" class="header"><a href="#iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üìÇ File Structure in iSH (Alpine Linux)">üìÇ File Structure in iSH (Alpine Linux)</a></h3></div>

<p>
When you install iSH, you‚Äôre basically running Alpine Linux inside a user-space emulator. The filesystem looks like a standard Linux root:
</p>

<ul>
<li>
<code>/</code> ‚Üí root directory

<li>
<code>/bin</code> ‚Üí basic binaries (like ls, cat, sh)

<li>
<code>/usr/bin</code> ‚Üí user binaries (like vim)

<li>
<code>/etc</code> ‚Üí system configuration files

<li>
<code>/home</code> ‚Üí where user home directories live

<li>
<code>/root</code> ‚Üí root user‚Äôs home directory (you‚Äôll likely be root in iSH)

<li>
<code>/var</code> ‚Üí logs, cache, package state

<li>
<code>/tmp</code> ‚Üí temporary files

</ul>
<div id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üì¶ Where Packages Go"><h3 id="üì¶ Where Packages Go" class="header"><a href="#iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üì¶ Where Packages Go">üì¶ Where Packages Go</a></h3></div>

<p>
When you ran:
</p>

<pre sh>
apk add vim vim-tutor vim-doc vimdiff
</pre>

<ul>
<li>
apk is Alpine‚Äôs package manager.

<li>
Packages are installed under /usr/bin, /usr/share, /etc, etc.

<li>
vim binary ‚Üí /usr/bin/vim

<li>
docs/tutorials ‚Üí /usr/share/vim/

<li>
config defaults ‚Üí /etc/vim/

</ul>
<div id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-‚öôÔ∏è Where to Put .vimrc and Plugins"><h3 id="‚öôÔ∏è Where to Put .vimrc and Plugins" class="header"><a href="#iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-‚öôÔ∏è Where to Put .vimrc and Plugins">‚öôÔ∏è Where to Put .vimrc and Plugins</a></h3></div>

<p>
Your personal config goes in your home directory:
</p>
<ul>
<li>
<code>~/.vimrc</code> ‚Üí your Vim configuration file.

<li>
<code>~/.vim/</code> ‚Üí directory for plugins, colorschemes, etc.

</ul>
<p>
Example:
</p>

<pre sh>
touch ~/.vimrc
mkdir -p ~/.vim/pack/plugins/start
</pre>

<p>
If you use a plugin manager (like vim-plug), it will install plugins under ~/.vim/plugged/.
</p>

<div id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üìù Setting Up Vimwiki"><h3 id="üìù Setting Up Vimwiki" class="header"><a href="#iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üìù Setting Up Vimwiki">üìù Setting Up Vimwiki</a></h3></div>

<p>
You want two directories: one for raw .wiki files and one for generated HTML.
</p>

<p>
Create directories:
</p>

<pre sh>
mkdir -p ~/vimwiki
mkdir -p ~/vimwiki_html
</pre>

<p>
Configure in ~/.vimrc:
</p>

<pre vim>
let g:vimwiki_list = [
  \ {'path': '~/vimwiki/', 'syntax': 'default', 'ext': '.wiki'},
  \ {'path': '~/vimwiki_html/', 'syntax': 'html', 'ext': '.html'}
  \ ]
</pre>

<ul>
<li>
First entry ‚Üí plain wiki files.

<li>
Second entry ‚Üí HTML output directory.

</ul>
<p>
To generate HTML, Vimwiki has :Vimwiki2HTML and :VimwikiAll2HTML.
</p>

<div id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üîÑ Sync with GitHub"><h3 id="üîÑ Sync with GitHub" class="header"><a href="#iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üîÑ Sync with GitHub">üîÑ Sync with GitHub</a></h3></div>

<p>
Since you already have a GitHub repo with Vimwiki files:
</p>

<p>
Clone it into your iSH home:
</p>

<pre sh>
cd ~
git clone git@github.com:USERNAME/vimwiki.git
(or HTTPS if you prefer)
</pre>

<p>
Point Vimwiki to that directory:
</p>

<pre vim>
let g:vimwiki_list = [{'path': '~/vimwiki/', 'syntax': 'default', 'ext': '.wiki'}]
</pre>

<div id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-Workflow:"><h3 id="Workflow:" class="header"><a href="#iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-Workflow:">Workflow:</a></h3></div>

<ul>
<li>
Edit notes in Vim.

<li>
Generate HTML into ~/vimwiki_html.

<li>
Commit and push:
<pre sh>
cd ~/vimwiki
git add .
git commit -m "Update notes"
git push origin main
</pre>

</ul>
<div id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-‚úÖ Summary"><h3 id="‚úÖ Summary" class="header"><a href="#iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-‚úÖ Summary">‚úÖ Summary</a></h3></div>

<ul>
<li>
ash = lightweight POSIX shell (default in Alpine/iSH).

<li>
File structure = standard Linux root (/usr/bin, /home, /etc).

<li>
Packages installed under /usr/bin and /usr/share.

<li>
Your configs go in ~/.vimrc and ~/.vim/.

<li>
Vimwiki files ‚Üí ~/vimwiki/; HTML output ‚Üí ~/vimwiki_html/.

</ul>
<p>
Sync with GitHub by cloning repo into ~/vimwiki and using Git commands.
</p>

<div id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-.vimrc example"><h3 id=".vimrc example" class="header"><a href="#iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-.vimrc example">.vimrc example</a></h3></div>

<p>
Here‚Äôs a ready-to-use .vimrc snippet you can drop straight into your iSH setup. It wires up Vimwiki, a plugin manager, and some sensible defaults for editing and syncing with GitHub:
</p>

<pre vim>
" =========================
" Basic Vim Configuration
" =========================
set nocompatible              " Use Vim defaults, not vi
set number                    " Show line numbers
set relativenumber            " Relative line numbers
set tabstop=4                 " Tab width
set shiftwidth=4              " Indent width
set expandtab                 " Use spaces instead of tabs
syntax on                     " Enable syntax highlighting
filetype plugin indent on     " Enable filetype detection

" =========================
" Plugin Manager (vim-plug)
" =========================
" Install vim-plug if not already present:
" curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
"     https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim

call plug#begin('~/.vim/plugged')

" Vimwiki plugin
Plug 'vimwiki/vimwiki'

" Optional: Git integration inside Vim
Plug 'tpope/vim-fugitive'

" Optional: Status line
Plug 'vim-airline/vim-airline'

call plug#end()

" =========================
" Vimwiki Configuration
" =========================
" Main wiki directory (cloned GitHub repo)
let g:vimwiki_list = [
  \ {'path': '~/vimwiki/', 'syntax': 'default', 'ext': '.wiki'}
  \ ]

" HTML output directory
let g:vimwiki_html_path = '~/vimwiki_html'

" Use Markdown syntax if you prefer
" let g:vimwiki_list = [{'path': '~/vimwiki/', 'syntax': 'markdown', 'ext': '.md'}]

" =========================
" Convenience Mappings
" =========================
" Quickly open Vimwiki index
nnoremap &lt;Leader&gt;ww :VimwikiIndex&lt;CR&gt;
" Generate HTML for current page
nnoremap &lt;Leader&gt;wh :Vimwiki2HTML&lt;CR&gt;
" Generate HTML for all pages
nnoremap &lt;Leader&gt;wa :VimwikiAll2HTML&lt;CR&gt;

" =========================
" Git Integration (Optional)
" =========================
" Fugitive lets you run Git commands inside Vim
" :Gstatus, :Gcommit, :Gpush, :Gpull
</pre>

<div id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üîë How to Use This"><h3 id="üîë How to Use This" class="header"><a href="#iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-üîë How to Use This">üîë How to Use This</a></h3></div>

<ul>
<li>
Save the above as ~/.vimrc inside iSH.

<li>
Install plugins:

<ul>
<li>
Open Vim and run :PlugInstall.

</ul>
<li>
Make sure your GitHub repo is cloned into ~/vimwiki:

</ul>
  
<pre sh>
cd ~
git clone git@github.com:USERNAME/vimwiki.git
</pre>

<p>
Create an HTML output directory:
</p>

<pre sh>
mkdir ~/vimwiki_html
</pre>

<p>
Inside Vim:
</p>
<ul>
<li>
<code>:VimwikiIndex</code> ‚Üí opens your wiki.

<li>
<code>:Vimwiki2HTML</code> ‚Üí converts current page.

<li>
<code>:VimwikiAll2HTML</code> ‚Üí converts all pages.

</ul>
<div id="iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-‚ú® With this setup:"><h3 id="‚ú® With this setup:" class="header"><a href="#iSH and Alpine Linux on iPad.-Let‚Äôs unpack each part clearly:-‚ú® With this setup:">‚ú® With this setup:</a></h3></div>

<ul>
<li>
Your wiki files live in ~/vimwiki (synced with GitHub).

<li>
Your HTML exports live in ~/vimwiki_html.

<li>
You can commit/push/pull directly from iSH, or use vim-fugitive inside Vim for Git commands.

</ul>
<div id="iSH and Alpine Linux on iPad.-Running GitHub commands"><h2 id="Running GitHub commands" class="header"><a href="#iSH and Alpine Linux on iPad.-Running GitHub commands">Running GitHub commands</a></h2></div>

<div id="iSH and Alpine Linux on iPad.-Running GitHub commands-QUESTION"><h3 id="QUESTION" class="header"><a href="#iSH and Alpine Linux on iPad.-Running GitHub commands-QUESTION">QUESTION</a></h3></div>
<table>
<tr>
<td>
On a Mac (using bash), I run this user bin shell script to git push/pull. I call it via a shortcut in my vimrc. Can this be repliacted for ash on the iPad? #!/usr/bin/env bash # Generate vimwiki html and push to Github pages # Adapted from: <a href="http://wiki.qiaoanran.com/vimwiki.html">http://wiki.qiaoanran.com/vimwiki.html</a> GIT=<code>which git</code> COMMIT_TIMESTAMP=<code>date +'%y%m%d_%H%M_%Z'</code> # convert wiki files to html files # This next line is causing a major error in MacVim: #vim +VimwikiTabIndex +VimwikiAll2HTML +qall cd ~/vimwiki_dir/general \({GIT} add --all . \){GIT} commit -am "Automated update at \({COMMIT_TIMESTAMP}" \){GIT} push origin master cd ~/vimwiki_dir/general_html \({GIT} add --all . \){GIT} commit -am "Automated update at \({COMMIT_TIMESTAMP}" \){GIT} push origin master
</td>
</tr>
</table>

<div id="iSH and Alpine Linux on iPad.-Running GitHub commands-ANSWER"><h3 id="ANSWER" class="header"><a href="#iSH and Alpine Linux on iPad.-Running GitHub commands-ANSWER">ANSWER</a></h3></div>

<p>
Yes ‚Äî you can replicate this workflow in ash inside iSH. The good news is that ash is POSIX‚Äëcompliant, so most of your Bash script will run unchanged. The main differences are:
</p>

<p>
No Bash‚Äëspecific features:
</p>

<ul>
<li>
<code>$(...)</code> command substitution works, but backticks <code>...</code> are safer in ash.

<li>
Arrays, <code>[[ ... ]]</code> conditionals, and advanced Bashisms won‚Äôt work.

<li>
<span id="iSH and Alpine Linux on iPad.-Running GitHub commands-ANSWER-Environment"></span><strong id="Environment">Environment</strong>: You‚Äôll be root in iSH, so your home is /root, not /Users/... like on macOS.

<li>
<span id="iSH and Alpine Linux on iPad.-Running GitHub commands-ANSWER-Shebang"></span><strong id="Shebang">Shebang</strong>: Use #!/bin/sh instead of #!/usr/bin/env bash because ash is the default shell.

</ul>
<div id="iSH and Alpine Linux on iPad.-Running GitHub commands-‚úÖ Example ash‚Äëcompatible script"><h3 id="‚úÖ Example ash‚Äëcompatible script" class="header"><a href="#iSH and Alpine Linux on iPad.-Running GitHub commands-‚úÖ Example ash‚Äëcompatible script">‚úÖ Example ash‚Äëcompatible script</a></h3></div>

<p>
Save this as ~/bin/vimwiki-sync.sh (make sure ~/bin is in your $PATH):
</p>

<pre sh>
#!/bin/sh

# Generate vimwiki html and push to Github pages

GIT=$(which git)
COMMIT_TIMESTAMP=$(date +'%y%m%d_%H%M_%Z')

# If you want to generate HTML inside Vim, uncomment:
# vim +VimwikiTabIndex +VimwikiAll2HTML +qall

# Sync wiki source
cd ~/vimwiki_dir/general || exit 1
$GIT add --all .
$GIT commit -am "Automated update at $COMMIT_TIMESTAMP"
$GIT push origin master

# Sync HTML output
cd ~/vimwiki_dir/general_html || exit 1
$GIT add --all .
$GIT commit -am "Automated update at $COMMIT_TIMESTAMP"
$GIT push origin master
</pre>

<div id="iSH and Alpine Linux on iPad.-Running GitHub commands-üîß Setup Notes"><h3 id="üîß Setup Notes" class="header"><a href="#iSH and Alpine Linux on iPad.-Running GitHub commands-üîß Setup Notes">üîß Setup Notes</a></h3></div>

<p>
Make it executable:
</p>

<pre sh>
chmod +x ~/bin/vimwiki-sync.sh
</pre>

<p>
Call it from Vim with a shortcut in your ~/.vimrc:
</p>

<pre vim>
nnoremap &lt;Leader&gt;gs :!~/bin/vimwiki-sync.sh&lt;CR&gt;
</pre>

<p>
Adjust paths: in iSH your home is /root, so if your repo is cloned into /root/vimwiki_dir, use that path.
</p>

<div id="iSH and Alpine Linux on iPad.-Running GitHub commands-üöÄ Workflow"><h3 id="üöÄ Workflow" class="header"><a href="#iSH and Alpine Linux on iPad.-Running GitHub commands-üöÄ Workflow">üöÄ Workflow</a></h3></div>

<ul>
<li>
Edit wiki files in Vim (~/vimwiki_dir/general).

<li>
Run your shortcut (&lt;Leader&gt;gs) to:

<ul>
<li>
Commit changes.

<li>
Push to GitHub.

<li>
Commit/push generated HTML.

</ul>
</ul>
<p>
üëâ The only real change from your Mac script is the shebang line (#!/bin/sh) and making sure paths match iSH‚Äôs filesystem (/root/...). Everything else works the same.
</p>

<div id="iSH and Alpine Linux on iPad.-Headless HTML"><h2 id="Headless HTML" class="header"><a href="#iSH and Alpine Linux on iPad.-Headless HTML">Headless HTML</a></h2></div>

<p>
Let‚Äôs make your sync script automatically run the Vimwiki HTML export step without opening Vim interactively. The trick is to call Vim in headless mode (-es or -c commands) so it executes the Vimwiki commands and quits.
</p>

<p>
Here‚Äôs an ash‚Äëcompatible script you can use in iSH:
</p>

<pre sh>
#!/bin/sh

# Automated Vimwiki sync: convert to HTML, commit, and push

GIT=$(which git)
COMMIT_TIMESTAMP=$(date +'%y%m%d_%H%M_%Z')

# Step 1: Generate HTML from wiki files
# Run Vim headless, execute Vimwiki commands, then quit
vim -es -u ~/.vimrc \
    +VimwikiIndex \
    +VimwikiAll2HTML \
    +qall

# Step 2: Sync wiki source repo
cd ~/vimwiki_dir/general || exit 1
$GIT add --all .
$GIT commit -am "Automated update at $COMMIT_TIMESTAMP"
$GIT push origin master

# Step 3: Sync HTML output repo
cd ~/vimwiki_dir/general_html || exit 1
$GIT add --all .
$GIT commit -am "Automated update at $COMMIT_TIMESTAMP"
$GIT push origin master
</pre>

<div id="iSH and Alpine Linux on iPad.-Headless HTML-üîß Key Points"><h3 id="üîß Key Points" class="header"><a href="#iSH and Alpine Linux on iPad.-Headless HTML-üîß Key Points">üîß Key Points</a></h3></div>

<ul>
<li>
<code>vim -es</code> ‚Üí runs Vim in ‚Äúsilent‚Äù mode (no UI).

<li>
<code>-u ~/.vimrc</code> ‚Üí ensures your config (with Vimwiki plugin) is loaded.

<li>
<code>+VimwikiIndex +VimwikiAll2HTML +qall</code> ‚Üí executes commands in sequence:

<li>
Open Vimwiki index.

<li>
Convert all pages to HTML.

<li>
Quit all.

</ul>
<div id="iSH and Alpine Linux on iPad.-Headless HTML-üöÄ Usage"><h3 id="üöÄ Usage" class="header"><a href="#iSH and Alpine Linux on iPad.-Headless HTML-üöÄ Usage">üöÄ Usage</a></h3></div>

<ul>
<li>
Save as <code>~/bin/vimwiki-sync.sh</code>

<li>
Make executable:

</ul>
  
<pre sh>
chmod +x ~/bin/vimwiki-sync.sh
</pre>

<p>
Add a shortcut in your ~/.vimrc:
</p>

<pre vim>
nnoremap &lt;Leader&gt;gs :!~/bin/vimwiki-sync.sh&lt;CR&gt;
</pre>

<p>
Press &lt;Leader&gt;gs in Vim to:
</p>
<ul>
<li>
Generate HTML.

<li>
Commit/push wiki files.

<li>
Commit/push HTML files.

</ul>
<p>
‚ú® With this, you‚Äôve got a one‚Äëcommand sync workflow on iPad/iSH: edit ‚Üí export ‚Üí push.
</p>


<p>
<a href="index.html">index</a>
</p>

</body>
</html>
