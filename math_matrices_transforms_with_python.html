<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>math_matrices_transforms_with_python</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>  
</p>

<p>
<a href="math_index.html">Math - Index</a>
</p>

<p>
<a href="math_matrices.html#Transforms">Math - Matrix Transforms</a>
</p>

<div id="Python - Transform Matrix Script"><h1 id="Python - Transform Matrix Script" class="header"><a href="#Python - Transform Matrix Script">Python - Transform Matrix Script</a></h1></div>

<pre python>
#! /usr/bin/env python3

# Copilot helped with this one!
import ast


def main():
    # 1. Get the transform matrix from the user.
    # Expected format (for a 2xN matrix):
    # E.g., ((a1, a2, ..., aN), (b1, b2, ..., bN))
    tm_input = input("Enter the transform matrix as a tuple of two tuples (e.g., ((a, b), (c, d))): ")

    try:
        transform_matrix = ast.literal_eval(tm_input)
        # Validate that it is a tuple of two tuples.
        if not (
            isinstance(transform_matrix, tuple) and
            len(transform_matrix) == 2 and
            all(isinstance(row, tuple) for row in transform_matrix)
        ):
            raise ValueError("Transform matrix must be a tuple of two tuples.")
    except Exception as e:
        print("Invalid transform matrix input:", e)
        exit(1)

    # Determine the expected number of columns based on the first row.
    num_cols = len(transform_matrix[0])
    # Optionally, check that both rows have the same number of columns.
    if len(transform_matrix[1]) != num_cols:
        print("Error: Both rows of the transform matrix must have the same number of elements.")
        exit(1)

    # 2. Get the list of point coordinates.
    # Expected format:
    # E.g., ((x1, x2, ..., xN), (y1, y2, ..., yN), ...) for each point
    # Each point must be a tuple of numbers with length equal to the transform matrix column count.
    points_input = input("Enter a list of points as a tuple of tuples (e.g., ((x1, y1), (x2, y2), ...)): ")

    try:
        points = ast.literal_eval(points_input)
        # Validate that points is a tuple (or list) and each element is a tuple.
        if not (isinstance(points, (tuple, list)) and all(isinstance(pt, tuple) for pt in points)):
            raise ValueError("Points must be provided as a tuple or list of tuples.")
    except Exception as e:
        print("Invalid points input:", e)
        exit(1)

    # 3. Check that each point has the correct number of coordinates.
    for pt in points:
        if len(pt) != num_cols:
            print("Error: Each point must have", num_cols, "values (found point with", len(pt), "values).")
            exit(1)

    # 4. Multiply the transform matrix (a 2xN matrix) by each point (interpreted as an N-vector).
    # For each point, the result will be a new tuple (new_x, new_y) where:
    #   new_x = sum(transform_matrix[0][j] * pt[j] for j in range(num_cols))
    #   new_y = sum(transform_matrix[1][j] * pt[j] for j in range(num_cols))
    transformed_points = []
    for pt in points:
        new_x = sum(transform_matrix[0][j] * pt[j] for j in range(num_cols))
        new_y = sum(transform_matrix[1][j] * pt[j] for j in range(num_cols))
        transformed_points.append((new_x, new_y))

    # 5. Print the transformed points.
    print("\nTransformed points:")
    for idx, tpt in enumerate(transformed_points, start=1):
        print(f"Point {idx}: {tpt}")


if __name__ == "__main__":
    main()
</pre>

<p>
This is a simple commandline script to take two lists of tuples; one for the 'transform matrix'
</p>

<pre bash>
((-0.75, 0), (0, -0.75))
</pre>

<p>
...and another for a block of coordinates:
</p>

<pre bash>
((x, y), (x, y), ...)
</pre>



<p>
<a href="math_matrices.html#Transforms">Math - Matrix Transforms</a>
</p>

<p>
<a href="math_index.html">Math - Index</a>
</p>

<p>
<a href="index.html">index</a>  
</p>

</body>
</html>
