<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>pathlib</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<div id="[[Python]]"><h1 id="[[Python]]" class="header"><a href="#[[Python]]"><a href="Python.html">Python</a></a></h1></div>

<div id="[[Python]]-Pathlib Library"><h2 id="Pathlib Library" class="header"><a href="#[[Python]]-Pathlib Library">Pathlib Library</a></h2></div>

<p>
(Available as a built-in library since Python 3.4)
</p>

<p>
Pathlib is a modern approach to paths. It utilizes objects rather than strings, and is largely prefered over OS path operations these days.
It's not the best for actually interacting with file systems however.
</p>

<p>
(OS and Shuil libraries should be considered if file interactions are the prime goal.)
</p>

<p>
Pathlib can:<br>
</p>
<ul>
<li>
assemble paths from parts

<li>
cross platform usage

<li>
use tools already bug-tested

</ul>
<div id="[[Python]]-Pathlib Library-Quick tip"><h3 id="Quick tip" class="header"><a href="#[[Python]]-Pathlib Library-Quick tip">Quick tip</a></h3></div>

<p>
From:<br>
</p>
<div id="[[Python]]-Pathlib Library-Quick tip-https://stackoverflow.com/questions/541390/extracting-extension-from-filename-in-python"><h4 id="https://stackoverflow.com/questions/541390/extracting-extension-from-filename-in-python" class="header"><a href="#[[Python]]-Pathlib Library-Quick tip-https://stackoverflow.com/questions/541390/extracting-extension-from-filename-in-python"><a href="https://stackoverflow.com/questions/541390/extracting-extension-from-filename-in-python">https://stackoverflow.com/questions/541390/extracting-extension-from-filename-in-python</a></a></h4></div>

<p>
Quick way to get stem and ext suffix from a given path:
</p>

<pre>
import pathlib

print(pathlib.Path('yourPath.example').suffix) # '.example'
print(pathlib.Path("hello/foo.bar.tar.gz").suffixes) # ['.bar', '.tar', '.gz']
print(pathlib.Path('/foo/bar.txt').stem) # 'bar'
You can use the `os` library to chdir etc.&lt;br&gt;
</pre>


<div id="[[Python]]-Pathlib Library-List of Methods"><h3 id="List of Methods" class="header"><a href="#[[Python]]-Pathlib Library-List of Methods">List of Methods</a></h3></div>

<p>
<code>pathlib.Path.cwd()</code> &lt;-- Current working directory<br><br>
<code>pathlib.Path.home()</code> &lt;-- Home directory (as PosixPath obj - but can be converted with str.<br><br>
<code>mypath = pathlib.Path(r'/usr/bin/python3')</code> &lt;-- pass path string into a PosixPath object<br><br>
<code>mypath.exists()</code> &lt;-- Boolean test<br><br>
<code>mypath = pathlib.Path("/usr") / "bin" / "python3"</code> &lt;-- results in PosixPath('/usr/bin/python3')<br><br>
<code>myfilepath.read_text()</code> &lt;-- Performs equivalent of 'with myfilepath.open() as file;<br><br>
<code>mypath.resolve()</code> &lt;-- if PosixPath is just a file, or sub-path, this will invoke the full path<br><br>
<code>mypath.is_file()</code> &lt;-- check if file exists<br><br>
<code>mypath.is_dir()</code> &lt;-- check if directory exists<br><br>
<code>mypath.touch()</code> &lt;-- create file<br><br>
<code>mypath.mkdir()</code> &lt;-- create directory<br><br>
<code>mypath.unlink()</code> &lt;-- delete file<br><br>
<code>mypath.rmdir()</code> &lt;-- delete directory<br><br>
</p>

<div id="[[Python]]-Pathlib Library-Get File Parent, File Stem &amp; File Extension"><h3 id="Get File Parent, File Stem &amp; File Extension" class="header"><a href="#[[Python]]-Pathlib Library-Get File Parent, File Stem &amp; File Extension">Get File Parent, File Stem &amp; File Extension</a></h3></div>
<p>
<code>parent = mypath.parent()</code> &lt;-- All path but stem &amp; suffix (extension)<br><br>
<code>stem = mypath.stem()</code> &lt;-- File stem (no extension)<br><br>
<code>suffix = mypath.suffix()</code> &lt;-- File extension<br><br>
<br>
<br>
</p>
<div id="[[Python]]-See code below for examples of the methods above"><h2 id="See code below for examples of the methods above" class="header"><a href="#[[Python]]-See code below for examples of the methods above">See code below for examples of the methods above</a></h2></div>
<div id="[[Python]]-See code below for examples of the methods above-Lesson notes from:<br>"><h3 id="Lesson notes from:<br>" class="header"><a href="#[[Python]]-See code below for examples of the methods above-Lesson notes from:<br>">Lesson notes from:<br></a></h3></div>
<div id="[[Python]]-See code below for examples of the methods above-Lesson notes from:<br>-https://www.youtube.com/watch?v=UcKkmwaRbsQ"><h4 id="https://www.youtube.com/watch?v=UcKkmwaRbsQ" class="header"><a href="#[[Python]]-See code below for examples of the methods above-Lesson notes from:<br>-https://www.youtube.com/watch?v=UcKkmwaRbsQ"><a href="https://www.youtube.com/watch?v=UcKkmwaRbsQ">https://www.youtube.com/watch?v=UcKkmwaRbsQ</a></a></h4></div>

<p>
<br>
</p>

<pre python>
from pathlib import Path
import os

def main():
    # Show current directory:
    print(f"Current working directory: {Path.cwd()}")
    
    # show home directory:
    print(f"Home directory: {Path.home()}")
    
    # Specify any custom path (it doesn't check whether it's legit):
    path = Path(r"/usr/bin/python3/blah")
    print(path.exists())
    # &gt;&gt;False
    
    # construct paths using the '/' operator:
    # (and this example results in "/User/me/bin/python3" on MacOS)
    path2 = Path("/usr") / "bin" / "python3"
    
    # example:
    path3 = Path.cwd() / "settings.yaml"
    print(path3.exists())
    # Either:
    with path3.open() as file:
        print(file.read())
    # Or use method:
    print(path3.read_text())
    
    # Resolving a path:
    path4 = Path("settings.yaml")
    # This prints just the file as supplied:
    print(path4)
    # This prints the whole path!:
    print(path4.resolve())
    
    # Print parent of a path:
    full_path = path4.resolve()
    parent = full_path.parent
    stem = full_path.stem
    suffix = full_path.suffix
    
    print(full_path, parent, stem, suffix)
    
    # Check if path is a file or a directory:
    print(full_path.is_file())
    print(full_path.is_dir())
    
    # create new file:
    new_file = Path.cwd() / "new.txt"
    new_file.touch()
    # enter text into file:
    new_file.write_text("Hello")
    # Delete file:
    new_file.unlink()
    
    # create a new directory:
    new_dir = Path.cwd() / "new"
    new_dir.mkdir()
    # Delete directory:
    new_dir.rmdir()
    
    # Change directory:
    os.chdir(new_dir)
    

if __name__ == "__main__":
    main()
</pre>

<div id="pathlib.Path.glob"><h1 id="pathlib.Path.glob" class="header"><a href="#pathlib.Path.glob">pathlib.Path.glob</a></h1></div>

<p>
You can search through a Path object for files and directories with &lt;Path obj&gt;.glob(&lt;search term&gt;):
</p>

<p>
The result of a search is a generator object (of items found).
</p>

<pre>
# Create a path object; in this case, the current directory:
mypath = pathlib.Path('.') 

# iterate through the generator object, created with Path's glob method:
for file in mypath.glob('*.txt'):
    print(file)
</pre>

<div id="pathlib.Path.glob-.glob Wildcards"><h3 id=".glob Wildcards" class="header"><a href="#pathlib.Path.glob-.glob Wildcards">.glob Wildcards</a></h3></div>

<pre>
Wildcards
* &lt;-- Matches zero or more characters.
? &lt;-- Matches any single character.
[] &lt;-- Matches a range of characters (e.g., [a-z] matches any lowercase letter). 
</pre>

<div id="pathlib.Path.glob-Searching Subdirectories"><h3 id="Searching Subdirectories" class="header"><a href="#pathlib.Path.glob-Searching Subdirectories">Searching Subdirectories</a></h3></div>

<pre>
# Create a path object; in this case, the current directory:
mypath = pathlib.Path('.') 

# Find all 'csv' files in a subdirectory called 'subdir_name':
mypath.glob('subdir_name/*.csv')

# Recursive search:
mypath.glob('**/*.txt')
</pre>

<div id="pathlib.Path.glob-Example"><h3 id="Example" class="header"><a href="#pathlib.Path.glob-Example">Example</a></h3></div>

<p>
Find all jpg files in a folder called 'images':
</p>

<pre>
import pathlib

path = pathlib.Path('images')

for file in path.glob('**/*.jpg'):
    print(file)
</pre>

<pre>
files = p.Path(".").glob("**/*.py")
for f in files:
    print(f.resolve())

# Result:
/Users/&lt;username&gt;/Documents/Projects/Projects_apps/Python/misc_items/add_current_date_prefix.py
/Users/&lt;username&gt;/Documents/Projects/Projects_apps/Python/misc_items/replace_spaces.py
/Users/&lt;username&gt;/Documents/Projects/Projects_apps/Python/misc_items/remove_date_prefix.py
/Users/&lt;username&gt;/Documents/Projects/Projects_apps/Python/misc_items/group_script_nuke.py
/Users/&lt;username&gt;/Documents/Projects/Projects_apps/Python/misc_items/remove_compressed_suffix.py
/Users/&lt;username&gt;/Documents/Projects/Projects_apps/Python/misc_items/remove_spaces_filename.py
/Users/&lt;username&gt;/Documents/Projects/Projects_apps/Python/misc_items/add_modification_date_prefix.py
</pre>

<div id="pathlib.Path.glob-Example of output to file"><h3 id="Example of output to file" class="header"><a href="#pathlib.Path.glob-Example of output to file">Example of output to file</a></h3></div>

<pre>
with open("myfile.txt", "w") as f:
    files = pathlib.Path(".").glob('**/*.py")
    for file in files:
        f.write(str(file.resolve())+"\n")
        
</pre>

<p>
...results in something like:
</p>
<pre>
/Users/&lt;username&gt;/Documents/Projects/Projects_apps/Python/misc_items/add_current_date_prefix.py
/Users/&lt;username&gt;/Documents/Projects/Projects_apps/Python/misc_items/replace_spaces.py
/Users/&lt;username&gt;/Documents/Projects/Projects_apps/Python/misc_items/remove_date_prefix.py
/Users/&lt;username&gt;/Documents/Projects/Projects_apps/Python/misc_items/group_script_nuke.py
/Users/&lt;username&gt;/Documents/Projects/Projects_apps/Python/misc_items/remove_compressed_suffix.py
/Users/&lt;username&gt;/Documents/Projects/Projects_apps/Python/misc_items/remove_spaces_filename.py
/Users/&lt;username&gt;/Documents/Projects/Projects_apps/Python/misc_items/add_modification_date_prefix.py
</pre>

<div id="pathlib.Path.glob-Next: look at the os lib."><h2 id="Next: look at the os lib." class="header"><a href="#pathlib.Path.glob-Next: look at the os lib.">Next: look at the os lib.</a></h2></div>
<div id="pathlib.Path.glob-Next: look at the os lib.-[[os_library|OS Library]]:"><h4 id="[[os_library|OS Library]]:" class="header"><a href="#pathlib.Path.glob-Next: look at the os lib.-[[os_library|OS Library]]:"><a href="os_library.html">OS Library</a>:</a></h4></div>

</body>
</html>
