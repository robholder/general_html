<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>nuke_python_remove_trailing_digits_from_unique_nodes</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="nuke_index.html">Nuke Index</a>
</p>

<div id="Remove Trailing Digits from Unique Nodes"><h1 id="Remove Trailing Digits from Unique Nodes" class="header"><a href="#Remove Trailing Digits from Unique Nodes">Remove Trailing Digits from Unique Nodes</a></h1></div>

<pre python>
import nuke


def strip_trailing_numbers(nodes=None):
    import re, nuke
    pattern = re.compile(r'\d+$')
    nodes = nodes or nuke.selectedNodes()
    
    for node in nodes:
        original = node.name()
        new_name = pattern.sub('', original)
        if new_name and new_name != original:
            try:
                node.setName(new_name)
            except NameError:
                base, idx = new_name, 1
                while True:
                    cand = f"{base}_{idx}"
                    try:
                        node.setName(cand)
                        break
                    except NameError:
                        idx += 1

nsel = nuke.selectedNodes()

# Remove Stamps from selection - they are more 'involved' (see my renamer)
ns = [n for n in nsel if "NoOp" in n.Class()]

ns_num = [n for n in ns if n.name() and n.name()[-1].isdigit()]
</pre>


<p>
<a href="nuke_index.html">Nuke Index</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
