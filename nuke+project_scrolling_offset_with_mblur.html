<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>nuke+project_scrolling_offset_with_mblur</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="nuke_index.html">Nuke Index</a>
</p>

<div id="LoopCanvas - Scrolling Offset with MotionBlur"><h1 id="LoopCanvas - Scrolling Offset with MotionBlur" class="header"><a href="#LoopCanvas - Scrolling Offset with MotionBlur">LoopCanvas - Scrolling Offset with MotionBlur</a></h1></div>

<p>
This is a group node to offset a canvas/image by a set amount (in x and/or y), and a multiplier to set speed. Feature optional motion blur.
</p>

<pre nuke>
set cut_paste_input [stack 0]
version 15.0 v7
push $cut_paste_input
Group {
 name LoopCanvas
 selected true
 xpos -21736
 ypos 16342
 addUserKnob {20 user l Motion}
 addUserKnob {3 start_frame l "Start Frame (Frame Offset)" t "Enter the start frame number of your timeline.\n\nSetting this to the start frame will negate any motion on the canvas on that frame.\n\nWhen set, the first frame will appear with a zero offset."}
 start_frame {{root.first_frame}}
 addUserKnob {26 ""}
 addUserKnob {7 speed l "Speed (Offset Multiplier)" t "A value of one will result in the offset being applied per frame.\n\nThis value is a multiplier for motion (Offset) per frame." R 0 10}
 speed 1
 addUserKnob {26 ""}
 addUserKnob {7 offset_x l "Offset X" t "Base Offset in pixels on the x (left/right) axis.\n\nWith Speed set to 1, this will be motion per frame." R 0 100}
 offset_x 10
 addUserKnob {7 offset_y l "Offset Y" t "Base Offset in pixels on the y (up/down) axis.\n\nWith Speed set to 1, this will be motion per frame." R 0 100}
 offset_y 10
 addUserKnob {26 ""}
 addUserKnob {6 mb l "Motion Blur" t "Apply motion blur" +STARTLINE}
 addUserKnob {7 mb_amount l "Motion Blur Amount" R 0 10}
 mb_amount 1
 addUserKnob {41 offset l "Shutter Offset" T VectorBlur2.offset}
 addUserKnob {20 tech l Tech}
 addUserKnob {26 version l Version: T 1.0.0}
 addUserKnob {26 version_history l "" +STARTLINE +INVISIBLE T "1.0.0 - 251015 - Initial Version"}
}
 Constant {
  inputs 0
  channels rgb
  color {{"parent.offset_x * parent.speed"} {"parent.offset_y * parent.speed"} 0 0}
  name Constant13
  xpos -1074
  ypos 213
 }
 Input {
  inputs 0
  name Input
  xpos -807
  ypos -34
 }
set N43470060 [stack 0]
 Expression {
  temp_name0 posx
  temp_expr0 "(x - offset_total.x + 0.5)/width"
  temp_name1 posy
  temp_expr1 "(y - offset_total.y + 0.5)/height"
  expr0 posx-floor(posx)
  expr1 posy-floor(posy)
  expr2 0
  expr3 0
  name Expression1
  xpos -709
  ypos 38
  addUserKnob {20 User}
  addUserKnob {12 offset_total l "Offset Total"}
  offset_total {{"offset_x * (frame - parent.start_frame) * parent.speed"} {"offset_y * (frame - parent.start_frame) * parent.speed"}}
 }
push $N43470060
 STMap {
  inputs 2
  uv rgb
  name STMap2
  xpos -807
  ypos 92
 }
 Dot {
  name Dot3
  xpos -774
  ypos 161
 }
set N28415050 [stack 0]
 Dot {
  name Dot2
  xpos -884
  ypos 161
 }
 Reformat {
  type scale
  scale {{"((offset_x)/width * 100) +1"} {"((offset_y)/height * 100) +1"}}
  resize none
  name Reformat_expand
  xpos -918
  ypos 203
 }
 Shuffle2 {
  inputs 2
  fromInput1 {{0} B A}
  fromInput2 {{1} B A}
  in2 rgb
  out2 forward
  mappings "6 rgba.red 0 0 rgba.red 0 0 rgba.green 0 1 rgba.green 0 1 rgba.blue 0 2 rgba.blue 0 2 rgba.alpha 0 3 rgba.alpha 0 3 rgba.red 1 0 forward.u 1 0 rgba.green 1 1 forward.v 1 1"
  name Shuffle67
  xpos -916
  ypos 236
 }
 VectorBlur2 {
  uv forward
  scale {{"parent.mb_amount * 5"}}
  motion_falloff 0.07999999821
  grow_bbox 2.5
  normalize false
  name VectorBlur2
  xpos -916
  ypos 262
 }
 Reformat {
  type scale
  scale {{1/parent.Reformat_expand.scale} {1/parent.Reformat_expand.scale}}
  resize none
  name Reformat_contract
  xpos -916
  ypos 300
 }
 Dot {
  name Dot1
  xpos -882
  ypos 405
 }
push $N28415050
 Switch {
  inputs 2
  which {{parent.mb}}
  name Switch1
  xpos -807
  ypos 401
 }
 Reformat {
  type "to box"
  box_width {{parent.Input.width}}
  box_height {{parent.Input.height}}
  box_fixed true
  name Reformat2
  xpos -807
  ypos 448
 }
 Output {
  name Output1
  xpos -807
  ypos 492
 }
end_group
</pre>


<p>
<a href="nuke_index.html">Nuke Index</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
