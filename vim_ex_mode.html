<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>vim_ex_mode</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="vim_learning.html">Vim Learning</a>
</p>

<div id="Ex Mode"><h1 id="Ex Mode" class="header"><a href="#Ex Mode">Ex Mode</a></h1></div>

<p>
Ex mode in Vim is a powerful mode that allows you to execute a series of commands in a more script-like manner. It's useful for batch processing, running complex commands, or simply working in a non-interactive way. Let's dive into the basics, how to use it, and some practical examples.
</p>

<div id="Ex Mode-Introduction to Ex Mode"><h2 id="Introduction to Ex Mode" class="header"><a href="#Ex Mode-Introduction to Ex Mode">Introduction to Ex Mode</a></h2></div>

<p>
Ex mode is a line-oriented command mode that allows you to execute Ex commands. These commands are similar to the ones you can enter in command-line mode (using :), but in Ex mode, you work exclusively with these commands without the normal mode interface.
</p>

<div id="Ex Mode-How to Enter and Exit Ex Mode"><h2 id="How to Enter and Exit Ex Mode" class="header"><a href="#Ex Mode-How to Enter and Exit Ex Mode">How to Enter and Exit Ex Mode</a></h2></div>

<ul>
<li>
Enter Ex Mode: You can enter Ex mode by typing <code>Q</code> from normal mode. (Most tutorials say <code>ex</code> is also an option, but doesn't work with MacVim.)

<li>
Exit Ex Mode: To exit Ex mode and return to normal mode, you can use the <code>visual</code> or <code>vi</code> command.

</ul>
<div id="Ex Mode-Basic Commands in Ex Mode"><h2 id="Basic Commands in Ex Mode" class="header"><a href="#Ex Mode-Basic Commands in Ex Mode">Basic Commands in Ex Mode</a></h2></div>

<p>
Here are some common commands you can use in Ex mode:
</p>
<ul>
<li>
<code>:q</code> - Quit Vim.

<li>
<code>:w</code> - Write (save) the current buffer.

<li>
<code>:e</code> filename - Open a file.

<li>
<code>:x</code> - Save the file and exit Vim.

<li>
<code>:s/pattern/replacement/</code> - Substitute pattern with replacement.

<li>
<code>:g/pattern/cmd</code> - Execute cmd on all lines matching pattern.

</ul>
<div id="Ex Mode-Examples of Using Ex Mode"><h2 id="Examples of Using Ex Mode" class="header"><a href="#Ex Mode-Examples of Using Ex Mode">Examples of Using Ex Mode</a></h2></div>

<ul>
<li>
Batch Editing: Suppose you want to replace all occurrences of the word "foo" with "bar" in a file:
<pre>
Q
:g/foo/s//bar/g
</pre>

<li>
This command will globally search for "foo" and substitute it with "bar" on all matching lines.

<li>
Deleting Lines: To delete all lines containing the word "delete":
<pre>
Q
:g/delete/d
</pre>

<li>
This will delete all lines that contain the word "delete".

<li>
Saving and Quitting: You can save the current buffer and quit Vim with a single command:
<pre>
Q
:wq
</pre>

<li>
This writes the changes to the file and then exits Vim.

<li>
Running a Script: If you have a series of commands you want to execute, you can save them in a file (e.g., script.ex) and run it in Ex mode:
<pre sh>
# In a shell:
vim -s script.ex
</pre>

<li>
This will open Vim and execute the commands in script.ex.

</ul>
<p>
Ex mode is particularly useful for automating tasks and running complex command sequences. While it may take some time to get used to, mastering Ex mode can greatly enhance your efficiency in Vim.
</p>


<div id="Ex Mode vs Command Mode"><h1 id="Ex Mode vs Command Mode" class="header"><a href="#Ex Mode vs Command Mode">Ex Mode vs Command Mode</a></h1></div>

<p>
Ex Mode commands, resemble the command-line mode commands. Ex mode commands in Vim are similar to those commands you'd use in command-line mode, but Ex mode itself operates differently by providing a line-oriented, non-interactive way to work.
</p>

<p>
To clarify the unique aspects and benefits of Ex mode:
</p>

<div id="Ex Mode vs Command Mode-Unique Aspects of Ex Mode"><h3 id="Unique Aspects of Ex Mode" class="header"><a href="#Ex Mode vs Command Mode-Unique Aspects of Ex Mode">Unique Aspects of Ex Mode</a></h3></div>

<div id="Ex Mode vs Command Mode-Unique Aspects of Ex Mode-Batch Processing:"><h4 id="Batch Processing:" class="header"><a href="#Ex Mode vs Command Mode-Unique Aspects of Ex Mode-Batch Processing:">Batch Processing:</a></h4></div>

<p>
Ex mode allows you to execute a series of commands sequentially, which can be useful for automation and scripting.
</p>

<div id="Ex Mode vs Command Mode-Unique Aspects of Ex Mode-Non-interactive Editing:"><h4 id="Non-interactive Editing:" class="header"><a href="#Ex Mode vs Command Mode-Unique Aspects of Ex Mode-Non-interactive Editing:">Non-interactive Editing:</a></h4></div>

<p>
In Ex mode, you don't switch between normal and command-line modes. Instead, you stay in a line-oriented command mode, making it easier to execute multiple commands quickly.
</p>

<div id="Ex Mode vs Command Mode-Unique Aspects of Ex Mode-Read from Script:"><h4 id="Read from Script:" class="header"><a href="#Ex Mode vs Command Mode-Unique Aspects of Ex Mode-Read from Script:">Read from Script:</a></h4></div>

<p>
You can create a script with multiple Ex commands and run it, which is particularly useful for repetitive tasks.
</p>

<div id="Ex Mode vs Command Mode-Examples that Leverage Ex Mode"><h2 id="Examples that Leverage Ex Mode" class="header"><a href="#Ex Mode vs Command Mode-Examples that Leverage Ex Mode">Examples that Leverage Ex Mode</a></h2></div>

<p>
Here are a few practical examples that highlight the benefits of Ex mode:
</p>

<div id="Ex Mode vs Command Mode-Examples that Leverage Ex Mode-Editing Multiple Files:"><h4 id="Editing Multiple Files:" class="header"><a href="#Ex Mode vs Command Mode-Examples that Leverage Ex Mode-Editing Multiple Files:">Editing Multiple Files:</a></h4></div>

<p>
Let's say you have a list of files and you want to perform the same edit on all of them. You can create a script with Ex commands and run it in Ex mode:
</p>

<pre sh>
# In a shell:
vim -s script.ex file1.txt file2.txt file3.txt
</pre>

<p>
This will open each file, execute the commands in script.ex, and save the changes.
</p>

<div id="Ex Mode vs Command Mode-Examples that Leverage Ex Mode-Automating Repetitive Tasks:"><h4 id="Automating Repetitive Tasks:" class="header"><a href="#Ex Mode vs Command Mode-Examples that Leverage Ex Mode-Automating Repetitive Tasks:">Automating Repetitive Tasks:</a></h4></div>

<p>
Suppose you want to format multiple lines of code across different files. You can create an Ex script to automate this task:
</p>

<pre>
Q
:%s/foo/bar/g
:w
:next
</pre>
<p>
Save this script as format.ex and run it with:
</p>

<pre sh>
# In a shell:
vim -s format.ex *.txt
</pre>

<p>
This will replace foo with bar, save the file, and move to the next file in the list.
</p>

<div id="Ex Mode vs Command Mode-Examples that Leverage Ex Mode-Using Conditional Logic:"><h4 id="Using Conditional Logic:" class="header"><a href="#Ex Mode vs Command Mode-Examples that Leverage Ex Mode-Using Conditional Logic:">Using Conditional Logic:</a></h4></div>

<p>
You can use conditional commands within Ex mode for more complex automation. For example, to delete lines containing "DELETE" only if "KEEP" is not found in the same file:
</p>
<pre>
Q
:v/KEEP/g/DELETE/d
</pre>

<p>
This will delete lines containing "DELETE" in files where "KEEP" is not present.
</p>

<div id="Ex Mode vs Command Mode-Examples that Leverage Ex Mode-Entering and Working in Ex Mode"><h4 id="Entering and Working in Ex Mode" class="header"><a href="#Ex Mode vs Command Mode-Examples that Leverage Ex Mode-Entering and Working in Ex Mode">Entering and Working in Ex Mode</a></h4></div>

<p>
Start Vim in Ex mode directly from the command line:
</p>

<pre sh>
# In a shell:
vim -E
</pre>

<p>
Type your commands:
</p>
<pre>
Q
:e myfile.txt
:%s/oldtext/newtext/g
:w
:q
</pre>

<p>
These examples demonstrate how Ex mode can be leveraged for batch processing, automation, and scripting in a way that's distinct from normal command-line mode.
</p>

<div id=".ex vs .vim files"><h1 id=".ex vs .vim files" class="header"><a href="#.ex vs .vim files">.ex vs .vim files</a></h1></div>

<p>
Both .ex and .vim files are used to store and execute Vim commands, but they serve slightly different purposes and are used in different contexts. Let's explore the differences:
</p>

<div id=".ex vs .vim files-.ex Files"><h2 id=".ex Files" class="header"><a href="#.ex vs .vim files-.ex Files">.ex Files</a></h2></div>

<ul>
<li>
Purpose: <code>.ex</code> files are specifically designed to contain Ex commands for use in Ex mode.

<li>
Execution: You typically run an <code>.ex</code> file in Ex mode or by using the <code>-s</code> option when starting Vim.

<li>
Example Usage: If you have a series of Ex commands that you want to execute on multiple files, you can save them in an <code>.ex</code> file and run it:
<pre sh>
# In a shell:
vim -s script.ex file1.txt file2.txt
</pre>

</ul>
<div id=".ex vs .vim files-.vim Files"><h2 id=".vim Files" class="header"><a href="#.ex vs .vim files-.vim Files">.vim Files</a></h2></div>

<ul>
<li>
Purpose: <code>.vim</code> files are used for Vim configuration and scripting. They can contain a mixture of Vimscript commands, functions, mappings, and more.

<li>
Execution: You source a <code>.vim</code> file using the :source command or by placing it in your <code>.vimrc</code> or other configuration files.

<li>
Example Usage: If you have a custom function or set of mappings, you can save them in a <code>.vim</code> file and source it:
<pre vim>
" Inside Vim
:source myscript.vim
</pre>

</ul>
<div id=".ex vs .vim files-Key Differences"><h2 id="Key Differences" class="header"><a href="#.ex vs .vim files-Key Differences">Key Differences</a></h2></div>

<div id=".ex vs .vim files-Key Differences-Context of Use:"><h3 id="Context of Use:" class="header"><a href="#.ex vs .vim files-Key Differences-Context of Use:">Context of Use:</a></h3></div>
 
<ul>
<li>
<code>.ex</code> files are intended for batch processing or scripting in Ex mode.

<li>
<code>.vim</code> files are more general-purpose and can be used for configuration, scripting, and extending Vim's functionality.

</ul>
<div id=".ex vs .vim files-Key Differences-Command Scope:"><h3 id="Command Scope:" class="header"><a href="#.ex vs .vim files-Key Differences-Command Scope:">Command Scope:</a></h3></div>

<ul>
<li>
<code>.ex</code> files mainly contain Ex commands (line-oriented commands).

<li>
<code>.vim</code> files can contain a wide range of Vimscript commands, including normal mode commands, functions, mappings, and more.

</ul>
<div id=".ex vs .vim files-Key Differences-Execution Method:"><h3 id="Execution Method:" class="header"><a href="#.ex vs .vim files-Key Differences-Execution Method:">Execution Method:</a></h3></div>

<ul>
<li>
<code>.ex</code> files are executed in Ex mode or with the -s option when starting Vim.

<li>
<code>.vim</code> files are sourced within Vim using the :source command or automatically loaded through configuration.

</ul>
<div id=".ex vs .vim files-Key Differences-Examples"><h3 id="Examples" class="header"><a href="#.ex vs .vim files-Key Differences-Examples">Examples</a></h3></div>

<ul>
<li>
<code>.ex</code> File Example (script.ex):
<pre vim>
Q
:e file1.txt
:%s/oldtext/newtext/g
:w
:e file2.txt
:%s/oldtext/newtext/g
:w
:q
</pre>

<li>
<code>.vim</code> File Example (myscript.vim):
<pre vim>
function! MyFunction()
    echo "Hello, Vim!"
endfunction

nnoremap &lt;Leader&gt;h :call MyFunction()&lt;CR&gt;
</pre>

</ul>
<p>
In summary, .ex files are great for batch processing with Ex commands, while .vim files are more versatile and used for configuration, scripting, and extending Vim's functionality.:w
</p>




<p>
<a href="vim_learning.html">Vim Learning</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
