<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>houdini_kinefx_rigging_with_apex</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="Houdini.html">Houdini</a>
</p>

<div id="KineFX - Rigging with APEX"><h1 id="KineFX - Rigging with APEX" class="header"><a href="#KineFX - Rigging with APEX">KineFX - Rigging with APEX</a></h1></div>

<div id="KineFX - Rigging with APEX-[[https://www.youtube.com/watch?v=PSJPyB7CKBM&amp;list=PLXNFA1EysfYlkgXX1I1MvTn9ZIEKeSkNh|YouTube - KineFX_Rigging_with_APEX Playlist]]"><h4 id="[[https://www.youtube.com/watch?v=PSJPyB7CKBM&amp;list=PLXNFA1EysfYlkgXX1I1MvTn9ZIEKeSkNh|YouTube - KineFX_Rigging_with_APEX Playlist]]" class="header"><a href="#KineFX - Rigging with APEX-[[https://www.youtube.com/watch?v=PSJPyB7CKBM&amp;list=PLXNFA1EysfYlkgXX1I1MvTn9ZIEKeSkNh|YouTube - KineFX_Rigging_with_APEX Playlist]]"><a href="https://www.youtube.com/watch?v=PSJPyB7CKBM&amp;list=PLXNFA1EysfYlkgXX1I1MvTn9ZIEKeSkNh">YouTube - KineFX_Rigging_with_APEX Playlist</a></a></h4></div>

<div id="KineFX - Rigging with APEX-Introduction"><h2 id="Introduction" class="header"><a href="#KineFX - Rigging with APEX-Introduction">Introduction</a></h2></div>
<div id="KineFX - Rigging with APEX-Introduction-[[https://youtu.be/PSJPyB7CKBM?si=wXNL8zvq3XWvw_to|YouTube - Introduction]]"><h4 id="[[https://youtu.be/PSJPyB7CKBM?si=wXNL8zvq3XWvw_to|YouTube - Introduction]]" class="header"><a href="#KineFX - Rigging with APEX-Introduction-[[https://youtu.be/PSJPyB7CKBM?si=wXNL8zvq3XWvw_to|YouTube - Introduction]]"><a href="https://youtu.be/PSJPyB7CKBM?si=wXNL8zvq3XWvw_to">YouTube - Introduction</a></a></h4></div>


<div id="KineFX - Rigging with APEX-Geometry Prep and Packed Folder"><h2 id="Geometry Prep and Packed Folder" class="header"><a href="#KineFX - Rigging with APEX-Geometry Prep and Packed Folder">Geometry Prep and Packed Folder</a></h2></div>
<div id="KineFX - Rigging with APEX-Geometry Prep and Packed Folder-[[https://youtu.be/EJRDINIwKTE?si=S0Ru68zRL48wKFvx|YouTube - 1 Geometry Prep and Packed Folder]]"><h4 id="[[https://youtu.be/EJRDINIwKTE?si=S0Ru68zRL48wKFvx|YouTube - 1 Geometry Prep and Packed Folder]]" class="header"><a href="#KineFX - Rigging with APEX-Geometry Prep and Packed Folder-[[https://youtu.be/EJRDINIwKTE?si=S0Ru68zRL48wKFvx|YouTube - 1 Geometry Prep and Packed Folder]]"><a href="https://youtu.be/EJRDINIwKTE?si=S0Ru68zRL48wKFvx">YouTube - 1 Geometry Prep and Packed Folder</a></a></h4></div>

<p>
To prepare objects in KineFX ready for APEX we need to collate them through a <code>Packed Folder</code> node:
</p>

<p>
In the tutorial, 3 basic things are shown being piped into the <code>Packed Folder</code>:
</p>
<ul>
<li>
MESH:

<ul>
<li>
the Mesh which has already been <code>capturepacked</code> by a skeleton

</ul>
<li>
SKEL:

<ul>
<li>
the skeleton (bones)

</ul>
<li>
GUIDES:

<ul>
<li>
in the tutorial case, this is the same as the skeleton, but can be very different:

<ul>
<li>
Look at constraints perhaps.

</ul>
</ul>
</ul>
<div id="KineFX - Rigging with APEX-Geometry Prep and Packed Folder-Diagram - Geometry and Prep for APEX"><h4 id="Diagram - Geometry and Prep for APEX" class="header"><a href="#KineFX - Rigging with APEX-Geometry Prep and Packed Folder-Diagram - Geometry and Prep for APEX">Diagram - Geometry and Prep for APEX</a></h4></div>
<pre>
                                                                       
          ┌──────┐            ┌───────────┐                            
          │ box1 │            │ skeleton1 │ one joint - root           
          └──┬───┘            └─┬─┬─┬─┬─┬─┘                            
             │                  │ │ │ │ │                              
  Name:   ┌──┴──┐               │ │ │ │ │                              
   Box    │name1│        ┌──────┘ │ │ │ └────────────────────────┐     
          └──┬──┘        │        │ │ │                          │     
             │           │        │ │ │                    ┌─────┴────┐
             │           │        │ │ │                    │ rigpose1 │
           ┌─┴───────────┴─────┐  │ │ │                    └─────┬────┘
           │ capturepackedgeo1 │  │ │ └─────────────────────┐    │     
           └──────┬──┬─────────┘  │ │                       │    │     
Capture Geo:      │  └────────────┼─┼───────────────────┐   │    │     
 @name=Box        │               │ │                   │   │    │     
Joint:            │               │ │               ┌───┴───┴────┴───┐ 
 @name=root       │               │ └───────────┐   │  jointdeform1  │ 
                  │               │             │   └────────────────┘ 
                  │               │             │                      
              ┌───┴───┐      ┌────┴──┐     ┌────┴───┐                  
              │ Null  │      │ Null  │     │  Null  │                  
              │ MESH  │      │ SKEL  │     │ GUIDES │                  
              └───┬───┘      └───┬───┘     └────┬───┘                  
                  └────────┐     │     ┌────────┘                      
                           │     │     │                               
                       ┌───┴─────┴─────┴┐                              
                       │ packedfolder1  │                              
                       └────────────────┘                              
               Base/shp       Base/skel        Guide/skel              
</pre>


<div id="KineFX - Rigging with APEX-Geometry Prep and Packed Folder-Names"><h3 id="Names" class="header"><a href="#KineFX - Rigging with APEX-Geometry Prep and Packed Folder-Names">Names</a></h3></div>

<p>
You can 'name' things as you wish, but there are some defaults that work well with various APEX tools:
</p>
<ul>
<li>
Name <code>Base</code> Type <code>shp</code>

<li>
Name <code>Base</code> Type <code>skel</code>

<li>
Name <code>Guides</code> Type <code>skel</code>

</ul>
<div id="KineFX - Rigging with APEX-Geometry Prep and Packed Folder-Rig Tree"><h3 id="Rig Tree" class="header"><a href="#KineFX - Rigging with APEX-Geometry Prep and Packed Folder-Rig Tree">Rig Tree</a></h3></div>

<p>
The <code>Rig Tree</code> pane is useful for viewing the skeleton hierarchy.
</p>

<div id="KineFX - Rigging with APEX-Minimal Workflow - (FK) Setup"><h2 id="Minimal Workflow - (FK) Setup" class="header"><a href="#KineFX - Rigging with APEX-Minimal Workflow - (FK) Setup">Minimal Workflow - (FK) Setup</a></h2></div>
<div id="KineFX - Rigging with APEX-Minimal Workflow - (FK) Setup-[[https://youtu.be/ZDl13wgHF5U?si=npBjYV3d89QKvmH1|YouTube - 2 Minimal Workflow - FK Setup]]"><h4 id="[[https://youtu.be/ZDl13wgHF5U?si=npBjYV3d89QKvmH1|YouTube - 2 Minimal Workflow - FK Setup]]" class="header"><a href="#KineFX - Rigging with APEX-Minimal Workflow - (FK) Setup-[[https://youtu.be/ZDl13wgHF5U?si=npBjYV3d89QKvmH1|YouTube - 2 Minimal Workflow - FK Setup]]"><a href="https://youtu.be/ZDl13wgHF5U?si=npBjYV3d89QKvmH1">YouTube - 2 Minimal Workflow - FK Setup</a></a></h4></div>


<p>
Apparently, the <code>logic</code> and <code>execution</code> of the APEX rig, is separated, resulting in a very efficient system without the lag from performing logic and execution simultaneously. (Ik or Fk logic can be separated for example.)
</p>

<p>
The <code>Packed Folder</code> is the basis for this organization - clearly defining all the components to process.
</p>

<p>
In the network illustrated above, the <code>jointdeform</code> is used to point out that it is performing rig logic and rig execution at the same time - the APEX doesn't work like this.
</p>

<div id="KineFX - Rigging with APEX-Minimal Workflow - (FK) Setup-APEX Autorig Component"><h3 id="APEX Autorig Component" class="header"><a href="#KineFX - Rigging with APEX-Minimal Workflow - (FK) Setup-APEX Autorig Component">APEX Autorig Component</a></h3></div>

<p>
The tutorial introduces the <code>APEX Autorig Component</code> node, and it is the initiation of the APEX setup.
</p>

<p>
It has two inputs:
</p>
<ul>
<li>
Input from <code>Packed Folder</code> node

<li>
Graph or Script input (optional - as there are 'build-in' options from the <code>Component Source</code> dropdown).

</ul>
<div id="KineFX - Rigging with APEX-FK Transform"><h2 id="FK Transform" class="header"><a href="#KineFX - Rigging with APEX-FK Transform">FK Transform</a></h2></div>

<p>
The tutorial adds an <code>APEX Autorig Component</code> node, and chooses <code>fktransform</code> as the <code>Component Source</code>
</p>

<p>
The first thing that happens is that everything disappears from the Viewport. This will be the state until part 3.
</p>

<p>
Another thing to observe, that if we look at the <code>Rig Tree</code> viewer panel, we'll see a new item called <code>Base.rig</code>. This is the default name supplied in the <code>APEX Autorig Component</code> node's <code>Rig</code> section.
</p>

<div id="KineFX - Rigging with APEX-FK Transform-Graphs"><h3 id="Graphs" class="header"><a href="#KineFX - Rigging with APEX-FK Transform-Graphs">Graphs</a></h3></div>

<p>
There is a side piece of the tutorial, that shows what a 'script' is. It's a graph (much like a shader tree or VOPs graph), but it is saved as geometry.
</p>

<p>
These scripts or graphs are what define the rig logic.
</p>

<p>
You can actually see the geometry that's referenced if you use a 'built-in' graph option (like <code>fktransform</code> in the Autorig Component; it's a path reference to a <code>.bgeo</code> file - which is pure geometry.
</p>

<p>
The geometry format is purely for convenience however, the nodes are stored as points, and the attributes are stored in the same way that geometry attributes are stored.
</p>

<div id="KineFX - Rigging with APEX-FK Transform-Reading the Graphs"><h3 id="Reading the Graphs" class="header"><a href="#KineFX - Rigging with APEX-FK Transform-Reading the Graphs">Reading the Graphs</a></h3></div>

<p>
To see what the graphs <em>really</em> represent, view through the <code>APEX Network View</code> (another Houdini panel, dedicated to the APEX graphs).
</p>

<p>
The will be a familiar layout - again, much like VOPs or shader networks.
</p>

<div id="KineFX - Rigging with APEX-Minimal Workflow - Deform Geometry"><h2 id="Minimal Workflow - Deform Geometry" class="header"><a href="#KineFX - Rigging with APEX-Minimal Workflow - Deform Geometry">Minimal Workflow - Deform Geometry</a></h2></div>
<div id="KineFX - Rigging with APEX-Minimal Workflow - Deform Geometry-[[https://youtu.be/6y4HoYIIOBI?si=U135NThM3w1DbxXl|YouTube - 3 Minimal Workflow - Deform Geometry]]"><h4 id="[[https://youtu.be/6y4HoYIIOBI?si=U135NThM3w1DbxXl|YouTube - 3 Minimal Workflow - Deform Geometry]]" class="header"><a href="#KineFX - Rigging with APEX-Minimal Workflow - Deform Geometry-[[https://youtu.be/6y4HoYIIOBI?si=U135NThM3w1DbxXl|YouTube - 3 Minimal Workflow - Deform Geometry]]"><a href="https://youtu.be/6y4HoYIIOBI?si=U135NThM3w1DbxXl">YouTube - 3 Minimal Workflow - Deform Geometry</a></a></h4></div>

<p>
In part 2, we saw that as soon as the <code>Autorig Component</code> was hooked in, our geo disappeared from the Viewport.
</p>

<p>
The reason is that the <code>APEX Autorig Component</code> is only defining logic. We need another process to define the geometry component.
</p>

<p>
Another <code>APEX Autorig Component</code> is added to achieve this:
</p>
<ul>
<li>
<code>Component</code> is set to:

<ul>
<li>
<code>bonedeform</code>

</ul>
</ul>
<div id="KineFX - Rigging with APEX-Minimal Workflow - Deform Geometry-Different Settings for Different Component Choices"><h3 id="Different Settings for Different Component Choices" class="header"><a href="#KineFX - Rigging with APEX-Minimal Workflow - Deform Geometry-Different Settings for Different Component Choices">Different Settings for Different Component Choices</a></h3></div>

<p>
Depending on the Component you choose, you'll get different options and controls.
</p>

<p>
I the <code>fxtransform</code> we are shown things like the <code>Controls</code> tab where we can set tpromote, rpromotegroup and spromotegroup. The tutorial shows asterisks added, and this results in little handles or gnomons appearing.
</p>

<div id="KineFX - Rigging with APEX-Minimal Workflow - Controls"><h2 id="Minimal Workflow - Controls" class="header"><a href="#KineFX - Rigging with APEX-Minimal Workflow - Controls">Minimal Workflow - Controls</a></h2></div>
<div id="KineFX - Rigging with APEX-Minimal Workflow - Controls-[[https://youtu.be/brHqnkHFtwM?si=M2qw4JEU6PIVKofM|YouTube - 4 Minimal Workflow - Controls]]"><h4 id="[[https://youtu.be/brHqnkHFtwM?si=M2qw4JEU6PIVKofM|YouTube - 4 Minimal Workflow - Controls]]" class="header"><a href="#KineFX - Rigging with APEX-Minimal Workflow - Controls-[[https://youtu.be/brHqnkHFtwM?si=M2qw4JEU6PIVKofM|YouTube - 4 Minimal Workflow - Controls]]"><a href="https://youtu.be/brHqnkHFtwM?si=M2qw4JEU6PIVKofM">YouTube - 4 Minimal Workflow - Controls</a></a></h4></div>

<div id="KineFX - Rigging with APEX-Minimal Workflow - Controls-Controls"><h3 id="Controls" class="header"><a href="#KineFX - Rigging with APEX-Minimal Workflow - Controls-Controls">Controls</a></h3></div>

<p>
Continuing on from the second <code>APEX Autorig Component</code>, an <code>APEX Configure Controls</code> node is dropped.
</p>

<p>
We are introduced to the settings, whereby 'control' icons can be configured.
</p>
<ul>
<li>
<code>Control Config</code>:

<ul>
<li>
<code>^* root</code> is the string entered ('not everything' and 'root', resulting in the 'root' being considered).

</ul>
<li>
<code>Use Shape Override</code>:

<ul>
<li>
<code>Shape Override</code> is set to <code>circle_wires</code>, although there are many options in the dropdown.

</ul>
<li>
<code>Use Shapeoffset</code>:

<ul>
<li>
Mode is set to <code>Pre-Multiply</code>:

<ul>
<li>
Translate is zero

<li>
Rotate is 90, 0, 0

<li>
Scale is 15, 15, 15

</ul>
</ul>
<li>
There are several other settings (like Color and Visibility)

<li>
<code>Use Limits</code>:

<ul>
<li>
To set transform limits on the rig controls

<li>
You set the parm name and then the limit values.

</ul>
</ul>
 
<p>
All this provides a control icon for the 'root' bone of the rig.
</p>

<div id="KineFX - Rigging with APEX-Minimal Workflow - Controls-Unpack Folder (for viewing)"><h3 id="Unpack Folder (for viewing)" class="header"><a href="#KineFX - Rigging with APEX-Minimal Workflow - Controls-Unpack Folder (for viewing)">Unpack Folder (for viewing)</a></h3></div>

<p>
There is a brief aside, where an <code>Unpack Folder</code> is used (Forked from the chain, not part of the setup) to unpack the <code>[[/Base.rig]]</code> component (and now the <code>Rig Tree</code> shows a warning for this node, as the rig is now unpacked to a graph), and an <code>Edit Graph</code> node is dropped after it to see the <code>APEX Network View</code> pane. This allows the user editing of the graph.
</p>

<p>
When we add the controls with the <code>APEX Configure Controls</code> node, you can see the attributes changed using the Geometry Spreadsheet while inspecting the <code>Unpacked Folder</code> node.
</p>

<div id="SUPER TIP"><h1 id="SUPER TIP" class="header"><a href="#SUPER TIP">SUPER TIP</a></h1></div>

<table>
<tr>
<td>
'RMB' clicking on a Geometry Spreadsheet cell allows you to pick 'Inspect...' to see a json view of the cell's contents.
</td>
</tr>
</table>

<p>
In our case, the tutorial views the json representation of the controller settings, and we can see all the components of the circle-wire control icon (as defined in our <code>APEX Configure Controls</code> node.
<br>
</p>

<div id="SUPER TIP-ROP Geometry"><h3 id="ROP Geometry" class="header"><a href="#SUPER TIP-ROP Geometry">ROP Geometry</a></h3></div>

<p>
The finished rig and geometry can be saved out as an asset using a <code>ROP Geometry</code> node, through which, the geo can be saved as a <code>.bgeo</code> or <code>.bgeo.sc</code> file (the 'sc' being a compressed version).
</p>

<p>
These saved assets can be brought in again using a <code>File</code> node, and fed into a <code>Scene Add Character</code> node, and then into a <code>Scene Animate</code> node.
</p>



<p>
<a href="Houdini.html">Houdini</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
