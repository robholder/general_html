<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<title>usd_houdini_solaris</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">index</a>
</p>

<p>
<a href="Houdini.html">Houdini</a>
</p>


<div id="USD in Solaris"><h2 id="USD in Solaris" class="header"><a href="#USD in Solaris">USD in Solaris</a></h2></div>

<p>
PDF:
</p>
<div id="USD in Solaris-https://media.sidefx.com/files/tutorials/usd-basics-with-solaris/USD_Basics_Reference.pdf"><h4 id="https://media.sidefx.com/files/tutorials/usd-basics-with-solaris/USD_Basics_Reference.pdf" class="header"><a href="#USD in Solaris-https://media.sidefx.com/files/tutorials/usd-basics-with-solaris/USD_Basics_Reference.pdf"><a href="https://media.sidefx.com/files/tutorials/usd-basics-with-solaris/USD_Basics_Reference.pdf">https://media.sidefx.com/files/tutorials/usd-basics-with-solaris/USD_Basics_Reference.pdf</a></a></h4></div>
<p>
Video:
</p>
<div id="USD in Solaris-https://www.youtube.com/watch?v=hBYSHFRnFlo&amp;t=7s"><h4 id="https://www.youtube.com/watch?v=hBYSHFRnFlo&amp;t=7s" class="header"><a href="#USD in Solaris-https://www.youtube.com/watch?v=hBYSHFRnFlo&amp;t=7s"><a href="https://www.youtube.com/watch?v=hBYSHFRnFlo&amp;t=7s">https://www.youtube.com/watch?v=hBYSHFRnFlo&amp;t=7s</a></a></h4></div>

<p>
Good Supplementary Video:
</p>
<div id="USD in Solaris-https://www.youtube.com/watch?v=cE-Bbdspu_8"><h4 id="https://www.youtube.com/watch?v=cE-Bbdspu_8" class="header"><a href="#USD in Solaris-https://www.youtube.com/watch?v=cE-Bbdspu_8"><a href="https://www.youtube.com/watch?v=cE-Bbdspu_8">https://www.youtube.com/watch?v=cE-Bbdspu_8</a></a></h4></div>

<div id="USD in Solaris-Terminology"><h3 id="Terminology" class="header"><a href="#USD in Solaris-Terminology">Terminology</a></h3></div>

<ul>
<li>
Solaris:

<ul>
<li>
Umbrella term - USD tools in Houdini 

</ul>
<li>
Stage:

<ul>
<li>
Context in Houdini

</ul>
<li>
LOPs:

<ul>
<li>
Lighting Nodes (Operators)

</ul>
</ul>
<div id="USD in Solaris-Solaris"><h3 id="Solaris" class="header"><a href="#USD in Solaris-Solaris">Solaris</a></h3></div>

<ul>
<li>
Scene building tool

<li>
Render through Hydra delegates:

<ul>
<li>
Karma

<li>
Arnold

<li>
Redshift

<li>
Vray

</ul>
</ul>
<div id="USD in Solaris-USD"><h3 id="USD" class="header"><a href="#USD in Solaris-USD">USD</a></h3></div>

<p>
<code>Universal Scene Description</code>
</p>

<ul>
<li>
Scene Descriptoins Format

<li>
Interchange File Format

<li>
Software Platform

</ul>
<div id="USD in Solaris-USD Primitive"><h3 id="USD Primitive" class="header"><a href="#USD in Solaris-USD Primitive">USD Primitive</a></h3></div>

<ul>
<li>
Lights

<li>
Geometry

<li>
Cameras

<li>
Shaders

<li>
Render Settings

</ul>
<p>
'Things' in a scene. Almost everything is a primitive in USD.
</p>

<div id="USD in Solaris-Docs"><h3 id="Docs" class="header"><a href="#USD in Solaris-Docs">Docs</a></h3></div>

<ul>
<li>
Documentation is provided by Pixar.

<li>
SideFX has:

<ul>
<li>
USD Glossary online

<li>
Talks &amp; Webinars

<li>
Solaris Tutorials

</ul>
</ul>
<div id="USD in Solaris-USD Import/Export SOP"><h3 id="USD Import/Export SOP" class="header"><a href="#USD in Solaris-USD Import/Export SOP">USD Import/Export SOP</a></h3></div>

<ul>
<li>
Three main file types for usd files from Houdini:

<ul>
<li>
<code>.usd</code> &lt;-- ascii or binary

<li>
<code>.usda</code> &lt;-- ascii

<li>
<code>.usdc</code> &lt;-- binary

<li>
<code>usdnc</code> &lt;-- not really normal; Houdini Apprentice file.

</ul>
</ul>
<div id="USD in Solaris-USD Files"><h3 id="USD Files" class="header"><a href="#USD in Solaris-USD Files">USD Files</a></h3></div>

<p>
USD files <span id="USD in Solaris-USD Files-define the scene."></span><strong id="define the scene.">define the scene.</strong>
</p>

<p>
The files can share data between DCCs (Digital Content Creation packages):
</p>
<ul>
<li>
Geometry

<li>
Lighting

<li>
Shaders:

<ul>
<li>
Normally tailored to specific renders, but can be 'packaged' in usd

</ul>
<li>
Render Settings

</ul>
<div id="USD in Solaris-Scene Graph Layout (Houdini)"><h3 id="Scene Graph Layout (Houdini)" class="header"><a href="#USD in Solaris-Scene Graph Layout (Houdini)">Scene Graph Layout (Houdini)</a></h3></div>

<p>
Switch to Houdini's 'Solaris' desktop layout (drop-down menu).
</p>

<div id="USD in Solaris-Scene Graph Tree Panel"><h3 id="Scene Graph Tree Panel" class="header"><a href="#USD in Solaris-Scene Graph Tree Panel">Scene Graph Tree Panel</a></h3></div>

<p>
The Scene Graph Tree shows a hierarchy of 'prims' (items) in the scene, with columns to allow for:
</p>
<ul>
<li>
Scene Graph Path (outliner style)

<li>
Prim type

<li>
Descendant count

<li>
Kind

<li>
Toggles:

<ul>
<li>
P

<li>
L

<li>
On/Off (power symbol)

<li>
Visibility (eye)

<li>
Solo (star)

<li>
Selectibility (cursor arrow)

</ul>
</ul>
 
<p>
The color codings can be displayed in the Scene Graph Tree panel and the Scene Graph Details panel (button on right: square with question mark).
</p>

<div id="USD in Solaris-Scene Graph Details Panel"><h3 id="Scene Graph Details Panel" class="header"><a href="#USD in Solaris-Scene Graph Details Panel">Scene Graph Details Panel</a></h3></div>

<p>
Shows properties of selected prims. Properties can be shown in the same panel (right).
</p>

<p>
Color-code text for more indications of status. The color codings can be displayed in the Scene Graph Tree panel and the Scene Graph Details panel (button on right: square with question mark).
</p>

<p>
There are different layouts available via buttons along the top of the panel:
</p>
<ul>
<li>
Column

<li>
Spreadsheet

</ul>
<div id="USD in Solaris-Primitive Terms"><h3 id="Primitive Terms" class="header"><a href="#USD in Solaris-Primitive Terms">Primitive Terms</a></h3></div>

<ul>
<li>
Leaf:

<ul>
<li>
Describes a position:

<li>
End of brash.

<li>
doesn't have a 'child' prim

</ul>
<li>
Types:

<ul>
<li>
Defines what a primitive <span id="USD in Solaris-Primitive Terms-is"></span><strong id="is">is</strong>

<li>
Examples:

<ul>
<li>
Xform:

<ul>
<li>
like a null - can be moved as a parent container

</ul>
<li>
Scope:

<ul>
<li>
A parent, but with no transform functionality

</ul>
<li>
Mesh (Sphere, Cone, Cube, etc.)

<li>
Light (Dome, Disk, Point, etc.)

<li>
OpenVDB

<li>
Render Settings

<li>
Point Instancer

</ul>
</ul>
<li>
Kind:

<ul>
<li>
Defines hierarchy on primitives

<li>
Examples:

<ul>
<li>
Assembly: usually a published asset or reference

<li>
Group:

<li>
Component: cannot contain groups or assemblies

<li>
Subcomponent: prim inside a component

</ul>
</ul>
</ul>
<div id="USD in Solaris-Primitive Terms-Examples"><h4 id="Examples" class="header"><a href="#USD in Solaris-Primitive Terms-Examples">Examples</a></h4></div>

<p>
Example hierarchy:
</p>
<pre>
/Models &lt;-- group
    /Characters &lt;-- group
        /Lady &lt;-- assembly
            /Skin &lt;-- component
                /mesh
            /Purse &lt;-- component
                /mesh
        /Dog &lt;-- assembly
            /Skin &lt;-- component
                /mesh
            /Collar &lt;-- component
                /mesh
        /Props &lt;-- group
        ...
</pre>

<div id="USD in Solaris-Color Meanings"><h3 id="Color Meanings" class="header"><a href="#USD in Solaris-Color Meanings">Color Meanings</a></h3></div>

<p>
The color codings can be displayed in the Scene Graph Tree panel and the Scene Graph Details panel (button on right: square with question mark).
</p>

<div id="USD in Solaris-Viewport Manipulation"><h3 id="Viewport Manipulation" class="header"><a href="#USD in Solaris-Viewport Manipulation">Viewport Manipulation</a></h3></div>

<ul>
<li>
Selection types:

<ul>
<li>
Button/icons at top of viewport

<li>
Drop-down menu to isolate types for selection (including transform only components of prim)

</ul>
<li>
Transforms in viewport get stored in:

<ul>
<li>
'edit' node for geo

<li>
lightmixer node for lights

<li>
edit_cam for cameras

</ul>
</ul>
<p>
Right side of viewport - toggles to visualize
</p>


<div id="Collections &amp; Selection Sets"><h1 id="Collections &amp; Selection Sets" class="header"><a href="#Collections &amp; Selection Sets">Collections &amp; Selection Sets</a></h1></div>

<div id="Collections &amp; Selection Sets-Collections (Exported with USD)"><h3 id="Collections (Exported with USD)" class="header"><a href="#Collections &amp; Selection Sets-Collections (Exported with USD)">Collections (Exported with USD)</a></h3></div>
<div id="Collections &amp; Selection Sets-Collections (Exported with USD)-Network Editor 'Collection' Node"><h4 id="Network Editor 'Collection' Node" class="header"><a href="#Collections &amp; Selection Sets-Collections (Exported with USD)-Network Editor 'Collection' Node">Network Editor 'Collection' Node</a></h4></div>

<ul>
<li>
In the Network Editor, TAB&gt;Collection to create a 'Collection' node.

<li>
Add paths/patterns and name the collection:

<ul>
<li>
Paste paths into text panel (manually or <code>RMB</code> copied from lists)

<li>
OR

<li>
<code>LMB</code> white arrow icon next to text field and click items in the viewport (and hit <code>&lt;enter&gt;</code>)

<li>
<code>&lt;cntl&gt; LMB</code> to get outliner-style picker panel:

<ul>
<li>
<code>&lt;cntl&gt; LMB</code> to multi-select

</ul>
<li>
OR

<li>
<code>LMB drag</code> to Drag &amp; drop items from the Scene Graph Tree list to the text field in the collections parameter field

</ul>
</ul>
<p>
Collection item is added to the Collections path list in the Scene Graph Panel:
</p>
<ul>
<li>
These collections will only show up IF the collection node is in the stream of the data:

<ul>
<li>
So a fork of two collection nodes; only one will show up if they diverge from the stream)

<li>
Connect collection nodes in series and their collection definitions will show up.

</ul>
</ul>
<div id="Collections &amp; Selection Sets-Selections (NOT exported with USD)"><h3 id="Selections (NOT exported with USD)" class="header"><a href="#Collections &amp; Selection Sets-Selections (NOT exported with USD)">Selections (NOT exported with USD)</a></h3></div>
<div id="Collections &amp; Selection Sets-Selections (NOT exported with USD)-Selection Rule"><h4 id="Selection Rule" class="header"><a href="#Collections &amp; Selection Sets-Selections (NOT exported with USD)-Selection Rule">Selection Rule</a></h4></div>

<p>
Magnifier icon on the Scene Graph Tree panel.
</p>
<ul>
<li>
Enter search pattern:

<ul>
<li>
Example: /toy circle/*

<li>
Copy paths of prims (<code>RMB</code> on items):

<ul>
<li>
Paste into search pattern box

</ul>
<li>
Select items in viewport:

<ul>
<li>
Click big down arrow icon to create set from selection

</ul>
</ul>
</ul>
<p>
Clicking on the 'rule' select toggle (panel) will select pattern matches.
</p>


<div id="Collections &amp; Selection Sets-Using Collections"><h3 id="Using Collections" class="header"><a href="#Collections &amp; Selection Sets-Using Collections">Using Collections</a></h3></div>

<p>
You can use the prim collection to isolate the influence of nodes using the <code>%&lt;collection&gt;</code> syntax.
</p>

<p>
For example:
</p>
<ul>
<li>
Transform node

<li>
Prims field --&gt; add <code>%&lt;collection_name&gt;</code>:

<ul>
<li>
This allows the transform node to only influence prims in the collection

<li>
The <code>%</code> syntax uses the collection name (you don't need the path or hierarchy; just the collection name)

</ul>
</ul>
<div id="Collections &amp; Selection Sets-Primitive Matching Patterns"><h3 id="Primitive Matching Patterns" class="header"><a href="#Collections &amp; Selection Sets-Primitive Matching Patterns">Primitive Matching Patterns</a></h3></div>

<div id="Collections &amp; Selection Sets-Primitive Matching Patterns-https://www.sidefx.com/docs/houdini/solaris/pattern.html"><h4 id="https://www.sidefx.com/docs/houdini/solaris/pattern.html" class="header"><a href="#Collections &amp; Selection Sets-Primitive Matching Patterns-https://www.sidefx.com/docs/houdini/solaris/pattern.html"><a href="https://www.sidefx.com/docs/houdini/solaris/pattern.html">https://www.sidefx.com/docs/houdini/solaris/pattern.html</a></a></h4></div>

<p>
Search pattern matching for primitives in the 'Primitives' field:
</p>
<ul>
<li>
<code>%kind:components</code> &lt;-- find component kinds<br>

<li>
<code>%reference:/sources/pig</code> &lt;-- find prims that reference 'sources/pig' item<br>

<li>
<code>%keeprandom(/geo_circle/*, fraction=0.5 seed=0.3)</code> &lt;-- randomize selection from prims under /geo/circle, select half of them, and use a seed of 0.3<br>

<li>
<code>%keeprandom(/geo_circle/*, fraction=0.5 seed=0.3) - %reference:/sources/tommy</code> &lt;-- randomize selection from prims under /geo/circle, select half of them, and use a seed of 0.3, but NOT reference objects from '/sources/tommy'<br>

<li>
<code>%keeprandom(/geo_circle/*, fraction=0.5 seed=0.3) + %reference:/sources/tommy</code> &lt;-- randomize selection from prims under /geo/circle, select half of them, and use a seed of 0.3, AND all reference objects from '/sources/tommy'<br>

<li>
<code>%keeprandom(/geo_circle/*, fraction=0.5 seed=0.3) &amp; %reference:/sources/tommy</code> &lt;-- randomize selection from prims under /geo/circle, select half of them, and use a seed of 0.3, but only keep random objects if they are in '/sources/tommy'<br>

</ul>
<div id="Collections &amp; Selection Sets-Scene Import"><h3 id="Scene Import" class="header"><a href="#Collections &amp; Selection Sets-Scene Import">Scene Import</a></h3></div>

<ul>
<li>
<code>&lt;tab&gt;  scene_import_all</code> (or one of the other preset import nodes):

<ul>
<li>
'Destination' &lt;-- stage area (<code>/</code> is the root of the stage)<br>

<li>
'Root Object' &lt;-- root of imported items (<code>/obj</code> is all from the '/obj' root)<br>

<li>
'Objects' &lt;-- pattern to match items<br>

</ul>
</ul>
<p>
There are many options to choose what to import - for example:
</p>
<ul>
<li>
You can filter prim types via a drop-down menu:

<ul>
<li>
All Object Types

<li>
Lights

<li>
Cameras

<li>
Geometry Objects

</ul>
</ul>
<p>
Alternatively, you can use the 'Objects' field (and use the pick icon tool) to set actual objects:
</p>
<ul>
<li>
<code>/obj/point_light1 /obj/spotLight /obj/my_cam</code>

</ul>
<p>
There are many other settings, one of the important ones being:
</p>
<ul>
<li>
Import materials checkbox

</ul>
<div id="Collections &amp; Selection Sets-Sorting prims via imports"><h3 id="Sorting prims via imports" class="header"><a href="#Collections &amp; Selection Sets-Sorting prims via imports">Sorting prims via imports</a></h3></div>
<p>
Strategy to sort into categories (which appear as 'xform' types) in the prims hierarchy:
</p>
<ul>
<li>
'Destination' <code>/Lights</code> for light prims

<li>
'Destination' <code>/Cameras</code> for camera prims

<li>
'Destination' <code>/Geo</code> for geometry prims

</ul>
<div id="Collections &amp; Selection Sets-SOP Import"><h3 id="SOP Import" class="header"><a href="#Collections &amp; Selection Sets-SOP Import">SOP Import</a></h3></div>

<p>
Alternative way to import stuff to the stage: The SOP Import node
</p>


<ul>
<li>
SOP Path &lt;-- field to enter paths to items from the obj context

<li>
Import Path Prefix &lt;-- allows for hierarchy entry on import:

<ul>
<li>
<code>/$OS</code> &lt;-- will use the name of the SOP Import node as a prim parent

<li>
<code>/geometry/$OS</code> &lt;-- will use 'geometry/&lt;sop_import&gt;'

</ul>
</ul>
<div id="Collections &amp; Selection Sets-SOP Create"><h3 id="SOP Create" class="header"><a href="#Collections &amp; Selection Sets-SOP Create">SOP Create</a></h3></div>

<p>
Create geometry directly in the Stage.<br>
</p>

<ul>
<li>
Create inside - just like a geo node

<li>
Can add <code>name</code> node attributes

<li>
Will be imported to the stage, using the <code>/$OS</code> (by default) as parent, then <code>name</code> attributes as child prims

</ul>
<p>
The SOP Create node is similar to the SOP Import node, but has more options:<br>
For example:
</p>
<ul>
<li>
Transforms

<li>
Material import

</ul>
<div id="Collections &amp; Selection Sets-Writing USD to Disk"><h2 id="Writing USD to Disk" class="header"><a href="#Collections &amp; Selection Sets-Writing USD to Disk">Writing USD to Disk</a></h2></div>

<div id="Collections &amp; Selection Sets-Writing USD to Disk-USD ROPs"><h3 id="USD ROPs" class="header"><a href="#Collections &amp; Selection Sets-Writing USD to Disk-USD ROPs">USD ROPs</a></h3></div>
 
<ul>
<li>
Write out using <code>USD ROP</code> nodes.

<li>
Output File field &lt;-- where to save and under what name

</ul>
<div id="Collections &amp; Selection Sets-Import and Render with Karma"><h2 id="Import and Render with Karma" class="header"><a href="#Collections &amp; Selection Sets-Import and Render with Karma">Import and Render with Karma</a></h2></div>

<p>
Create Karma nodes:
</p>
<ul>
<li>
<code>&lt;tab&gt;</code> 'karma' node:

<ul>
<li>
drops 2 nodes:

<ul>
<li>
<code>KarmaRenderSettings</code>

<li>
<code>usdrender_rop</code>

</ul>
</ul>
</ul>
<p>
Karma Render Settings can control the viewport interactive renders (if chosen under viewport dropdown).
</p>






<p>
<br>
</p>


<p>
<a href="Houdini.html">Houdini</a>
</p>

<p>
<a href="index.html">index</a>
</p>

</body>
</html>
